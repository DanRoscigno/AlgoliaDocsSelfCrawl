<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-en/operations/settings/settings">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Core Settings | ClickHouse Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/img/logo.png"><meta data-rh="true" property="og:url" content="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/operations/settings/settings"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Core Settings | ClickHouse Docs"><meta data-rh="true" name="description" content="additionaltablefilters"><meta data-rh="true" property="og:description" content="additionaltablefilters"><link data-rh="true" rel="icon" href="/AlgoliaDocsSelfCrawl/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/operations/settings/settings"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/operations/settings/settings" hreflang="en"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/operations/settings/settings" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://62VCH2MD74-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KF1LLRTQ5Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KF1LLRTQ5Q",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ClickHouse Docs" href="/AlgoliaDocsSelfCrawl/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/docs/js/analytics.js"></script><link rel="stylesheet" href="/AlgoliaDocsSelfCrawl/assets/css/styles.1fe1f09b.css">
<link rel="preload" href="/AlgoliaDocsSelfCrawl/assets/js/runtime~main.be802059.js" as="script">
<link rel="preload" href="/AlgoliaDocsSelfCrawl/assets/js/main.b00bfaaf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse" class="themedImage_ToTc themedImage--light_HNdA"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">ClickHouse</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Product</a><ul class="dropdown__menu"><li><a href="https://clickhouse.com/cloud" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Cloud</a></li><li><a href="https://clickhouse.com/clickhouse" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Open Source</a></li></ul></div><a href="https://clickhouse.com/customer-stories" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link ch-menu">Use Cases</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Company</a><ul class="dropdown__menu"><li><a href="https://clickhouse.com/blog" target="_blank" rel="noopener noreferrer" class="dropdown__link">Blog</a></li><li><a href="https://clickhouse.com/company/our-story" target="_blank" rel="noopener noreferrer" class="dropdown__link">Our story</a></li><li><a href="https://clickhouse.com/company/careers" target="_blank" rel="noopener noreferrer" class="dropdown__link">Careers</a></li><li><a href="https://clickhouse.com/company/contact" target="_blank" rel="noopener noreferrer" class="dropdown__link">Contact us</a></li><li><a href="https://clickhouse.com/company/news-events" target="_blank" rel="noopener noreferrer" class="dropdown__link">News and events</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Learn</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/AlgoliaDocsSelfCrawl/en/intro">Docs</a></li><li><a href="https://clickhouse.com/learn" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Academy</a></li></ul></div><a href="https://clickhouse.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link ch-menu">Pricing</a></div><div class="navbar__items navbar__items--right"><a href="https://clickhouse.cloud/signUp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-signup-button">Try for Free<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Language</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/AlgoliaDocsSelfCrawl/en/intro">English</a></li><li><a class="dropdown__link" href="/AlgoliaDocsSelfCrawl/ru">Russian</a></li><li><a class="dropdown__link" href="/AlgoliaDocsSelfCrawl/zh">Chinese</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AlgoliaDocsSelfCrawl/en/intro">What is ClickHouse?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/AlgoliaDocsSelfCrawl/en/about-us/cloud">About Us</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/cloud">Cloud Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/support">Cloud Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/history">ClickHouse History</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/distinctive-features">Distinctive Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/adopters">Adopters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/performance">Performance</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/AlgoliaDocsSelfCrawl/en/quick-start">Get Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Get Started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/quick-start">Cloud Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/get-started/sql-console/opening">SQL console</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/getting-started/example-datasets/">Tutorials and Datasets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials and Datasets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/intro">Integrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/install">Install</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/cloud/overview">Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/integrations/connect-a-client">Connect a Client</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connect a Client&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/integrations/data-ingestion">Ingest</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ingest&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/integrations/data-visualization">Visualize</a><button aria-label="Toggle the collapsible sidebar category &#x27;Visualize&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/integrations/migration/">Migrate</a><button aria-label="Toggle the collapsible sidebar category &#x27;Migrate&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/optimize">Optimize</a><button aria-label="Toggle the collapsible sidebar category &#x27;Optimize&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/AlgoliaDocsSelfCrawl/en/manage">Manage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/backup">Backup and Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/update">Self-managed Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/manage/replication-and-sharding">Replication and Sharding</a><button aria-label="Toggle the collapsible sidebar category &#x27;Replication and Sharding&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/manage/users">Users</a><button aria-label="Toggle the collapsible sidebar category &#x27;Users&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/manage/security">Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/storing-data">External Disks for Storing Data</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/manage/configuration">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/configuration-files">Configuration Files</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/">Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/">Settings Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/settings">Core Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/formats">Format Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/permissions-for-queries">Permissions for Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/query-complexity">Restrictions on Query Complexity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/settings-profiles">Settings Profiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/constraints-on-settings">Constraints on Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/settings-users">User Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/memory-overcommit">Memory overcommit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings">MergeTree tables settings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/">System Tables</a><button aria-label="Toggle the collapsible sidebar category &#x27;System Tables&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/">Server Configuration Parameters</a><button aria-label="Toggle the collapsible sidebar category &#x27;Server Configuration Parameters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/operations/utilities/">Utilities</a><button aria-label="Toggle the collapsible sidebar category &#x27;Utilities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/analyze">SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/development">Contribute</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contribute&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/whats-new">What&#x27;s New</a><button aria-label="Toggle the collapsible sidebar category &#x27;What&#x27;s New&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/AlgoliaDocsSelfCrawl/en/manage"><span itemprop="name">Manage</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/AlgoliaDocsSelfCrawl/en/manage/configuration"><span itemprop="name">Configuration</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/AlgoliaDocsSelfCrawl/en/operations/settings/"><span itemprop="name">Settings</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Core Settings</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Core Settings</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional_table_filters">additional_table_filters<a href="#additional_table_filters" class="hash-link" aria-label="Direct link to additional_table_filters" title="Direct link to additional_table_filters">​</a></h2><p>An additional filter expression that is applied after reading
from the specified table.</p><p>Default value: 0.</p><p><strong>Example</strong></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">into</span><span class="token plain"> table_1 </span><span class="token keyword" style="color:rgb(0, 0, 255)">values</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bb&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ccc&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;dddd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-response codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-response codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─x─┬─y────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 1 │ a    │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 2 │ bb   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 3 │ ccc  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 4 │ dddd │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┴──────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> table_1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS additional_table_filters </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;table_1&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;x != 2&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-response codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-response codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─x─┬─y────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 1 │ a    │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 3 │ ccc  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 4 │ dddd │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┴──────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow_nondeterministic_mutations">allow_nondeterministic_mutations<a href="#allow_nondeterministic_mutations" class="hash-link" aria-label="Direct link to allow_nondeterministic_mutations" title="Direct link to allow_nondeterministic_mutations">​</a></h2><p>User-level setting that allows mutations on replicated tables to make use of non-deterministic functions such as <code>dictGet</code>.</p><p>Given that, for example, dictionaries, can be out of sync across nodes, mutations that pull values from them are disallowed on replicated tables by default. Enabling this setting allows this behavior, making it the user&#x27;s responsibility to ensure that the data used is in sync across all nodes.</p><p>Default value: 0.</p><p><strong>Example</strong></p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">profiles</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">default</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">allow_nondeterministic_mutations</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">allow_nondeterministic_mutations</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- ... --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">default</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- ... --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">profiles</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed-product-mode">distributed_product_mode<a href="#distributed-product-mode" class="hash-link" aria-label="Direct link to distributed_product_mode" title="Direct link to distributed_product_mode">​</a></h2><p>Changes the behaviour of <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/operators/in">distributed subqueries</a>.</p><p>ClickHouse applies this setting when the query contains the product of distributed tables, i.e. when the query for a distributed table contains a non-GLOBAL subquery for the distributed table.</p><p>Restrictions:</p><ul><li>Only applied for IN and JOIN subqueries.</li><li>Only if the FROM section uses a distributed table containing more than one shard.</li><li>If the subquery concerns a distributed table containing more than one shard.</li><li>Not used for a table-valued <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/table-functions/remote">remote</a> function.</li></ul><p>Possible values:</p><ul><li><code>deny</code> — Default value. Prohibits using these types of subqueries (returns the “Double-distributed in/JOIN subqueries is denied” exception).</li><li><code>local</code> — Replaces the database and table in the subquery with local ones for the destination server (shard), leaving the normal <code>IN</code>/<code>JOIN.</code></li><li><code>global</code> — Replaces the <code>IN</code>/<code>JOIN</code> query with <code>GLOBAL IN</code>/<code>GLOBAL JOIN.</code></li><li><code>allow</code> — Allows the use of these types of subqueries.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prefer-global-in-and-join">prefer_global_in_and_join<a href="#prefer-global-in-and-join" class="hash-link" aria-label="Direct link to prefer_global_in_and_join" title="Direct link to prefer_global_in_and_join">​</a></h2><p>Enables the replacement of <code>IN</code>/<code>JOIN</code> operators with <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code>.</p><p>Possible values:</p><ul><li>0 — Disabled. <code>IN</code>/<code>JOIN</code> operators are not replaced with <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code>.</li><li>1 — Enabled. <code>IN</code>/<code>JOIN</code> operators are replaced with <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code>.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Usage</strong></p><p>Although <code>SET distributed_product_mode=global</code> can change the queries behavior for the distributed tables, it&#x27;s not suitable for local tables or tables from external resources. Here is when the <code>prefer_global_in_and_join</code> setting comes into play.</p><p>For example, we have query serving nodes that contain local tables, which are not suitable for distribution. We need to scatter their data on the fly during distributed processing with the <code>GLOBAL</code> keyword — <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code>.</p><p>Another use case of <code>prefer_global_in_and_join</code> is accessing tables created by external engines. This setting helps to reduce the number of calls to external sources while joining such tables: only one call per query.</p><p><strong>See also:</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/operators/in/#select-distributed-subqueries">Distributed subqueries</a> for more information on how to use <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-optimize-predicate-expression">enable_optimize_predicate_expression<a href="#enable-optimize-predicate-expression" class="hash-link" aria-label="Direct link to enable_optimize_predicate_expression" title="Direct link to enable_optimize_predicate_expression">​</a></h2><p>Turns on predicate pushdown in <code>SELECT</code> queries.</p><p>Predicate pushdown may significantly reduce network traffic for distributed queries.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 1.</p><p>Usage</p><p>Consider the following queries:</p><ol><li><code>SELECT count() FROM test_table WHERE date = &#x27;2018-10-10&#x27;</code></li><li><code>SELECT count() FROM (SELECT * FROM test_table) WHERE date = &#x27;2018-10-10&#x27;</code></li></ol><p>If <code>enable_optimize_predicate_expression = 1</code>, then the execution time of these queries is equal because ClickHouse applies <code>WHERE</code> to the subquery when processing it.</p><p>If <code>enable_optimize_predicate_expression = 0</code>, then the execution time of the second query is much longer because the <code>WHERE</code> clause applies to all the data after the subquery finishes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-fallback_to_stale_replicas_for_distributed_queries">fallback_to_stale_replicas_for_distributed_queries<a href="#settings-fallback_to_stale_replicas_for_distributed_queries" class="hash-link" aria-label="Direct link to fallback_to_stale_replicas_for_distributed_queries" title="Direct link to fallback_to_stale_replicas_for_distributed_queries">​</a></h2><p>Forces a query to an out-of-date replica if updated data is not available. See <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">Replication</a>.</p><p>ClickHouse selects the most relevant from the outdated replicas of the table.</p><p>Used when performing <code>SELECT</code> from a distributed table that points to replicated tables.</p><p>By default, 1 (enabled).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-force_index_by_date">force_index_by_date<a href="#settings-force_index_by_date" class="hash-link" aria-label="Direct link to force_index_by_date" title="Direct link to force_index_by_date">​</a></h2><p>Disables query execution if the index can’t be used by date.</p><p>Works with tables in the MergeTree family.</p><p>If <code>force_index_by_date=1</code>, ClickHouse checks whether the query has a date key condition that can be used for restricting data ranges. If there is no suitable condition, it throws an exception. However, it does not check whether the condition reduces the amount of data to read. For example, the condition <code>Date != &#x27; 2000-01-01 &#x27;</code> is acceptable even when it matches all the data in the table (i.e., running the query requires a full scan). For more information about ranges of data in MergeTree tables, see <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="force-primary-key">force_primary_key<a href="#force-primary-key" class="hash-link" aria-label="Direct link to force_primary_key" title="Direct link to force_primary_key">​</a></h2><p>Disables query execution if indexing by the primary key is not possible.</p><p>Works with tables in the MergeTree family.</p><p>If <code>force_primary_key=1</code>, ClickHouse checks to see if the query has a primary key condition that can be used for restricting data ranges. If there is no suitable condition, it throws an exception. However, it does not check whether the condition reduces the amount of data to read. For more information about data ranges in MergeTree tables, see <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-use_skip_indexes">use_skip_indexes<a href="#settings-use_skip_indexes" class="hash-link" aria-label="Direct link to use_skip_indexes" title="Direct link to use_skip_indexes">​</a></h2><p>Use data skipping indexes during query execution.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-force_data_skipping_indices">force_data_skipping_indices<a href="#settings-force_data_skipping_indices" class="hash-link" aria-label="Direct link to force_data_skipping_indices" title="Direct link to force_data_skipping_indices">​</a></h2><p>Disables query execution if passed data skipping indices wasn&#x27;t used.</p><p>Consider the following example:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    d1 </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    d1_null Nullable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">INDEX</span><span class="token plain"> d1_idx d1 </span><span class="token keyword" style="color:rgb(0, 0, 255)">TYPE</span><span class="token plain"> minmax GRANULARITY </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">INDEX</span><span class="token plain"> d1_null_idx assumeNotNull</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">d1_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TYPE</span><span class="token plain"> minmax GRANULARITY </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">Engine</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">MergeTree</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> data_01515</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> data_01515 SETTINGS force_data_skipping_indices</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">-- query will produce CANNOT_PARSE_TEXT error.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> data_01515 SETTINGS force_data_skipping_indices</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d1_idx&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">-- query will produce INDEX_NOT_USED error.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> data_01515 </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> d1 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> SETTINGS force_data_skipping_indices</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d1_idx&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">-- Ok.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> data_01515 </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> d1 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> SETTINGS force_data_skipping_indices</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;`d1_idx`&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">-- Ok (example of full featured parser).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> data_01515 </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> d1 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> SETTINGS force_data_skipping_indices</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;`d1_idx`, d1_null_idx&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">-- query will produce INDEX_NOT_USED error, since d1_null_idx is not used.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> data_01515 </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> d1 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> assumeNotNull</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">d1_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> SETTINGS force_data_skipping_indices</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;`d1_idx`, d1_null_idx&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">-- Ok.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Works with tables in the MergeTree family.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="convert_query_to_cnf">convert_query_to_cnf<a href="#convert_query_to_cnf" class="hash-link" aria-label="Direct link to convert_query_to_cnf" title="Direct link to convert_query_to_cnf">​</a></h2><p>When set to <code>true</code>, a <code>SELECT</code> query will be converted to conjuctive normal form (CNF). There are scenarios where rewriting a query in CNF may execute faster (view this <a href="https://github.com/ClickHouse/ClickHouse/issues/11749" target="_blank" rel="noopener noreferrer">Github issue</a> for an explanation).</p><p>For example, notice how the following <code>SELECT</code> query is not modified (the default behavior):</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">EXPLAIN</span><span class="token plain"> SYNTAX</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> x</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">OR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS convert_query_to_cnf </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The result is:</p><div class="language-response codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-response codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─explain────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ SELECT x                                                       │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ FROM                                                           │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ (                                                              │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     SELECT number AS x                                         │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     FROM numbers(20)                                           │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     WHERE ((x &gt;= 1) AND (x &lt;= 5)) OR ((x &gt;= 10) AND (x &lt;= 15)) │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ) AS a                                                         │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ WHERE ((x &gt;= 1) AND (x &lt;= 5)) OR ((x &gt;= 10) AND (x &lt;= 15))     │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ SETTINGS convert_query_to_cnf = 0                              │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s set <code>convert_query_to_cnf</code> to <code>true</code> and see what changes:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">EXPLAIN</span><span class="token plain"> SYNTAX</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> x</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">OR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS convert_query_to_cnf </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Notice the <code>WHERE</code> clause is rewritten in CNF, but the result set is the identical - the Boolean logic is unchanged:</p><div class="language-response codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-response codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─explain───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ SELECT x                                                                                                              │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ FROM                                                                                                                  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ (                                                                                                                     │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     SELECT number AS x                                                                                                │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     FROM numbers(20)                                                                                                  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     WHERE ((x &lt;= 15) OR (x &lt;= 5)) AND ((x &lt;= 15) OR (x &gt;= 1)) AND ((x &gt;= 10) OR (x &lt;= 5)) AND ((x &gt;= 10) OR (x &gt;= 1)) │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ) AS a                                                                                                                │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ WHERE ((x &gt;= 10) OR (x &gt;= 1)) AND ((x &gt;= 10) OR (x &lt;= 5)) AND ((x &lt;= 15) OR (x &gt;= 1)) AND ((x &lt;= 15) OR (x &lt;= 5))     │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ SETTINGS convert_query_to_cnf = 1                                                                                     │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Possible values: true, false</p><p>Default value: false</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fsync-metadata">fsync_metadata<a href="#fsync-metadata" class="hash-link" aria-label="Direct link to fsync_metadata" title="Direct link to fsync_metadata">​</a></h2><p>Enables or disables <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/fsync.html" target="_blank" rel="noopener noreferrer">fsync</a> when writing <code>.sql</code> files. Enabled by default.</p><p>It makes sense to disable it if the server has millions of tiny tables that are constantly being created and destroyed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-function_range_max_elements_in_block">function_range_max_elements_in_block<a href="#settings-function_range_max_elements_in_block" class="hash-link" aria-label="Direct link to function_range_max_elements_in_block" title="Direct link to function_range_max_elements_in_block">​</a></h2><p>Sets the safety threshold for data volume generated by function <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/array-functions/#range">range</a>. Defines the maximum number of values generated by function per block of data (sum of array sizes for every row in a block).</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>500,000,000</code>.</p><p><strong>See Also</strong></p><ul><li><a href="#setting-max_block_size">max_block_size</a></li><li><a href="#min-insert-block-size-rows">min_insert_block_size_rows</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-enable_http_compression">enable_http_compression<a href="#settings-enable_http_compression" class="hash-link" aria-label="Direct link to enable_http_compression" title="Direct link to enable_http_compression">​</a></h2><p>Enables or disables data compression in the response to an HTTP request.</p><p>For more information, read the <a href="/AlgoliaDocsSelfCrawl/en/interfaces/http">HTTP interface description</a>.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-http_zlib_compression_level">http_zlib_compression_level<a href="#settings-http_zlib_compression_level" class="hash-link" aria-label="Direct link to http_zlib_compression_level" title="Direct link to http_zlib_compression_level">​</a></h2><p>Sets the level of data compression in the response to an HTTP request if <a href="#settings-enable_http_compression">enable_http_compression = 1</a>.</p><p>Possible values: Numbers from 1 to 9.</p><p>Default value: 3.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-http_native_compression_disable_checksumming_on_decompress">http_native_compression_disable_checksumming_on_decompress<a href="#settings-http_native_compression_disable_checksumming_on_decompress" class="hash-link" aria-label="Direct link to http_native_compression_disable_checksumming_on_decompress" title="Direct link to http_native_compression_disable_checksumming_on_decompress">​</a></h2><p>Enables or disables checksum verification when decompressing the HTTP POST data from the client. Used only for ClickHouse native compression format (not used with <code>gzip</code> or <code>deflate</code>).</p><p>For more information, read the <a href="/AlgoliaDocsSelfCrawl/en/interfaces/http">HTTP interface description</a>.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http-max-uri-size">http_max_uri_size<a href="#http-max-uri-size" class="hash-link" aria-label="Direct link to http_max_uri_size" title="Direct link to http_max_uri_size">​</a></h2><p>Sets the maximum URI length of an HTTP request.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: 1048576.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table_function_remote_max_addresses">table_function_remote_max_addresses<a href="#table_function_remote_max_addresses" class="hash-link" aria-label="Direct link to table_function_remote_max_addresses" title="Direct link to table_function_remote_max_addresses">​</a></h2><p>Sets the maximum number of addresses generated from patterns for the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/table-functions/remote">remote</a> function.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>1000</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="glob_expansion_max_elements">glob_expansion_max_elements<a href="#glob_expansion_max_elements" class="hash-link" aria-label="Direct link to glob_expansion_max_elements" title="Direct link to glob_expansion_max_elements">​</a></h2><p>Sets the maximum number of addresses generated from patterns for external storages and table functions (like <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/table-functions/url">url</a>) except the <code>remote</code> function.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>1000</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-send_progress_in_http_headers">send_progress_in_http_headers<a href="#settings-send_progress_in_http_headers" class="hash-link" aria-label="Direct link to send_progress_in_http_headers" title="Direct link to send_progress_in_http_headers">​</a></h2><p>Enables or disables <code>X-ClickHouse-Progress</code> HTTP response headers in <code>clickhouse-server</code> responses.</p><p>For more information, read the <a href="/AlgoliaDocsSelfCrawl/en/interfaces/http">HTTP interface description</a>.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-max_http_get_redirects">max_http_get_redirects<a href="#setting-max_http_get_redirects" class="hash-link" aria-label="Direct link to max_http_get_redirects" title="Direct link to max_http_get_redirects">​</a></h2><p>Limits the maximum number of HTTP GET redirect hops for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/url">URL</a>-engine tables. The setting applies to both types of tables: those created by the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table">CREATE TABLE</a> query and by the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/table-functions/url">url</a> table function.</p><p>Possible values:</p><ul><li>Any positive integer number of hops.</li><li>0 — No hops allowed.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert_null_as_default">insert_null_as_default<a href="#insert_null_as_default" class="hash-link" aria-label="Direct link to insert_null_as_default" title="Direct link to insert_null_as_default">​</a></h2><p>Enables or disables the insertion of <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table/#create-default-values">default values</a> instead of <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/syntax/#null-literal">NULL</a> into columns with not <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#data_type-nullable">nullable</a> data type.
If column type is not nullable and this setting is disabled, then inserting <code>NULL</code> causes an exception. If column type is nullable, then <code>NULL</code> values are inserted as is, regardless of this setting.</p><p>This setting is applicable to <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/insert-into/#inserting-the-results-of-select">INSERT ... SELECT</a> queries. Note that <code>SELECT</code> subqueries may be concatenated with <code>UNION ALL</code> clause.</p><p>Possible values:</p><ul><li>0 — Inserting <code>NULL</code> into a not nullable column causes an exception.</li><li>1 — Default column value is inserted instead of <code>NULL</code>.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-join_default_strictness">join_default_strictness<a href="#settings-join_default_strictness" class="hash-link" aria-label="Direct link to join_default_strictness" title="Direct link to join_default_strictness">​</a></h2><p>Sets default strictness for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/join/#select-join">JOIN clauses</a>.</p><p>Possible values:</p><ul><li><code>ALL</code> — If the right table has several matching rows, ClickHouse creates a <a href="https://en.wikipedia.org/wiki/Cartesian_product" target="_blank" rel="noopener noreferrer">Cartesian product</a> from matching rows. This is the normal <code>JOIN</code> behaviour from standard SQL.</li><li><code>ANY</code> — If the right table has several matching rows, only the first one found is joined. If the right table has only one matching row, the results of <code>ANY</code> and <code>ALL</code> are the same.</li><li><code>ASOF</code> — For joining sequences with an uncertain match.</li><li><code>Empty string</code> — If <code>ALL</code> or <code>ANY</code> is not specified in the query, ClickHouse throws an exception.</li></ul><p>Default value: <code>ALL</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-join_algorithm">join_algorithm<a href="#settings-join_algorithm" class="hash-link" aria-label="Direct link to join_algorithm" title="Direct link to join_algorithm">​</a></h2><p>Specifies which <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/join">JOIN</a> algorithm is used.</p><p>Several algorithms can be specified, and an available one would be chosen for a particular query based on kind/strictness and table engine.</p><p>Possible values:</p><ul><li><p>default</p><p>This is the equivalent of <code>hash</code> or <code>direct</code>, if possible (same as <code>direct,hash</code>)</p></li><li><p>grace_hash</p><p><a href="https://en.wikipedia.org/wiki/Hash_join#Grace_hash_join" target="_blank" rel="noopener noreferrer">Grace hash join</a> is used.  Grace hash provides an algorithm option that provides performant complex joins while limiting memory use.</p><p>The first phase of a grace join reads the right table and splits it into N buckets depending on the hash value of key columns (initially, N is <code>grace_hash_join_initial_buckets</code>). This is done in a way to ensure that each bucket can be processed independently. Rows from the first bucket are added to an in-memory hash table while the others are saved to disk. If the hash table grows beyond the memory limit (e.g., as set by <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/query-complexity/#settings-max_bytes_in_join"><code>max_bytes_in_join</code></a>), the number of buckets is increased and the assigned bucket for each row. Any rows which don’t belong to the current bucket are flushed and reassigned.</p></li><li><p>hash</p><p><a href="https://en.wikipedia.org/wiki/Hash_join" target="_blank" rel="noopener noreferrer">Hash join algorithm</a> is used. The most generic implementation that supports all combinations of kind and strictness and multiple join keys that are combined with <code>OR</code> in the <code>JOIN ON</code> section.</p></li><li><p>parallel_hash</p><p>A variation of <code>hash</code> join that splits the data into buckets and builds several hashtables instead of one concurrently to speed up this process.</p><p>When using the <code>hash</code> algorithm, the right part of <code>JOIN</code> is uploaded into RAM.</p></li><li><p>partial_merge</p><p>A variation of the <a href="https://en.wikipedia.org/wiki/Sort-merge_join" target="_blank" rel="noopener noreferrer">sort-merge algorithm</a>, where only the right table is fully sorted.</p><p>The <code>RIGHT JOIN</code> and <code>FULL JOIN</code> are supported only with <code>ALL</code> strictness (<code>SEMI</code>, <code>ANTI</code>, <code>ANY</code>, and <code>ASOF</code> are not supported).</p><p>When using the <code>partial_merge</code> algorithm, ClickHouse sorts the data and dumps it to the disk. The <code>partial_merge</code> algorithm in ClickHouse differs slightly from the classic realization. First, ClickHouse sorts the right table by joining keys in blocks and creates a min-max index for sorted blocks. Then it sorts parts of the left table by the <code>join key</code> and joins them over the right table. The min-max index is also used to skip unneeded right table blocks.</p></li><li><p>direct</p><p>This algorithm can be applied when the storage for the right table supports key-value requests.</p><p>The <code>direct</code> algorithm performs a lookup in the right table using rows from the left table as keys. It&#x27;s supported only by special storage such as <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/dictionary/#dictionary">Dictionary</a> or <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/integrations/embedded-rocksdb">EmbeddedRocksDB</a> and only the <code>LEFT</code> and <code>INNER</code> JOINs.</p></li><li><p>auto</p><p>When set to <code>auto</code>, <code>hash</code> join is tried first, and the algorithm is switched on the fly to another algorithm if the memory limit is violated.</p></li><li><p>full_sorting_merge</p><p><a href="https://en.wikipedia.org/wiki/Sort-merge_join" target="_blank" rel="noopener noreferrer">Sort-merge algorithm</a> with full sorting joined tables before joining.</p></li><li><p>prefer_partial_merge</p><p>ClickHouse always tries to use <code>partial_merge</code> join if possible, otherwise, it uses <code>hash</code>. <em>Deprecated</em>, same as <code>partial_merge,hash</code>.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-join_any_take_last_row">join_any_take_last_row<a href="#settings-join_any_take_last_row" class="hash-link" aria-label="Direct link to join_any_take_last_row" title="Direct link to join_any_take_last_row">​</a></h2><p>Changes the behaviour of join operations with <code>ANY</code> strictness.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This setting applies only for <code>JOIN</code> operations with <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/join">Join</a> engine tables.</p></div></div><p>Possible values:</p><ul><li>0 — If the right table has more than one matching row, only the first one found is joined.</li><li>1 — If the right table has more than one matching row, only the last one found is joined.</li></ul><p>Default value: 0.</p><p>See also:</p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/join/#select-join">JOIN clause</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/join">Join table engine</a></li><li><a href="#settings-join_default_strictness">join_default_strictness</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="join_use_nulls">join_use_nulls<a href="#join_use_nulls" class="hash-link" aria-label="Direct link to join_use_nulls" title="Direct link to join_use_nulls">​</a></h2><p>Sets the type of <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/join">JOIN</a> behaviour. When merging tables, empty cells may appear. ClickHouse fills them differently based on this setting.</p><p>Possible values:</p><ul><li>0 — The empty cells are filled with the default value of the corresponding field type.</li><li>1 — <code>JOIN</code> behaves the same way as in standard SQL. The type of the corresponding field is converted to <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#data_type-nullable">Nullable</a>, and empty cells are filled with <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/syntax">NULL</a>.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="group_by_use_nulls">group_by_use_nulls<a href="#group_by_use_nulls" class="hash-link" aria-label="Direct link to group_by_use_nulls" title="Direct link to group_by_use_nulls">​</a></h2><p>Changes the way the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/group-by">GROUP BY clause</a> treats the types of aggregation keys.
When the <code>ROLLUP</code>, <code>CUBE</code>, or <code>GROUPING SETS</code> specifiers are used, some aggregation keys may not be used to produce some result rows.
Columns for these keys are filled with either default value or <code>NULL</code> in corresponding rows depending on this setting.</p><p>Possible values:</p><ul><li>0 — The default value for the aggregation key type is used to produce missing values.</li><li>1 — ClickHouse executes <code>GROUP BY</code> the same way as the SQL standard says. The types of aggregation keys are converted to <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#data_type-nullable">Nullable</a>. Columns for corresponding aggregation keys are filled with <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/syntax">NULL</a> for rows that didn&#x27;t use it.</li></ul><p>Default value: 0.</p><p>See also:</p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/group-by">GROUP BY clause</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="partial_merge_join_optimizations">partial_merge_join_optimizations<a href="#partial_merge_join_optimizations" class="hash-link" aria-label="Direct link to partial_merge_join_optimizations" title="Direct link to partial_merge_join_optimizations">​</a></h2><p>Disables optimizations in partial merge join algorithm for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/join">JOIN</a> queries.</p><p>By default, this setting enables improvements that could lead to wrong results. If you see suspicious results in your queries, disable optimizations by this setting. Optimizations can be different in different versions of the ClickHouse server.</p><p>Possible values:</p><ul><li>0 — Optimizations disabled.</li><li>1 — Optimizations enabled.</li></ul><p>Default value: 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="partial_merge_join_rows_in_right_blocks">partial_merge_join_rows_in_right_blocks<a href="#partial_merge_join_rows_in_right_blocks" class="hash-link" aria-label="Direct link to partial_merge_join_rows_in_right_blocks" title="Direct link to partial_merge_join_rows_in_right_blocks">​</a></h2><p>Limits sizes of right-hand join data blocks in partial merge join algorithm for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/join">JOIN</a> queries.</p><p>ClickHouse server:</p><ol><li>Splits right-hand join data into blocks with up to the specified number of rows.</li><li>Indexes each block with its minimum and maximum values.</li><li>Unloads prepared blocks to disk if it is possible.</li></ol><p>Possible values:</p><ul><li>Any positive integer. Recommended range of values: <!-- -->[<!-- -->1000, 100000<!-- -->]<!-- -->.</li></ul><p>Default value: 65536.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="join_on_disk_max_files_to_merge">join_on_disk_max_files_to_merge<a href="#join_on_disk_max_files_to_merge" class="hash-link" aria-label="Direct link to join_on_disk_max_files_to_merge" title="Direct link to join_on_disk_max_files_to_merge">​</a></h2><p>Limits the number of files allowed for parallel sorting in MergeJoin operations when they are executed on disk.</p><p>The bigger the value of the setting, the more RAM is used and the less disk I/O is needed.</p><p>Possible values:</p><ul><li>Any positive integer, starting from 2.</li></ul><p>Default value: 64.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="any_join_distinct_right_table_keys">any_join_distinct_right_table_keys<a href="#any_join_distinct_right_table_keys" class="hash-link" aria-label="Direct link to any_join_distinct_right_table_keys" title="Direct link to any_join_distinct_right_table_keys">​</a></h2><p>Enables legacy ClickHouse server behaviour in <code>ANY INNER|LEFT JOIN</code> operations.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Use this setting only for backward compatibility if your use cases depend on legacy <code>JOIN</code> behaviour.</p></div></div><p>When the legacy behaviour is enabled:</p><ul><li>Results of <code>t1 ANY LEFT JOIN t2</code> and <code>t2 ANY RIGHT JOIN t1</code> operations are not equal because ClickHouse uses the logic with many-to-one left-to-right table keys mapping.</li><li>Results of <code>ANY INNER JOIN</code> operations contain all rows from the left table like the <code>SEMI LEFT JOIN</code> operations do.</li></ul><p>When the legacy behaviour is disabled:</p><ul><li>Results of <code>t1 ANY LEFT JOIN t2</code> and <code>t2 ANY RIGHT JOIN t1</code> operations are equal because ClickHouse uses the logic which provides one-to-many keys mapping in <code>ANY RIGHT JOIN</code> operations.</li><li>Results of <code>ANY INNER JOIN</code> operations contain one row per key from both the left and right tables.</li></ul><p>Possible values:</p><ul><li>0 — Legacy behaviour is disabled.</li><li>1 — Legacy behaviour is enabled.</li></ul><p>Default value: 0.</p><p>See also:</p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/join/#join-settings">JOIN strictness</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="temporary_files_codec">temporary_files_codec<a href="#temporary_files_codec" class="hash-link" aria-label="Direct link to temporary_files_codec" title="Direct link to temporary_files_codec">​</a></h2><p>Sets compression codec for temporary files used in sorting and joining operations on disk.</p><p>Possible values:</p><ul><li>LZ4 — <a href="https://en.wikipedia.org/wiki/LZ4_(compression_algorithm)" target="_blank" rel="noopener noreferrer">LZ4</a> compression is applied.</li><li>NONE — No compression is applied.</li></ul><p>Default value: LZ4.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-max_block_size">max_block_size<a href="#setting-max_block_size" class="hash-link" aria-label="Direct link to max_block_size" title="Direct link to max_block_size">​</a></h2><p>In ClickHouse, data is processed by blocks (sets of column parts). The internal processing cycles for a single block are efficient enough, but there are noticeable expenditures on each block. The <code>max_block_size</code> setting is a recommendation for what size of the block (in a count of rows) to load from tables. The block size shouldn’t be too small, so that the expenditures on each block are still noticeable, but not too large so that the query with LIMIT that is completed after the first block is processed quickly. The goal is to avoid consuming too much memory when extracting a large number of columns in multiple threads and to preserve at least some cache locality.</p><p>Default value: 65,536.</p><p>Blocks the size of <code>max_block_size</code> are not always loaded from the table. If it is obvious that less data needs to be retrieved, a smaller block is processed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preferred-block-size-bytes">preferred_block_size_bytes<a href="#preferred-block-size-bytes" class="hash-link" aria-label="Direct link to preferred_block_size_bytes" title="Direct link to preferred_block_size_bytes">​</a></h2><p>Used for the same purpose as <code>max_block_size</code>, but it sets the recommended block size in bytes by adapting it to the number of rows in the block.
However, the block size cannot be more than <code>max_block_size</code> rows.
By default: 1,000,000. It only works when reading from MergeTree engines.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-merge-tree-min-rows-for-concurrent-read">merge_tree_min_rows_for_concurrent_read<a href="#setting-merge-tree-min-rows-for-concurrent-read" class="hash-link" aria-label="Direct link to merge_tree_min_rows_for_concurrent_read" title="Direct link to merge_tree_min_rows_for_concurrent_read">​</a></h2><p>If the number of rows to be read from a file of a <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a> table exceeds <code>merge_tree_min_rows_for_concurrent_read</code> then ClickHouse tries to perform a concurrent reading from this file on several threads.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>163840</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="merge-tree-min-rows-for-concurrent-read-for-remote-filesystem">merge_tree_min_rows_for_concurrent_read_for_remote_filesystem<a href="#merge-tree-min-rows-for-concurrent-read-for-remote-filesystem" class="hash-link" aria-label="Direct link to merge_tree_min_rows_for_concurrent_read_for_remote_filesystem" title="Direct link to merge_tree_min_rows_for_concurrent_read_for_remote_filesystem">​</a></h2><p>The minimum number of lines to read from one file before the <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a> engine can parallelize reading, when reading from remote filesystem.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>163840</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-merge-tree-min-bytes-for-concurrent-read">merge_tree_min_bytes_for_concurrent_read<a href="#setting-merge-tree-min-bytes-for-concurrent-read" class="hash-link" aria-label="Direct link to merge_tree_min_bytes_for_concurrent_read" title="Direct link to merge_tree_min_bytes_for_concurrent_read">​</a></h2><p>If the number of bytes to read from one file of a <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a>-engine table exceeds <code>merge_tree_min_bytes_for_concurrent_read</code>, then ClickHouse tries to concurrently read from this file in several threads.</p><p>Possible value:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>251658240</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="merge-tree-min-bytes-for-concurrent-read-for-remote-filesystem">merge_tree_min_bytes_for_concurrent_read_for_remote_filesystem<a href="#merge-tree-min-bytes-for-concurrent-read-for-remote-filesystem" class="hash-link" aria-label="Direct link to merge_tree_min_bytes_for_concurrent_read_for_remote_filesystem" title="Direct link to merge_tree_min_bytes_for_concurrent_read_for_remote_filesystem">​</a></h2><p>The minimum number of bytes to read from one file before <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a> engine can parallelize reading, when reading from remote filesystem.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>251658240</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-merge-tree-min-rows-for-seek">merge_tree_min_rows_for_seek<a href="#setting-merge-tree-min-rows-for-seek" class="hash-link" aria-label="Direct link to merge_tree_min_rows_for_seek" title="Direct link to merge_tree_min_rows_for_seek">​</a></h2><p>If the distance between two data blocks to be read in one file is less than <code>merge_tree_min_rows_for_seek</code> rows, then ClickHouse does not seek through the file but reads the data sequentially.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-merge-tree-min-bytes-for-seek">merge_tree_min_bytes_for_seek<a href="#setting-merge-tree-min-bytes-for-seek" class="hash-link" aria-label="Direct link to merge_tree_min_bytes_for_seek" title="Direct link to merge_tree_min_bytes_for_seek">​</a></h2><p>If the distance between two data blocks to be read in one file is less than <code>merge_tree_min_bytes_for_seek</code> bytes, then ClickHouse sequentially reads a range of file that contains both blocks, thus avoiding extra seek.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-merge-tree-coarse-index-granularity">merge_tree_coarse_index_granularity<a href="#setting-merge-tree-coarse-index-granularity" class="hash-link" aria-label="Direct link to merge_tree_coarse_index_granularity" title="Direct link to merge_tree_coarse_index_granularity">​</a></h2><p>When searching for data, ClickHouse checks the data marks in the index file. If ClickHouse finds that required keys are in some range, it divides this range into <code>merge_tree_coarse_index_granularity</code> subranges and searches the required keys there recursively.</p><p>Possible values:</p><ul><li>Any positive even integer.</li></ul><p>Default value: 8.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-merge-tree-max-rows-to-use-cache">merge_tree_max_rows_to_use_cache<a href="#setting-merge-tree-max-rows-to-use-cache" class="hash-link" aria-label="Direct link to merge_tree_max_rows_to_use_cache" title="Direct link to merge_tree_max_rows_to_use_cache">​</a></h2><p>If ClickHouse should read more than <code>merge_tree_max_rows_to_use_cache</code> rows in one query, it does not use the cache of uncompressed blocks.</p><p>The cache of uncompressed blocks stores data extracted for queries. ClickHouse uses this cache to speed up responses to repeated small queries. This setting protects the cache from trashing by queries that read a large amount of data. The <a href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/settings/#server-settings-uncompressed_cache_size">uncompressed_cache_size</a> server setting defines the size of the cache of uncompressed blocks.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 128 ✕ 8192.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-merge-tree-max-bytes-to-use-cache">merge_tree_max_bytes_to_use_cache<a href="#setting-merge-tree-max-bytes-to-use-cache" class="hash-link" aria-label="Direct link to merge_tree_max_bytes_to_use_cache" title="Direct link to merge_tree_max_bytes_to_use_cache">​</a></h2><p>If ClickHouse should read more than <code>merge_tree_max_bytes_to_use_cache</code> bytes in one query, it does not use the cache of uncompressed blocks.</p><p>The cache of uncompressed blocks stores data extracted for queries. ClickHouse uses this cache to speed up responses to repeated small queries. This setting protects the cache from trashing by queries that read a large amount of data. The <a href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/settings/#server-settings-uncompressed_cache_size">uncompressed_cache_size</a> server setting defines the size of the cache of uncompressed blocks.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 2013265920.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-min-bytes-to-use-direct-io">min_bytes_to_use_direct_io<a href="#settings-min-bytes-to-use-direct-io" class="hash-link" aria-label="Direct link to min_bytes_to_use_direct_io" title="Direct link to min_bytes_to_use_direct_io">​</a></h2><p>The minimum data volume required for using direct I/O access to the storage disk.</p><p>ClickHouse uses this setting when reading data from tables. If the total storage volume of all the data to be read exceeds <code>min_bytes_to_use_direct_io</code> bytes, then ClickHouse reads the data from the storage disk with the <code>O_DIRECT</code> option.</p><p>Possible values:</p><ul><li>0 — Direct I/O is disabled.</li><li>Positive integer.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network_compression_method">network_compression_method<a href="#network_compression_method" class="hash-link" aria-label="Direct link to network_compression_method" title="Direct link to network_compression_method">​</a></h2><p>Sets the method of data compression that is used for communication between servers and between server and <a href="/AlgoliaDocsSelfCrawl/en/interfaces/cli">clickhouse-client</a>.</p><p>Possible values:</p><ul><li><code>LZ4</code> — sets LZ4 compression method.</li><li><code>ZSTD</code> — sets ZSTD compression method.</li></ul><p>Default value: <code>LZ4</code>.</p><p><strong>See Also</strong></p><ul><li><a href="#network_zstd_compression_level">network_zstd_compression_level</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network_zstd_compression_level">network_zstd_compression_level<a href="#network_zstd_compression_level" class="hash-link" aria-label="Direct link to network_zstd_compression_level" title="Direct link to network_zstd_compression_level">​</a></h2><p>Adjusts the level of ZSTD compression. Used only when <a href="#network_compression_method">network_compression_method</a> is set to <code>ZSTD</code>.</p><p>Possible values:</p><ul><li>Positive integer from 1 to 15.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log-queries">log_queries<a href="#settings-log-queries" class="hash-link" aria-label="Direct link to log_queries" title="Direct link to log_queries">​</a></h2><p>Setting up query logging.</p><p>Queries sent to ClickHouse with this setup are logged according to the rules in the <a href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/settings/#server_configuration_parameters-query-log">query_log</a> server configuration parameter.</p><p>Example:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">log_queries=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log-queries-min-query-duration-ms">log_queries_min_query_duration_ms<a href="#settings-log-queries-min-query-duration-ms" class="hash-link" aria-label="Direct link to log_queries_min_query_duration_ms" title="Direct link to log_queries_min_query_duration_ms">​</a></h2><p>If enabled (non-zero), queries faster than the value of this setting will not be logged (you can think about this as a <code>long_query_time</code> for <a href="https://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html" target="_blank" rel="noopener noreferrer">MySQL Slow Query Log</a>), and this basically means that you will not find them in the following tables:</p><ul><li><code>system.query_log</code></li><li><code>system.query_thread_log</code></li></ul><p>Only the queries with the following type will get to the log:</p><ul><li><p><code>QUERY_FINISH</code></p></li><li><p><code>EXCEPTION_WHILE_PROCESSING</code></p></li><li><p>Type: milliseconds</p></li><li><p>Default value: 0 (any query)</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log-queries-min-type">log_queries_min_type<a href="#settings-log-queries-min-type" class="hash-link" aria-label="Direct link to log_queries_min_type" title="Direct link to log_queries_min_type">​</a></h2><p><code>query_log</code> minimal type to log.</p><p>Possible values:</p><ul><li><code>QUERY_START</code> (<code>=1</code>)</li><li><code>QUERY_FINISH</code> (<code>=2</code>)</li><li><code>EXCEPTION_BEFORE_START</code> (<code>=3</code>)</li><li><code>EXCEPTION_WHILE_PROCESSING</code> (<code>=4</code>)</li></ul><p>Default value: <code>QUERY_START</code>.</p><p>Can be used to limit which entities will go to <code>query_log</code>, say you are interested only in errors, then you can use <code>EXCEPTION_WHILE_PROCESSING</code>:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">log_queries_min_type=&#x27;EXCEPTION_WHILE_PROCESSING&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log-query-threads">log_query_threads<a href="#settings-log-query-threads" class="hash-link" aria-label="Direct link to log_query_threads" title="Direct link to log_query_threads">​</a></h2><p>Setting up query threads logging.</p><p>Query threads log into the <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/query_thread_log">system.query_thread_log</a> table. This setting has effect only when <a href="#settings-log-queries">log_queries</a> is true. Queries’ threads run by ClickHouse with this setup are logged according to the rules in the <a href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/settings/#server_configuration_parameters-query_thread_log">query_thread_log</a> server configuration parameter.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: <code>1</code>.</p><p><strong>Example</strong></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">log_query_threads=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log-query-views">log_query_views<a href="#settings-log-query-views" class="hash-link" aria-label="Direct link to log_query_views" title="Direct link to log_query_views">​</a></h2><p>Setting up query views logging.</p><p>When a query run by ClickHouse with this setting enabled has associated views (materialized or live views), they are logged in the <a href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/settings/#server_configuration_parameters-query_views_log">query_views_log</a> server configuration parameter.</p><p>Example:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">log_query_views=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log-formatted-queries">log_formatted_queries<a href="#settings-log-formatted-queries" class="hash-link" aria-label="Direct link to log_formatted_queries" title="Direct link to log_formatted_queries">​</a></h2><p>Allows to log formatted queries to the <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/query_log">system.query_log</a> system table (populates <code>formatted_query</code> column in the <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/query_log">system.query_log</a>).</p><p>Possible values:</p><ul><li>0 — Formatted queries are not logged in the system table.</li><li>1 — Formatted queries are logged in the system table.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log-comment">log_comment<a href="#settings-log-comment" class="hash-link" aria-label="Direct link to log_comment" title="Direct link to log_comment">​</a></h2><p>Specifies the value for the <code>log_comment</code> field of the <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/query_log">system.query_log</a> table and comment text for the server log.</p><p>It can be used to improve the readability of server logs. Additionally, it helps to select queries related to the test from the <code>system.query_log</code> after running <a href="/AlgoliaDocsSelfCrawl/en/development/tests">clickhouse-test</a>.</p><p>Possible values:</p><ul><li>Any string no longer than <a href="#settings-max_query_size">max_query_size</a>. If the max_query_size is exceeded, the server throws an exception.</li></ul><p>Default value: empty string.</p><p><strong>Example</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> log_comment </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;log_comment test&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> log_queries </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SYSTEM FLUSH LOGS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> query </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">query_log </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> log_comment </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;log_comment test&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> event_date </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> yesterday</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> event_time </span><span class="token keyword" style="color:rgb(0, 0, 255)">DESC</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─type────────┬─query─────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ QueryStart  │ SELECT 1; │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ QueryFinish │ SELECT 1; │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────┴───────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-log_processors_profiles">log_processors_profiles<a href="#settings-log_processors_profiles" class="hash-link" aria-label="Direct link to log_processors_profiles" title="Direct link to log_processors_profiles">​</a></h2><p>Write time that processor spent during execution/waiting for data to <code>system.processors_profile_log</code> table.</p><p>See also:</p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/processors_profile_log#system-processors_profile_log"><code>system.processors_profile_log</code></a></li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/explain#explain-pipeline"><code>EXPLAIN PIPELINE</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max_insert_block_size">max_insert_block_size<a href="#settings-max_insert_block_size" class="hash-link" aria-label="Direct link to max_insert_block_size" title="Direct link to max_insert_block_size">​</a></h2><p>The size of blocks (in a count of rows) to form for insertion into a table.
This setting only applies in cases when the server forms the blocks.
For example, for an INSERT via the HTTP interface, the server parses the data format and forms blocks of the specified size.
But when using clickhouse-client, the client parses the data itself, and the ‘max_insert_block_size’ setting on the server does not affect the size of the inserted blocks.
The setting also does not have a purpose when using INSERT SELECT, since data is inserted using the same blocks that are formed after SELECT.</p><p>Default value: 1,048,576.</p><p>The default is slightly more than <code>max_block_size</code>. The reason for this is that certain table engines (<code>*MergeTree</code>) form a data part on the disk for each inserted block, which is a fairly large entity. Similarly, <code>*MergeTree</code> tables sort data during insertion, and a large enough block size allow sorting more data in RAM.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-insert-block-size-rows">min_insert_block_size_rows<a href="#min-insert-block-size-rows" class="hash-link" aria-label="Direct link to min_insert_block_size_rows" title="Direct link to min_insert_block_size_rows">​</a></h2><p>Sets the minimum number of rows in the block that can be inserted into a table by an <code>INSERT</code> query. Smaller-sized blocks are squashed into bigger ones.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Squashing disabled.</li></ul><p>Default value: 1048576.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-insert-block-size-bytes">min_insert_block_size_bytes<a href="#min-insert-block-size-bytes" class="hash-link" aria-label="Direct link to min_insert_block_size_bytes" title="Direct link to min_insert_block_size_bytes">​</a></h2><p>Sets the minimum number of bytes in the block which can be inserted into a table by an <code>INSERT</code> query. Smaller-sized blocks are squashed into bigger ones.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Squashing disabled.</li></ul><p>Default value: 268435456.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max_replica_delay_for_distributed_queries">max_replica_delay_for_distributed_queries<a href="#settings-max_replica_delay_for_distributed_queries" class="hash-link" aria-label="Direct link to max_replica_delay_for_distributed_queries" title="Direct link to max_replica_delay_for_distributed_queries">​</a></h2><p>Disables lagging replicas for distributed queries. See <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">Replication</a>.</p><p>Sets the time in seconds. If a replica&#x27;s lag is greater than or equal to the set value, this replica is not used.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Replica lags are not checked.</li></ul><p>To prevent the use of any replica with a non-zero lag, set this parameter to 1.</p><p>Default value: 300.</p><p>Used when performing <code>SELECT</code> from a distributed table that points to replicated tables.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max_threads">max_threads<a href="#settings-max_threads" class="hash-link" aria-label="Direct link to max_threads" title="Direct link to max_threads">​</a></h2><p>The maximum number of query processing threads, excluding threads for retrieving data from remote servers (see the ‘max_distributed_connections’ parameter).</p><p>This parameter applies to threads that perform the same stages of the query processing pipeline in parallel.
For example, when reading from a table, if it is possible to evaluate expressions with functions, filter with WHERE and pre-aggregate for GROUP BY in parallel using at least ‘max_threads’ number of threads, then ‘max_threads’ are used.</p><p>Default value: the number of physical CPU cores.</p><p>For queries that are completed quickly because of a LIMIT, you can set a lower ‘max_threads’. For example, if the necessary number of entries are located in every block and max_threads = 8, then 8 blocks are retrieved, although it would have been enough to read just one.</p><p>The smaller the <code>max_threads</code> value, the less memory is consumed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max-insert-threads">max_insert_threads<a href="#settings-max-insert-threads" class="hash-link" aria-label="Direct link to max_insert_threads" title="Direct link to max_insert_threads">​</a></h2><p>The maximum number of threads to execute the <code>INSERT SELECT</code> query.</p><p>Possible values:</p><ul><li>0 (or 1) — <code>INSERT SELECT</code> no parallel execution.</li><li>Positive integer. Bigger than 1.</li></ul><p>Default value: 0.</p><p>Parallel <code>INSERT SELECT</code> has effect only if the <code>SELECT</code> part is executed in parallel, see <a href="#settings-max_threads">max_threads</a> setting.
Higher values will lead to higher memory usage.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-compress-block-size">max_compress_block_size<a href="#max-compress-block-size" class="hash-link" aria-label="Direct link to max_compress_block_size" title="Direct link to max_compress_block_size">​</a></h2><p>The maximum size of blocks of uncompressed data before compressing for writing to a table. By default, 1,048,576 (1 MiB). Specifying a smaller block size generally leads to slightly reduced compression ratio, the compression and decompression speed increases slightly due to cache locality, and memory consumption is reduced.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This is an expert-level setting, and you shouldn&#x27;t change it if you&#x27;re just getting started with ClickHouse.</p></div></div><p>Don’t confuse blocks for compression (a chunk of memory consisting of bytes) with blocks for query processing (a set of rows from a table).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-compress-block-size">min_compress_block_size<a href="#min-compress-block-size" class="hash-link" aria-label="Direct link to min_compress_block_size" title="Direct link to min_compress_block_size">​</a></h2><p>For <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a> tables. In order to reduce latency when processing queries, a block is compressed when writing the next mark if its size is at least <code>min_compress_block_size</code>. By default, 65,536.</p><p>The actual size of the block, if the uncompressed data is less than <code>max_compress_block_size</code>, is no less than this value and no less than the volume of data for one mark.</p><p>Let’s look at an example. Assume that <code>index_granularity</code> was set to 8192 during table creation.</p><p>We are writing a UInt32-type column (4 bytes per value). When writing 8192 rows, the total will be 32 KB of data. Since min_compress_block_size = 65,536, a compressed block will be formed for every two marks.</p><p>We are writing a URL column with the String type (average size of 60 bytes per value). When writing 8192 rows, the average will be slightly less than 500 KB of data. Since this is more than 65,536, a compressed block will be formed for each mark. In this case, when reading data from the disk in the range of a single mark, extra data won’t be decompressed.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This is an expert-level setting, and you shouldn&#x27;t change it if you&#x27;re just getting started with ClickHouse.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max_query_size">max_query_size<a href="#settings-max_query_size" class="hash-link" aria-label="Direct link to max_query_size" title="Direct link to max_query_size">​</a></h2><p>The maximum part of a query that can be taken to RAM for parsing with the SQL parser.
The INSERT query also contains data for INSERT that is processed by a separate stream parser (that consumes O(1) RAM), which is not included in this restriction.</p><p>Default value: 256 KiB.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max_parser_depth">max_parser_depth<a href="#max_parser_depth" class="hash-link" aria-label="Direct link to max_parser_depth" title="Direct link to max_parser_depth">​</a></h2><p>Limits maximum recursion depth in the recursive descent parser. Allows controlling the stack size.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Recursion depth is unlimited.</li></ul><p>Default value: 1000.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interactive-delay">interactive_delay<a href="#interactive-delay" class="hash-link" aria-label="Direct link to interactive_delay" title="Direct link to interactive_delay">​</a></h2><p>The interval in microseconds for checking whether request execution has been canceled and sending the progress.</p><p>Default value: 100,000 (checks for cancelling and sends the progress ten times per second).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connect-timeout-receive-timeout-send-timeout">connect_timeout, receive_timeout, send_timeout<a href="#connect-timeout-receive-timeout-send-timeout" class="hash-link" aria-label="Direct link to connect_timeout, receive_timeout, send_timeout" title="Direct link to connect_timeout, receive_timeout, send_timeout">​</a></h2><p>Timeouts in seconds on the socket used for communicating with the client.</p><p>Default value: 10, 300, 300.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cancel-http-readonly-queries-on-client-close">cancel_http_readonly_queries_on_client_close<a href="#cancel-http-readonly-queries-on-client-close" class="hash-link" aria-label="Direct link to cancel_http_readonly_queries_on_client_close" title="Direct link to cancel_http_readonly_queries_on_client_close">​</a></h2><p>Cancels HTTP read-only queries (e.g. SELECT) when a client closes the connection without waiting for the response.</p><p>Default value: 0</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="poll-interval">poll_interval<a href="#poll-interval" class="hash-link" aria-label="Direct link to poll_interval" title="Direct link to poll_interval">​</a></h2><p>Lock in a wait loop for the specified number of seconds.</p><p>Default value: 10.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-distributed-connections">max_distributed_connections<a href="#max-distributed-connections" class="hash-link" aria-label="Direct link to max_distributed_connections" title="Direct link to max_distributed_connections">​</a></h2><p>The maximum number of simultaneous connections with remote servers for distributed processing of a single query to a single Distributed table. We recommend setting a value no less than the number of servers in the cluster.</p><p>Default value: 1024.</p><p>The following parameters are only used when creating Distributed tables (and when launching a server), so there is no reason to change them at runtime.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed-connections-pool-size">distributed_connections_pool_size<a href="#distributed-connections-pool-size" class="hash-link" aria-label="Direct link to distributed_connections_pool_size" title="Direct link to distributed_connections_pool_size">​</a></h2><p>The maximum number of simultaneous connections with remote servers for distributed processing of all queries to a single Distributed table. We recommend setting a value no less than the number of servers in the cluster.</p><p>Default value: 1024.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-distributed-depth">max_distributed_depth<a href="#max-distributed-depth" class="hash-link" aria-label="Direct link to max_distributed_depth" title="Direct link to max_distributed_depth">​</a></h2><p>Limits the maximum depth of recursive queries for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Distributed</a> tables.</p><p>If the value is exceeded, the server throws an exception.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Unlimited depth.</li></ul><p>Default value: <code>5</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max_replicated_fetches_network_bandwidth_for_server">max_replicated_fetches_network_bandwidth_for_server<a href="#max_replicated_fetches_network_bandwidth_for_server" class="hash-link" aria-label="Direct link to max_replicated_fetches_network_bandwidth_for_server" title="Direct link to max_replicated_fetches_network_bandwidth_for_server">​</a></h2><p>Limits the maximum speed of data exchange over the network in bytes per second for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">replicated</a> fetches for the server. Only has meaning at server startup. You can also limit the speed for a particular table with <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#max_replicated_fetches_network_bandwidth">max_replicated_fetches_network_bandwidth</a> setting.</p><p>The setting isn&#x27;t followed perfectly accurately.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Unlimited.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Usage</strong></p><p>Could be used for throttling speed when replicating the data to add or replace new nodes.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>60000000 bytes/s approximatly corresponds to 457 Mbps (60000000 / 1024 / 1024 * 8).</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max_replicated_sends_network_bandwidth_for_server">max_replicated_sends_network_bandwidth_for_server<a href="#max_replicated_sends_network_bandwidth_for_server" class="hash-link" aria-label="Direct link to max_replicated_sends_network_bandwidth_for_server" title="Direct link to max_replicated_sends_network_bandwidth_for_server">​</a></h2><p>Limits the maximum speed of data exchange over the network in bytes per second for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">replicated</a> sends for the server. Only has meaning at server startup.  You can also limit the speed for a particular table with <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#max_replicated_sends_network_bandwidth">max_replicated_sends_network_bandwidth</a> setting.</p><p>The setting isn&#x27;t followed perfectly accurately.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Unlimited.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Usage</strong></p><p>Could be used for throttling speed when replicating the data to add or replace new nodes.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>60000000 bytes/s approximatly corresponds to 457 Mbps (60000000 / 1024 / 1024 * 8).</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connect-timeout-with-failover-ms">connect_timeout_with_failover_ms<a href="#connect-timeout-with-failover-ms" class="hash-link" aria-label="Direct link to connect_timeout_with_failover_ms" title="Direct link to connect_timeout_with_failover_ms">​</a></h2><p>The timeout in milliseconds for connecting to a remote server for a Distributed table engine, if the ‘shard’ and ‘replica’ sections are used in the cluster definition.
If unsuccessful, several attempts are made to connect to various replicas.</p><p>Default value: 50.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connection-pool-max-wait-ms">connection_pool_max_wait_ms<a href="#connection-pool-max-wait-ms" class="hash-link" aria-label="Direct link to connection_pool_max_wait_ms" title="Direct link to connection_pool_max_wait_ms">​</a></h2><p>The wait time in milliseconds for a connection when the connection pool is full.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Infinite timeout.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connections-with-failover-max-tries">connections_with_failover_max_tries<a href="#connections-with-failover-max-tries" class="hash-link" aria-label="Direct link to connections_with_failover_max_tries" title="Direct link to connections_with_failover_max_tries">​</a></h2><p>The maximum number of connection attempts with each replica for the Distributed table engine.</p><p>Default value: 3.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extremes">extremes<a href="#extremes" class="hash-link" aria-label="Direct link to extremes" title="Direct link to extremes">​</a></h2><p>Whether to count extreme values (the minimums and maximums in columns of a query result). Accepts 0 or 1. By default, 0 (disabled).
For more information, see the section “Extreme values”.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-max-wait-ms">kafka_max_wait_ms<a href="#kafka-max-wait-ms" class="hash-link" aria-label="Direct link to kafka_max_wait_ms" title="Direct link to kafka_max_wait_ms">​</a></h2><p>The wait time in milliseconds for reading messages from <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/integrations/kafka/#kafka">Kafka</a> before retry.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Infinite timeout.</li></ul><p>Default value: 5000.</p><p>See also:</p><ul><li><a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Apache Kafka</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-disable-num-consumers-limit">kafka_disable_num_consumers_limit<a href="#kafka-disable-num-consumers-limit" class="hash-link" aria-label="Direct link to kafka_disable_num_consumers_limit" title="Direct link to kafka_disable_num_consumers_limit">​</a></h2><p>Disable limit on kafka_num_consumers that depends on the number of available CPU cores.</p><p>Default value: false.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-use_uncompressed_cache">use_uncompressed_cache<a href="#setting-use_uncompressed_cache" class="hash-link" aria-label="Direct link to use_uncompressed_cache" title="Direct link to use_uncompressed_cache">​</a></h2><p>Whether to use a cache of uncompressed blocks. Accepts 0 or 1. By default, 0 (disabled).
Using the uncompressed cache (only for tables in the MergeTree family) can significantly reduce latency and increase throughput when working with a large number of short queries. Enable this setting for users who send frequent short requests. Also pay attention to the <a href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/settings/#server-settings-uncompressed_cache_size">uncompressed_cache_size</a> configuration parameter (only set in the config file) – the size of uncompressed cache blocks. By default, it is 8 GiB. The uncompressed cache is filled in as needed and the least-used data is automatically deleted.</p><p>For queries that read at least a somewhat large volume of data (one million rows or more), the uncompressed cache is disabled automatically to save space for truly small queries. This means that you can keep the ‘use_uncompressed_cache’ setting always set to 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="replace-running-query">replace_running_query<a href="#replace-running-query" class="hash-link" aria-label="Direct link to replace_running_query" title="Direct link to replace_running_query">​</a></h2><p>When using the HTTP interface, the ‘query_id’ parameter can be passed. This is any string that serves as the query identifier.
If a query from the same user with the same ‘query_id’ already exists at this time, the behaviour depends on the ‘replace_running_query’ parameter.</p><p><code>0</code> (default) – Throw an exception (do not allow the query to run if a query with the same ‘query_id’ is already running).</p><p><code>1</code> – Cancel the old query and start running the new one.</p><p>Set this parameter to 1 for implementing suggestions for segmentation conditions. After entering the next character, if the old query hasn’t finished yet, it should be cancelled.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="replace-running-query-max-wait-ms">replace_running_query_max_wait_ms<a href="#replace-running-query-max-wait-ms" class="hash-link" aria-label="Direct link to replace_running_query_max_wait_ms" title="Direct link to replace_running_query_max_wait_ms">​</a></h2><p>The wait time for running the query with the same <code>query_id</code> to finish, when the <a href="#replace-running-query">replace_running_query</a> setting is active.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Throwing an exception that does not allow to run a new query if the server already executes a query with the same <code>query_id</code>.</li></ul><p>Default value: 5000.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stream-flush-interval-ms">stream_flush_interval_ms<a href="#stream-flush-interval-ms" class="hash-link" aria-label="Direct link to stream_flush_interval_ms" title="Direct link to stream_flush_interval_ms">​</a></h2><p>Works for tables with streaming in the case of a timeout, or when a thread generates <a href="#settings-max_insert_block_size">max_insert_block_size</a> rows.</p><p>The default value is 7500.</p><p>The smaller the value, the more often data is flushed into the table. Setting the value too low leads to poor performance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stream_poll_timeout_ms">stream_poll_timeout_ms<a href="#stream_poll_timeout_ms" class="hash-link" aria-label="Direct link to stream_poll_timeout_ms" title="Direct link to stream_poll_timeout_ms">​</a></h2><p>Timeout for polling data from/to streaming storages.</p><p>Default value: 500.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-load_balancing">load_balancing<a href="#settings-load_balancing" class="hash-link" aria-label="Direct link to load_balancing" title="Direct link to load_balancing">​</a></h2><p>Specifies the algorithm of replicas selection that is used for distributed query processing.</p><p>ClickHouse supports the following algorithms of choosing replicas:</p><ul><li><a href="#load_balancing-random">Random</a> (by default)</li><li><a href="#load_balancing-nearest_hostname">Nearest hostname</a></li><li><a href="#load_balancing-in_order">In order</a></li><li><a href="#load_balancing-first_or_random">First or random</a></li><li><a href="#load_balancing-round_robin">Round robin</a></li></ul><p>See also:</p><ul><li><a href="#settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="load_balancing-random">Random (by Default)<a href="#load_balancing-random" class="hash-link" aria-label="Direct link to Random (by Default)" title="Direct link to Random (by Default)">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> random</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The number of errors is counted for each replica. The query is sent to the replica with the fewest errors, and if there are several of these, to anyone of them.
Disadvantages: Server proximity is not accounted for; if the replicas have different data, you will also get different data.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="load_balancing-nearest_hostname">Nearest Hostname<a href="#load_balancing-nearest_hostname" class="hash-link" aria-label="Direct link to Nearest Hostname" title="Direct link to Nearest Hostname">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> nearest_hostname</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The number of errors is counted for each replica. Every 5 minutes, the number of errors is integrally divided by 2. Thus, the number of errors is calculated for a recent time with exponential smoothing. If there is one replica with a minimal number of errors (i.e. errors occurred recently on the other replicas), the query is sent to it. If there are multiple replicas with the same minimal number of errors, the query is sent to the replica with a hostname that is most similar to the server’s hostname in the config file (for the number of different characters in identical positions, up to the minimum length of both hostnames).</p><p>For instance, example01-01-1 and example01-01-2 are different in one position, while example01-01-1 and example01-02-2 differ in two places.
This method might seem primitive, but it does not require external data about network topology, and it does not compare IP addresses, which would be complicated for our IPv6 addresses.</p><p>Thus, if there are equivalent replicas, the closest one by name is preferred.
We can also assume that when sending a query to the same server, in the absence of failures, a distributed query will also go to the same servers. So even if different data is placed on the replicas, the query will return mostly the same results.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="load_balancing-in_order">In Order<a href="#load_balancing-in_order" class="hash-link" aria-label="Direct link to In Order" title="Direct link to In Order">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> in_order</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Replicas with the same number of errors are accessed in the same order as they are specified in the configuration.
This method is appropriate when you know exactly which replica is preferable.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="load_balancing-first_or_random">First or Random<a href="#load_balancing-first_or_random" class="hash-link" aria-label="Direct link to First or Random" title="Direct link to First or Random">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> first_or_random</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This algorithm chooses the first replica in the set or a random replica if the first is unavailable. It’s effective in cross-replication topology setups, but useless in other configurations.</p><p>The <code>first_or_random</code> algorithm solves the problem of the <code>in_order</code> algorithm. With <code>in_order</code>, if one replica goes down, the next one gets a double load while the remaining replicas handle the usual amount of traffic. When using the <code>first_or_random</code> algorithm, the load is evenly distributed among replicas that are still available.</p><p>It&#x27;s possible to explicitly define what the first replica is by using the setting <code>load_balancing_first_offset</code>. This gives more control to rebalance query workloads among replicas.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="load_balancing-round_robin">Round Robin<a href="#load_balancing-round_robin" class="hash-link" aria-label="Direct link to Round Robin" title="Direct link to Round Robin">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> round_robin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This algorithm uses a round-robin policy across replicas with the same number of errors (only the queries with <code>round_robin</code> policy is accounted).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-prefer-localhost-replica">prefer_localhost_replica<a href="#settings-prefer-localhost-replica" class="hash-link" aria-label="Direct link to prefer_localhost_replica" title="Direct link to prefer_localhost_replica">​</a></h2><p>Enables/disables preferable using the localhost replica when processing distributed queries.</p><p>Possible values:</p><ul><li>1 — ClickHouse always sends a query to the localhost replica if it exists.</li><li>0 — ClickHouse uses the balancing strategy specified by the <a href="#settings-load_balancing">load_balancing</a> setting.</li></ul><p>Default value: 1.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Disable this setting if you use <a href="#settings-max_parallel_replicas">max_parallel_replicas</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="totals-mode">totals_mode<a href="#totals-mode" class="hash-link" aria-label="Direct link to totals_mode" title="Direct link to totals_mode">​</a></h2><p>How to calculate TOTALS when HAVING is present, as well as when max_rows_to_group_by and group_by_overflow_mode = ‘any’ are present.
See the section “WITH TOTALS modifier”.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="totals-auto-threshold">totals_auto_threshold<a href="#totals-auto-threshold" class="hash-link" aria-label="Direct link to totals_auto_threshold" title="Direct link to totals_auto_threshold">​</a></h2><p>The threshold for <code>totals_mode = &#x27;auto&#x27;</code>.
See the section “WITH TOTALS modifier”.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max_parallel_replicas">max_parallel_replicas<a href="#settings-max_parallel_replicas" class="hash-link" aria-label="Direct link to max_parallel_replicas" title="Direct link to max_parallel_replicas">​</a></h2><p>The maximum number of replicas for each shard when executing a query.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>1</code>.</p><p><strong>Additional Info</strong></p><p>This setting is useful for replicated tables with a sampling key. A query may be processed faster if it is executed on several servers in parallel. But the query performance may degrade in the following cases:</p><ul><li>The position of the sampling key in the partitioning key does not allow efficient range scans.</li><li>Adding a sampling key to the table makes filtering by other columns less efficient.</li><li>The sampling key is an expression that is expensive to calculate.</li><li>The cluster latency distribution has a long tail, so that querying more servers increases the query overall latency.</li></ul><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This setting will produce incorrect results when joins or subqueries are involved, and all tables don&#x27;t meet certain requirements. See <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/operators/in/#max_parallel_replica-subqueries">Distributed Subqueries and max_parallel_replicas</a> for more details.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compile-expressions">compile_expressions<a href="#compile-expressions" class="hash-link" aria-label="Direct link to compile_expressions" title="Direct link to compile_expressions">​</a></h2><p>Enables or disables compilation of frequently used simple functions and operators to native code with LLVM at runtime.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-count-to-compile-expression">min_count_to_compile_expression<a href="#min-count-to-compile-expression" class="hash-link" aria-label="Direct link to min_count_to_compile_expression" title="Direct link to min_count_to_compile_expression">​</a></h2><p>Minimum count of executing same expression before it is get compiled.</p><p>Default value: <code>3</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compile_aggregate_expressions">compile_aggregate_expressions<a href="#compile_aggregate_expressions" class="hash-link" aria-label="Direct link to compile_aggregate_expressions" title="Direct link to compile_aggregate_expressions">​</a></h2><p>Enables or disables JIT-compilation of aggregate functions to native code. Enabling this setting can improve the performance.</p><p>Possible values:</p><ul><li>0 — Aggregation is done without JIT compilation.</li><li>1 — Aggregation is done using JIT compilation.</li></ul><p>Default value: <code>1</code>.</p><p><strong>See Also</strong></p><ul><li><a href="#min_count_to_compile_aggregate_expression">min_count_to_compile_aggregate_expression</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min_count_to_compile_aggregate_expression">min_count_to_compile_aggregate_expression<a href="#min_count_to_compile_aggregate_expression" class="hash-link" aria-label="Direct link to min_count_to_compile_aggregate_expression" title="Direct link to min_count_to_compile_aggregate_expression">​</a></h2><p>The minimum number of identical aggregate expressions to start JIT-compilation. Works only if the <a href="#compile_aggregate_expressions">compile_aggregate_expressions</a> setting is enabled.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Identical aggregate expressions are always JIT-compiled.</li></ul><p>Default value: <code>3</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-query-cache">use_query_cache<a href="#use-query-cache" class="hash-link" aria-label="Direct link to use_query_cache" title="Direct link to use_query_cache">​</a></h2><p>If turned on, <code>SELECT</code> queries may utilize the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a>. Parameters <a href="#enable-reads-from-query-cache">enable_reads_from_query_cache</a>
and <a href="#enable-writes-to-query-cache">enable_writes_to_query_cache</a> control in more detail how the cache is used.</p><p>Possible values:</p><ul><li>0 - Yes</li><li>1 - No</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-reads-from-query-cache">enable_reads_from_query_cache<a href="#enable-reads-from-query-cache" class="hash-link" aria-label="Direct link to enable_reads_from_query_cache" title="Direct link to enable_reads_from_query_cache">​</a></h2><p>If turned on, results of <code>SELECT</code> queries are retrieved from the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a>.</p><p>Possible values:</p><ul><li>0 - Disabled</li><li>1 - Enabled</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-writes-to-query-cache">enable_writes_to_query_cache<a href="#enable-writes-to-query-cache" class="hash-link" aria-label="Direct link to enable_writes_to_query_cache" title="Direct link to enable_writes_to_query_cache">​</a></h2><p>If turned on, results of <code>SELECT</code> queries are stored in the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a>.</p><p>Possible values:</p><ul><li>0 - Disabled</li><li>1 - Enabled</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query--store-results-of-queries-with-nondeterministic-functions">query_cache_store_results_of_queries_with_nondeterministic_functions<a href="#query--store-results-of-queries-with-nondeterministic-functions" class="hash-link" aria-label="Direct link to query_cache_store_results_of_queries_with_nondeterministic_functions" title="Direct link to query_cache_store_results_of_queries_with_nondeterministic_functions">​</a></h2><p>If turned on, then results of <code>SELECT</code> queries with non-deterministic functions (e.g. <code>rand()</code>, <code>now()</code>) can be cached in the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a>.</p><p>Possible values:</p><ul><li>0 - Disabled</li><li>1 - Enabled</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-cache-min-query-runs">query_cache_min_query_runs<a href="#query-cache-min-query-runs" class="hash-link" aria-label="Direct link to query_cache_min_query_runs" title="Direct link to query_cache_min_query_runs">​</a></h2><p>Minimum number of times a <code>SELECT</code> query must run before its result is stored in the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a>.</p><p>Possible values:</p><ul><li>Positive integer &gt;= 0.</li></ul><p>Default value: <code>0</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-cache-min-query-duration">query_cache_min_query_duration<a href="#query-cache-min-query-duration" class="hash-link" aria-label="Direct link to query_cache_min_query_duration" title="Direct link to query_cache_min_query_duration">​</a></h2><p>Minimum duration in milliseconds a query needs to run for its result to be stored in the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a>.</p><p>Possible values:</p><ul><li>Positive integer &gt;= 0.</li></ul><p>Default value: <code>0</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-cache-ttl">query_cache_ttl<a href="#query-cache-ttl" class="hash-link" aria-label="Direct link to query_cache_ttl" title="Direct link to query_cache_ttl">​</a></h2><p>After this time in seconds entries in the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a> become stale.</p><p>Possible values:</p><ul><li>Positive integer &gt;= 0.</li></ul><p>Default value: <code>60</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-cache-share-between-users">query_cache_share_between_users<a href="#query-cache-share-between-users" class="hash-link" aria-label="Direct link to query_cache_share_between_users" title="Direct link to query_cache_share_between_users">​</a></h2><p>If turned on, the result of <code>SELECT</code> queries cached in the <a href="/AlgoliaDocsSelfCrawl/en/operations/query-cache">query cache</a> can be read by other users.
It is not recommended to enable this setting due to security reasons.</p><p>Possible values:</p><ul><li>0 - Disabled</li><li>1 - Enabled</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-insert_quorum">insert_quorum<a href="#settings-insert_quorum" class="hash-link" aria-label="Direct link to insert_quorum" title="Direct link to insert_quorum">​</a></h2><p>Enables the quorum writes.</p><ul><li>If <code>insert_quorum &lt; 2</code>, the quorum writes are disabled.</li><li>If <code>insert_quorum &gt;= 2</code>, the quorum writes are enabled.</li><li>If <code>insert_quorum = &#x27;auto&#x27;</code>, use majority number (<code>number_of_replicas / 2 + 1</code>) as quorum number.</li></ul><p>Default value: 0 - disabled.</p><p>Quorum writes</p><p><code>INSERT</code> succeeds only when ClickHouse manages to correctly write data to the <code>insert_quorum</code> of replicas during the <code>insert_quorum_timeout</code>. If for any reason the number of replicas with successful writes does not reach the <code>insert_quorum</code>, the write is considered failed and ClickHouse will delete the inserted block from all the replicas where data has already been written.</p><p>When <code>insert_quorum_parallel</code> is disabled, all replicas in the quorum are consistent, i.e. they contain data from all previous <code>INSERT</code> queries (the <code>INSERT</code> sequence is linearized). When reading data written using <code>insert_quorum</code> and <code>insert_quorum_parallel</code> is disabled, you can turn on sequential consistency for <code>SELECT</code> queries using <a href="#settings-select_sequential_consistency">select_sequential_consistency</a>.</p><p>ClickHouse generates an exception:</p><ul><li>If the number of available replicas at the time of the query is less than the <code>insert_quorum</code>.</li><li>When <code>insert_quorum_parallel</code> is disabled and an attempt to write data is made when the previous block has not yet been inserted in <code>insert_quorum</code> of replicas. This situation may occur if the user tries to perform another <code>INSERT</code> query to the same table before the previous one with <code>insert_quorum</code> is completed.</li></ul><p>See also:</p><ul><li><a href="#settings-insert_quorum_timeout">insert_quorum_timeout</a></li><li><a href="#settings-insert_quorum_parallel">insert_quorum_parallel</a></li><li><a href="#settings-select_sequential_consistency">select_sequential_consistency</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-insert_quorum_timeout">insert_quorum_timeout<a href="#settings-insert_quorum_timeout" class="hash-link" aria-label="Direct link to insert_quorum_timeout" title="Direct link to insert_quorum_timeout">​</a></h2><p>Write to a quorum timeout in milliseconds. If the timeout has passed and no write has taken place yet, ClickHouse will generate an exception and the client must repeat the query to write the same block to the same or any other replica.</p><p>Default value: 600 000 milliseconds (ten minutes).</p><p>See also:</p><ul><li><a href="#settings-insert_quorum">insert_quorum</a></li><li><a href="#settings-insert_quorum_parallel">insert_quorum_parallel</a></li><li><a href="#settings-select_sequential_consistency">select_sequential_consistency</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-insert_quorum_parallel">insert_quorum_parallel<a href="#settings-insert_quorum_parallel" class="hash-link" aria-label="Direct link to insert_quorum_parallel" title="Direct link to insert_quorum_parallel">​</a></h2><p>Enables or disables parallelism for quorum <code>INSERT</code> queries. If enabled, additional <code>INSERT</code> queries can be sent while previous queries have not yet finished. If disabled, additional writes to the same table will be rejected.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 1.</p><p>See also:</p><ul><li><a href="#settings-insert_quorum">insert_quorum</a></li><li><a href="#settings-insert_quorum_timeout">insert_quorum_timeout</a></li><li><a href="#settings-select_sequential_consistency">select_sequential_consistency</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-select_sequential_consistency">select_sequential_consistency<a href="#settings-select_sequential_consistency" class="hash-link" aria-label="Direct link to select_sequential_consistency" title="Direct link to select_sequential_consistency">​</a></h2><p>Enables or disables sequential consistency for <code>SELECT</code> queries. Requires <code>insert_quorum_parallel</code> to be disabled (enabled by default).</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 0.</p><p>Usage</p><p>When sequential consistency is enabled, ClickHouse allows the client to execute the <code>SELECT</code> query only for those replicas that contain data from all previous <code>INSERT</code> queries executed with <code>insert_quorum</code>. If the client refers to a partial replica, ClickHouse will generate an exception. The SELECT query will not include data that has not yet been written to the quorum of replicas.</p><p>When <code>insert_quorum_parallel</code> is enabled (the default), then <code>select_sequential_consistency</code> does not work. This is because parallel <code>INSERT</code> queries can be written to different sets of quorum replicas so there is no guarantee a single replica will have received all writes.</p><p>See also:</p><ul><li><a href="#settings-insert_quorum">insert_quorum</a></li><li><a href="#settings-insert_quorum_timeout">insert_quorum_timeout</a></li><li><a href="#settings-insert_quorum_parallel">insert_quorum_parallel</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-insert-deduplicate">insert_deduplicate<a href="#settings-insert-deduplicate" class="hash-link" aria-label="Direct link to insert_deduplicate" title="Direct link to insert_deduplicate">​</a></h2><p>Enables or disables block deduplication of <code>INSERT</code> (for Replicated<!-- -->*<!-- --> tables).</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 1.</p><p>By default, blocks inserted into replicated tables by the <code>INSERT</code> statement are deduplicated (see <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">Data Replication</a>).
For the replicated tables by default the only 100 of the most recent blocks for each partition are deduplicated (see <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#replicated-deduplication-window">replicated_deduplication_window</a>, <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#replicated-deduplication-window-seconds">replicated_deduplication_window_seconds</a>).
For not replicated tables see <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#non-replicated-deduplication-window">non_replicated_deduplication_window</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="asynchronous-insert-settings">Asynchronous Insert settings<a href="#asynchronous-insert-settings" class="hash-link" aria-label="Direct link to Asynchronous Insert settings" title="Direct link to Asynchronous Insert settings">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-insert">async_insert<a href="#async-insert" class="hash-link" aria-label="Direct link to async_insert" title="Direct link to async_insert">​</a></h3><p>Enables or disables asynchronous inserts. This makes sense only for insertion over HTTP protocol. Note that deduplication isn&#x27;t working for such inserts.</p><p>If enabled, the data is combined into batches before the insertion into tables, so it is possible to do small and frequent insertions into ClickHouse (up to 15000 queries per second) without buffer tables.</p><p>The data is inserted either after the <a href="#async-insert-max-data-size">async_insert_max_data_size</a> is exceeded or after <a href="#async-insert-busy-timeout-ms">async_insert_busy_timeout_ms</a> milliseconds since the first <code>INSERT</code> query. If the <a href="#async-insert-stale-timeout-ms">async_insert_stale_timeout_ms</a> is set to a non-zero value, the data is inserted after <code>async_insert_stale_timeout_ms</code> milliseconds since the last query.</p><p>If <a href="#wait-for-async-insert">wait_for_async_insert</a> is enabled, every client will wait for the data to be processed and flushed to the table. Otherwise, the query would be processed almost instantly, even if the data is not inserted.</p><p>Possible values:</p><ul><li>0 — Insertions are made synchronously, one after another.</li><li>1 — Multiple asynchronous insertions enabled.</li></ul><p>Default value: <code>0</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-insert-threads">async_insert_threads<a href="#async-insert-threads" class="hash-link" aria-label="Direct link to async_insert_threads" title="Direct link to async_insert_threads">​</a></h3><p>The maximum number of threads for background data parsing and insertion.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Asynchronous insertions are disabled.</li></ul><p>Default value: <code>16</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wait-for-async-insert">wait_for_async_insert<a href="#wait-for-async-insert" class="hash-link" aria-label="Direct link to wait_for_async_insert" title="Direct link to wait_for_async_insert">​</a></h3><p>Enables or disables waiting for processing of asynchronous insertion. If enabled, server will return <code>OK</code> only after the data is inserted. Otherwise, it will return <code>OK</code> even if the data wasn&#x27;t inserted.</p><p>Possible values:</p><ul><li>0 — Server returns <code>OK</code> even if the data is not yet inserted.</li><li>1 — Server returns <code>OK</code> only after the data is inserted.</li></ul><p>Default value: <code>1</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wait-for-async-insert-timeout">wait_for_async_insert_timeout<a href="#wait-for-async-insert-timeout" class="hash-link" aria-label="Direct link to wait_for_async_insert_timeout" title="Direct link to wait_for_async_insert_timeout">​</a></h3><p>The timeout in seconds for waiting for processing of asynchronous insertion.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Disabled.</li></ul><p>Default value: <a href="#lock_acquire_timeout">lock_acquire_timeout</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-insert-max-data-size">async_insert_max_data_size<a href="#async-insert-max-data-size" class="hash-link" aria-label="Direct link to async_insert_max_data_size" title="Direct link to async_insert_max_data_size">​</a></h3><p>The maximum size of the unparsed data in bytes collected per query before being inserted.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Asynchronous insertions are disabled.</li></ul><p>Default value: <code>100000</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-insert-max-query-number">async_insert_max_query_number<a href="#async-insert-max-query-number" class="hash-link" aria-label="Direct link to async_insert_max_query_number" title="Direct link to async_insert_max_query_number">​</a></h3><p>The maximum number of insert queries per block before being inserted. This setting takes effect only if <a href="#settings-async-insert-deduplicate">async_insert_deduplicate</a> is enabled.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Asynchronous insertions are disabled.</li></ul><p>Default value: <code>450</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-insert-busy-timeout-ms">async_insert_busy_timeout_ms<a href="#async-insert-busy-timeout-ms" class="hash-link" aria-label="Direct link to async_insert_busy_timeout_ms" title="Direct link to async_insert_busy_timeout_ms">​</a></h3><p>The maximum timeout in milliseconds since the first <code>INSERT</code> query before inserting collected data.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Timeout disabled.</li></ul><p>Default value: <code>200</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-insert-stale-timeout-ms">async_insert_stale_timeout_ms<a href="#async-insert-stale-timeout-ms" class="hash-link" aria-label="Direct link to async_insert_stale_timeout_ms" title="Direct link to async_insert_stale_timeout_ms">​</a></h3><p>The maximum timeout in milliseconds since the last <code>INSERT</code> query before dumping collected data. If enabled, the settings prolongs the <a href="#async-insert-busy-timeout-ms">async_insert_busy_timeout_ms</a> with every <code>INSERT</code> query as long as <a href="#async-insert-max-data-size">async_insert_max_data_size</a> is not exceeded.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Timeout disabled.</li></ul><p>Default value: <code>0</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="settings-async-insert-deduplicate">async_insert_deduplicate<a href="#settings-async-insert-deduplicate" class="hash-link" aria-label="Direct link to async_insert_deduplicate" title="Direct link to async_insert_deduplicate">​</a></h3><p>Enables or disables insert deduplication of <code>ASYNC INSERT</code> (for Replicated<!-- -->*<!-- --> tables).</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 1.</p><p>By default, async inserts are inserted into replicated tables by the <code>INSERT</code> statement enabling <a href="#async-insert">async_isnert</a> are deduplicated (see <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">Data Replication</a>).
For the replicated tables, by default, only 10000 of the most recent inserts for each partition are deduplicated (see <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#replicated-deduplication-window-async-inserts">replicated_deduplication_window_for_async_inserts</a>, <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#replicated-deduplication-window-seconds-async-inserts">replicated_deduplication_window_seconds_for_async_inserts</a>).
We recommend enabling the <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#use-async-block-ids-cache">async_block_ids_cache</a> to increase the efficiency of deduplication.
This function does not work for non-replicated tables.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-deduplicate-blocks-in-dependent-materialized-views">deduplicate_blocks_in_dependent_materialized_views<a href="#settings-deduplicate-blocks-in-dependent-materialized-views" class="hash-link" aria-label="Direct link to deduplicate_blocks_in_dependent_materialized_views" title="Direct link to deduplicate_blocks_in_dependent_materialized_views">​</a></h2><p>Enables or disables the deduplication check for materialized views that receive data from Replicated<!-- -->*<!-- --> tables.</p><p>Possible values:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">  0 — Disabled.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  1 — Enabled.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Default value: 0.</p><p>Usage</p><p>By default, deduplication is not performed for materialized views but is done upstream, in the source table.
If an INSERTed block is skipped due to deduplication in the source table, there will be no insertion into attached materialized views. This behaviour exists to enable the insertion of highly aggregated data into materialized views, for cases where inserted blocks are the same after materialized view aggregation but derived from different INSERTs into the source table.
At the same time, this behaviour “breaks” <code>INSERT</code> idempotency. If an <code>INSERT</code> into the main table was successful and <code>INSERT</code> into a materialized view failed (e.g. because of communication failure with ClickHouse Keeper) a client will get an error and can retry the operation. However, the materialized view won’t receive the second insert because it will be discarded by deduplication in the main (source) table. The setting <code>deduplicate_blocks_in_dependent_materialized_views</code> allows for changing this behaviour. On retry, a materialized view will receive the repeat insert and will perform a deduplication check by itself,
ignoring check result for the source table, and will insert rows lost because of the first failure.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert_deduplication_token">insert_deduplication_token<a href="#insert_deduplication_token" class="hash-link" aria-label="Direct link to insert_deduplication_token" title="Direct link to insert_deduplication_token">​</a></h2><p>The setting allows a user to provide own deduplication semantic in MergeTree/ReplicatedMergeTree
For example, by providing a unique value for the setting in each INSERT statement,
user can avoid the same inserted data being deduplicated.</p><p>Possible values:</p><ul><li>Any string</li></ul><p>Default value: empty string (disabled)</p><p><code>insert_deduplication_token</code> is used for deduplication <em>only</em> when not empty.</p><p>For the replicated tables by default the only 100 of the most recent inserts for each partition are deduplicated (see <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#replicated-deduplication-window">replicated_deduplication_window</a>, <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#replicated-deduplication-window-seconds">replicated_deduplication_window_seconds</a>).
For not replicated tables see <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/merge-tree-settings/#non-replicated-deduplication-window">non_replicated_deduplication_window</a>.</p><p>Example:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test_table</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> A Int64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> A</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS non_replicated_deduplication_window </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test_table SETTINGS insert_deduplication_token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- the next insert won&#x27;t be deduplicated because insert_deduplication_token is different</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test_table SETTINGS insert_deduplication_token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test1&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- the next insert will be deduplicated because insert_deduplication_token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- is the same as one of the previous</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test_table SETTINGS insert_deduplication_token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test_table</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─A─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─A─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert_keeper_max_retries">insert_keeper_max_retries<a href="#insert_keeper_max_retries" class="hash-link" aria-label="Direct link to insert_keeper_max_retries" title="Direct link to insert_keeper_max_retries">​</a></h2><p>The setting sets the maximum number of retries for ClickHouse Keeper (or ZooKeeper) requests during insert into replicated MergeTree. Only Keeper requests which failed due to network error, Keeper session timeout, or request timeout are considered for retries.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Retries are disabled</li></ul><p>Default value: 0</p><p>Keeper request retries are done after some timeout. The timeout is controlled by the following settings: <code>insert_keeper_retry_initial_backoff_ms</code>, <code>insert_keeper_retry_max_backoff_ms</code>.
The first retry is done after <code>insert_keeper_retry_initial_backoff_ms</code> timeout. The consequent timeouts will be calculated as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">timeout = min(insert_keeper_retry_max_backoff_ms, latest_timeout * 2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example, if <code>insert_keeper_retry_initial_backoff_ms=100</code>, <code>insert_keeper_retry_max_backoff_ms=10000</code> and <code>insert_keeper_max_retries=8</code> then timeouts will be <code>100, 200, 400, 800, 1600, 3200, 6400, 10000</code>.</p><p>Apart from fault tolerance, the retries aim to provide a better user experience - they allow to avoid returning an error during INSERT execution if Keeper is restarted, for example, due to an upgrade.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert_keeper_retry_initial_backoff_ms">insert_keeper_retry_initial_backoff_ms<a href="#insert_keeper_retry_initial_backoff_ms" class="hash-link" aria-label="Direct link to insert_keeper_retry_initial_backoff_ms" title="Direct link to insert_keeper_retry_initial_backoff_ms">​</a></h2><p>Initial timeout(in milliseconds) to retry a failed Keeper request during INSERT query execution</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — No timeout</li></ul><p>Default value: 100</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert_keeper_retry_max_backoff_ms">insert_keeper_retry_max_backoff_ms<a href="#insert_keeper_retry_max_backoff_ms" class="hash-link" aria-label="Direct link to insert_keeper_retry_max_backoff_ms" title="Direct link to insert_keeper_retry_max_backoff_ms">​</a></h2><p>Maximum timeout (in milliseconds) to retry a failed Keeper request during INSERT query execution</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Maximum timeout is not limited</li></ul><p>Default value: 10000</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max-network-bytes">max_network_bytes<a href="#settings-max-network-bytes" class="hash-link" aria-label="Direct link to max_network_bytes" title="Direct link to max_network_bytes">​</a></h2><p>Limits the data volume (in bytes) that is received or transmitted over the network when executing a query. This setting applies to every individual query.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Data volume control is disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max-network-bandwidth">max_network_bandwidth<a href="#settings-max-network-bandwidth" class="hash-link" aria-label="Direct link to max_network_bandwidth" title="Direct link to max_network_bandwidth">​</a></h2><p>Limits the speed of the data exchange over the network in bytes per second. This setting applies to every query.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Bandwidth control is disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max-network-bandwidth-for-user">max_network_bandwidth_for_user<a href="#settings-max-network-bandwidth-for-user" class="hash-link" aria-label="Direct link to max_network_bandwidth_for_user" title="Direct link to max_network_bandwidth_for_user">​</a></h2><p>Limits the speed of the data exchange over the network in bytes per second. This setting applies to all concurrently running queries performed by a single user.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Control of the data speed is disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-max-network-bandwidth-for-all-users">max_network_bandwidth_for_all_users<a href="#settings-max-network-bandwidth-for-all-users" class="hash-link" aria-label="Direct link to max_network_bandwidth_for_all_users" title="Direct link to max_network_bandwidth_for_all_users">​</a></h2><p>Limits the speed that data is exchanged at over the network in bytes per second. This setting applies to all concurrently running queries on the server.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Control of the data speed is disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-count_distinct_implementation">count_distinct_implementation<a href="#settings-count_distinct_implementation" class="hash-link" aria-label="Direct link to count_distinct_implementation" title="Direct link to count_distinct_implementation">​</a></h2><p>Specifies which of the <code>uniq*</code> functions should be used to perform the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/count/#agg_function-count">COUNT(DISTINCT …)</a> construction.</p><p>Possible values:</p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/uniq/#agg_function-uniq">uniq</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/uniqcombined/#agg_function-uniqcombined">uniqCombined</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/uniqcombined64/#agg_function-uniqcombined64">uniqCombined64</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/uniqhll12/#agg_function-uniqhll12">uniqHLL12</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/uniqexact/#agg_function-uniqexact">uniqExact</a></li></ul><p>Default value: <code>uniqExact</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-skip_unavailable_shards">skip_unavailable_shards<a href="#settings-skip_unavailable_shards" class="hash-link" aria-label="Direct link to skip_unavailable_shards" title="Direct link to skip_unavailable_shards">​</a></h2><p>Enables or disables silently skipping of unavailable shards.</p><p>Shard is considered unavailable if all its replicas are unavailable. A replica is unavailable in the following cases:</p><ul><li><p>ClickHouse can’t connect to replica for any reason.</p><p>When connecting to a replica, ClickHouse performs several attempts. If all these attempts fail, the replica is considered unavailable.</p></li><li><p>Replica can’t be resolved through DNS.</p><p>If replica’s hostname can’t be resolved through DNS, it can indicate the following situations:</p><ul><li><p>Replica’s host has no DNS record. It can occur in systems with dynamic DNS, for example, <a href="https://kubernetes.io" target="_blank" rel="noopener noreferrer">Kubernetes</a>, where nodes can be unresolvable during downtime, and this is not an error.</p></li><li><p>Configuration error. ClickHouse configuration file contains a wrong hostname.</p></li></ul></li></ul><p>Possible values:</p><ul><li><p>1 — skipping enabled.</p><p>If a shard is unavailable, ClickHouse returns a result based on partial data and does not report node availability issues.</p></li><li><p>0 — skipping disabled.</p><p>If a shard is unavailable, ClickHouse throws an exception.</p></li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed-group-by-no-merge">distributed_group_by_no_merge<a href="#distributed-group-by-no-merge" class="hash-link" aria-label="Direct link to distributed_group_by_no_merge" title="Direct link to distributed_group_by_no_merge">​</a></h2><p>Do not merge aggregation states from different servers for distributed query processing, you can use this in case it is for certain that there are different keys on different shards</p><p>Possible values:</p><ul><li><code>0</code> — Disabled (final query processing is done on the initiator node).</li><li><code>1</code> - Do not merge aggregation states from different servers for distributed query processing (query completelly processed on the shard, initiator only proxy the data), can be used in case it is for certain that there are different keys on different shards.</li><li><code>2</code> - Same as <code>1</code> but applies <code>ORDER BY</code> and <code>LIMIT</code> (it is not possible when the query processed completelly on the remote node, like for <code>distributed_group_by_no_merge=1</code>) on the initiator (can be used for queries with <code>ORDER BY</code> and/or <code>LIMIT</code>).</li></ul><p>Default value: <code>0</code></p><p><strong>Example</strong></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> remote</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;127.0.0.{2,3}&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">dummy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS distributed_group_by_no_merge </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">FORMAT PrettyCompactMonoBlock</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─</span><span class="token keyword" style="color:rgb(0, 0, 255)">dummy</span><span class="token plain">─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> remote</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;127.0.0.{2,3}&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">dummy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS distributed_group_by_no_merge </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">FORMAT PrettyCompactMonoBlock</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─</span><span class="token keyword" style="color:rgb(0, 0, 255)">dummy</span><span class="token plain">─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│     </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed-push-down-limit">distributed_push_down_limit<a href="#distributed-push-down-limit" class="hash-link" aria-label="Direct link to distributed_push_down_limit" title="Direct link to distributed_push_down_limit">​</a></h2><p>Enables or disables <a href="#limit">LIMIT</a> applying on each shard separatelly.</p><p>This will allow to avoid:</p><ul><li>Sending extra rows over network;</li><li>Processing rows behind the limit on the initiator.</li></ul><p>Starting from 21.9 version you cannot get inaccurate results anymore, since <code>distributed_push_down_limit</code> changes query execution only if at least one of the conditions met:</p><ul><li><a href="#distributed-group-by-no-merge">distributed_group_by_no_merge</a> &gt; 0.</li><li>Query <strong>does not have</strong> <code>GROUP BY</code>/<code>DISTINCT</code>/<code>LIMIT BY</code>, but it has <code>ORDER BY</code>/<code>LIMIT</code>.</li><li>Query <strong>has</strong> <code>GROUP BY</code>/<code>DISTINCT</code>/<code>LIMIT BY</code> with <code>ORDER BY</code>/<code>LIMIT</code> and:<ul><li><a href="#optimize-skip-unused-shards">optimize_skip_unused_shards</a> is enabled.</li><li><a href="#optimize-distributed-group-by-sharding-key">optimize_distributed_group_by_sharding_key</a> is enabled.</li></ul></li></ul><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: <code>1</code>.</p><p>See also:</p><ul><li><a href="#distributed-group-by-no-merge">distributed_group_by_no_merge</a></li><li><a href="#optimize-skip-unused-shards">optimize_skip_unused_shards</a></li><li><a href="#optimize-distributed-group-by-sharding-key">optimize_distributed_group_by_sharding_key</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-skip-unused-shards-limit">optimize_skip_unused_shards_limit<a href="#optimize-skip-unused-shards-limit" class="hash-link" aria-label="Direct link to optimize_skip_unused_shards_limit" title="Direct link to optimize_skip_unused_shards_limit">​</a></h2><p>Limit for number of sharding key values, turns off <code>optimize_skip_unused_shards</code> if the limit is reached.</p><p>Too many values may require significant amount for processing, while the benefit is doubtful, since if you have huge number of values in <code>IN (...)</code>, then most likely the query will be sent to all shards anyway.</p><p>Default value: 1000</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-skip-unused-shards">optimize_skip_unused_shards<a href="#optimize-skip-unused-shards" class="hash-link" aria-label="Direct link to optimize_skip_unused_shards" title="Direct link to optimize_skip_unused_shards">​</a></h2><p>Enables or disables skipping of unused shards for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/">SELECT</a> queries that have sharding key condition in <code>WHERE/PREWHERE</code> (assuming that the data is distributed by sharding key, otherwise a query yields incorrect result).</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 0</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-skip-unused-shards-rewrite-in">optimize_skip_unused_shards_rewrite_in<a href="#optimize-skip-unused-shards-rewrite-in" class="hash-link" aria-label="Direct link to optimize_skip_unused_shards_rewrite_in" title="Direct link to optimize_skip_unused_shards_rewrite_in">​</a></h2><p>Rewrite IN in query for remote shards to exclude values that does not belong to the shard (requires optimize_skip_unused_shards).</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 1 (since it requires <code>optimize_skip_unused_shards</code> anyway, which <code>0</code> by default)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow-nondeterministic-optimize-skip-unused-shards">allow_nondeterministic_optimize_skip_unused_shards<a href="#allow-nondeterministic-optimize-skip-unused-shards" class="hash-link" aria-label="Direct link to allow_nondeterministic_optimize_skip_unused_shards" title="Direct link to allow_nondeterministic_optimize_skip_unused_shards">​</a></h2><p>Allow nondeterministic (like <code>rand</code> or <code>dictGet</code>, since later has some caveats with updates) functions in sharding key.</p><p>Possible values:</p><ul><li>0 — Disallowed.</li><li>1 — Allowed.</li></ul><p>Default value: 0</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-skip-unused-shards-nesting">optimize_skip_unused_shards_nesting<a href="#optimize-skip-unused-shards-nesting" class="hash-link" aria-label="Direct link to optimize_skip_unused_shards_nesting" title="Direct link to optimize_skip_unused_shards_nesting">​</a></h2><p>Controls <a href="#optimize-skip-unused-shards"><code>optimize_skip_unused_shards</code></a> (hence still requires <a href="#optimize-skip-unused-shards"><code>optimize_skip_unused_shards</code></a>) depends on the nesting level of the distributed query (case when you have <code>Distributed</code> table that look into another <code>Distributed</code> table).</p><p>Possible values:</p><ul><li>0 — Disabled, <code>optimize_skip_unused_shards</code> works always.</li><li>1 — Enables <code>optimize_skip_unused_shards</code> only for the first level.</li><li>2 — Enables <code>optimize_skip_unused_shards</code> up to the second level.</li></ul><p>Default value: 0</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="force-optimize-skip-unused-shards">force_optimize_skip_unused_shards<a href="#force-optimize-skip-unused-shards" class="hash-link" aria-label="Direct link to force_optimize_skip_unused_shards" title="Direct link to force_optimize_skip_unused_shards">​</a></h2><p>Enables or disables query execution if <a href="#optimize-skip-unused-shards">optimize_skip_unused_shards</a> is enabled and skipping of unused shards is not possible. If the skipping is not possible and the setting is enabled, an exception will be thrown.</p><p>Possible values:</p><ul><li>0 — Disabled. ClickHouse does not throw an exception.</li><li>1 — Enabled. Query execution is disabled only if the table has a sharding key.</li><li>2 — Enabled. Query execution is disabled regardless of whether a sharding key is defined for the table.</li></ul><p>Default value: 0</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-force_optimize_skip_unused_shards_nesting">force_optimize_skip_unused_shards_nesting<a href="#settings-force_optimize_skip_unused_shards_nesting" class="hash-link" aria-label="Direct link to force_optimize_skip_unused_shards_nesting" title="Direct link to force_optimize_skip_unused_shards_nesting">​</a></h2><p>Controls <a href="#force-optimize-skip-unused-shards"><code>force_optimize_skip_unused_shards</code></a> (hence still requires <a href="#force-optimize-skip-unused-shards"><code>force_optimize_skip_unused_shards</code></a>) depends on the nesting level of the distributed query (case when you have <code>Distributed</code> table that look into another <code>Distributed</code> table).</p><p>Possible values:</p><ul><li>0 - Disabled, <code>force_optimize_skip_unused_shards</code> works always.</li><li>1 — Enables <code>force_optimize_skip_unused_shards</code> only for the first level.</li><li>2 — Enables <code>force_optimize_skip_unused_shards</code> up to the second level.</li></ul><p>Default value: 0</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-distributed-group-by-sharding-key">optimize_distributed_group_by_sharding_key<a href="#optimize-distributed-group-by-sharding-key" class="hash-link" aria-label="Direct link to optimize_distributed_group_by_sharding_key" title="Direct link to optimize_distributed_group_by_sharding_key">​</a></h2><p>Optimize <code>GROUP BY sharding_key</code> queries, by avoiding costly aggregation on the initiator server (which will reduce memory usage for the query on the initiator server).</p><p>The following types of queries are supported (and all combinations of them):</p><ul><li><code>SELECT DISTINCT [..., ]sharding_key[, ...] FROM dist</code></li><li><code>SELECT ... FROM dist GROUP BY sharding_key[, ...]</code></li><li><code>SELECT ... FROM dist GROUP BY sharding_key[, ...] ORDER BY x</code></li><li><code>SELECT ... FROM dist GROUP BY sharding_key[, ...] LIMIT 1</code></li><li><code>SELECT ... FROM dist GROUP BY sharding_key[, ...] LIMIT 1 BY x</code></li></ul><p>The following types of queries are not supported (support for some of them may be added later):</p><ul><li><code>SELECT ... GROUP BY sharding_key[, ...] WITH TOTALS</code></li><li><code>SELECT ... GROUP BY sharding_key[, ...] WITH ROLLUP</code></li><li><code>SELECT ... GROUP BY sharding_key[, ...] WITH CUBE</code></li><li><code>SELECT ... GROUP BY sharding_key[, ...] SETTINGS extremes=1</code></li></ul><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 0</p><p>See also:</p><ul><li><a href="#distributed-group-by-no-merge">distributed_group_by_no_merge</a></li><li><a href="#distributed-push-down-limit">distributed_push_down_limit</a></li><li><a href="#optimize-skip-unused-shards">optimize_skip_unused_shards</a></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Right now it requires <code>optimize_skip_unused_shards</code> (the reason behind this is that one day it may be enabled by default, and it will work correctly only if data was inserted via Distributed table, i.e. data is distributed according to sharding_key).</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-optimize_throw_if_noop">optimize_throw_if_noop<a href="#setting-optimize_throw_if_noop" class="hash-link" aria-label="Direct link to optimize_throw_if_noop" title="Direct link to optimize_throw_if_noop">​</a></h2><p>Enables or disables throwing an exception if an <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/optimize">OPTIMIZE</a> query didn’t perform a merge.</p><p>By default, <code>OPTIMIZE</code> returns successfully even if it didn’t do anything. This setting lets you differentiate these situations and get the reason in an exception message.</p><p>Possible values:</p><ul><li>1 — Throwing an exception is enabled.</li><li>0 — Throwing an exception is disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-skip-merged-partitions">optimize_skip_merged_partitions<a href="#optimize-skip-merged-partitions" class="hash-link" aria-label="Direct link to optimize_skip_merged_partitions" title="Direct link to optimize_skip_merged_partitions">​</a></h2><p>Enables or disables optimization for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/optimize">OPTIMIZE TABLE ... FINAL</a> query if there is only one part with level &gt; 0 and it doesn&#x27;t have expired TTL.</p><ul><li><code>OPTIMIZE TABLE ... FINAL SETTINGS optimize_skip_merged_partitions=1</code></li></ul><p>By default, <code>OPTIMIZE TABLE ... FINAL</code> query rewrites the one part even if there is only a single part.</p><p>Possible values:</p><ul><li>1 - Enable optimization.</li><li>0 - Disable optimization.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-functions-to-subcolumns">optimize_functions_to_subcolumns<a href="#optimize-functions-to-subcolumns" class="hash-link" aria-label="Direct link to optimize_functions_to_subcolumns" title="Direct link to optimize_functions_to_subcolumns">​</a></h2><p>Enables or disables optimization by transforming some functions to reading subcolumns. This reduces the amount of data to read.</p><p>These functions can be transformed:</p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/array-functions/#array_functions-length">length</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/array/#array-size">size0</a> subcolumn.</li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/array-functions/#function-empty">empty</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/array/#array-size">size0</a> subcolumn.</li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/array-functions/#function-notempty">notEmpty</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/array/#array-size">size0</a> subcolumn.</li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/operators/#operator-is-null">isNull</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#finding-null">null</a> subcolumn.</li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/operators/#is-not-null">isNotNull</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#finding-null">null</a> subcolumn.</li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/count">count</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#finding-null">null</a> subcolumn.</li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/tuple-map-functions/#mapkeys">mapKeys</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/map/#map-subcolumns">keys</a> subcolumn.</li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/tuple-map-functions/#mapvalues">mapValues</a> to read the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/map/#map-subcolumns">values</a> subcolumn.</li></ul><p>Possible values:</p><ul><li>0 — Optimization disabled.</li><li>1 — Optimization enabled.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-trivial-count-query">optimize_trivial_count_query<a href="#optimize-trivial-count-query" class="hash-link" aria-label="Direct link to optimize_trivial_count_query" title="Direct link to optimize_trivial_count_query">​</a></h2><p>Enables or disables the optimization to trivial query <code>SELECT count() FROM table</code> using metadata from MergeTree. If you need to use row-level security, disable this setting.</p><p>Possible values:</p><ul><li>0 — Optimization disabled.</li><li>1 — Optimization enabled.</li></ul><p>Default value: <code>1</code>.</p><p>See also:</p><ul><li><a href="#optimize-functions-to-subcolumns">optimize_functions_to_subcolumns</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-distributed_replica_error_half_life">distributed_replica_error_half_life<a href="#settings-distributed_replica_error_half_life" class="hash-link" aria-label="Direct link to distributed_replica_error_half_life" title="Direct link to distributed_replica_error_half_life">​</a></h2><ul><li>Type: seconds</li><li>Default value: 60 seconds</li></ul><p>Controls how fast errors in distributed tables are zeroed. If a replica is unavailable for some time, accumulates 5 errors, and distributed_replica_error_half_life is set to 1 second, then the replica is considered normal 3 seconds after the last error.</p><p>See also:</p><ul><li><a href="#load_balancing-round_robin">load_balancing</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Table engine Distributed</a></li><li><a href="#settings-distributed_replica_error_cap">distributed_replica_error_cap</a></li><li><a href="#settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-distributed_replica_error_cap">distributed_replica_error_cap<a href="#settings-distributed_replica_error_cap" class="hash-link" aria-label="Direct link to distributed_replica_error_cap" title="Direct link to distributed_replica_error_cap">​</a></h2><ul><li>Type: unsigned int</li><li>Default value: 1000</li></ul><p>The error count of each replica is capped at this value, preventing a single replica from accumulating too many errors.</p><p>See also:</p><ul><li><a href="#load_balancing-round_robin">load_balancing</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Table engine Distributed</a></li><li><a href="#settings-distributed_replica_error_half_life">distributed_replica_error_half_life</a></li><li><a href="#settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors<a href="#settings-distributed_replica_max_ignored_errors" class="hash-link" aria-label="Direct link to distributed_replica_max_ignored_errors" title="Direct link to distributed_replica_max_ignored_errors">​</a></h2><ul><li>Type: unsigned int</li><li>Default value: 0</li></ul><p>The number of errors that will be ignored while choosing replicas (according to <code>load_balancing</code> algorithm).</p><p>See also:</p><ul><li><a href="#load_balancing-round_robin">load_balancing</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Table engine Distributed</a></li><li><a href="#settings-distributed_replica_error_cap">distributed_replica_error_cap</a></li><li><a href="#settings-distributed_replica_error_half_life">distributed_replica_error_half_life</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed_directory_monitor_sleep_time_ms">distributed_directory_monitor_sleep_time_ms<a href="#distributed_directory_monitor_sleep_time_ms" class="hash-link" aria-label="Direct link to distributed_directory_monitor_sleep_time_ms" title="Direct link to distributed_directory_monitor_sleep_time_ms">​</a></h2><p>Base interval for the <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Distributed</a> table engine to send data. The actual interval grows exponentially in the event of errors.</p><p>Possible values:</p><ul><li>A positive integer number of milliseconds.</li></ul><p>Default value: 100 milliseconds.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed_directory_monitor_max_sleep_time_ms">distributed_directory_monitor_max_sleep_time_ms<a href="#distributed_directory_monitor_max_sleep_time_ms" class="hash-link" aria-label="Direct link to distributed_directory_monitor_max_sleep_time_ms" title="Direct link to distributed_directory_monitor_max_sleep_time_ms">​</a></h2><p>Maximum interval for the <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Distributed</a> table engine to send data. Limits exponential growth of the interval set in the <a href="#distributed_directory_monitor_sleep_time_ms">distributed_directory_monitor_sleep_time_ms</a> setting.</p><p>Possible values:</p><ul><li>A positive integer number of milliseconds.</li></ul><p>Default value: 30000 milliseconds (30 seconds).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed_directory_monitor_batch_inserts">distributed_directory_monitor_batch_inserts<a href="#distributed_directory_monitor_batch_inserts" class="hash-link" aria-label="Direct link to distributed_directory_monitor_batch_inserts" title="Direct link to distributed_directory_monitor_batch_inserts">​</a></h2><p>Enables/disables inserted data sending in batches.</p><p>When batch sending is enabled, the <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Distributed</a> table engine tries to send multiple files of inserted data in one operation instead of sending them separately. Batch sending improves cluster performance by better-utilizing server and network resources.</p><p>Possible values:</p><ul><li>1 — Enabled.</li><li>0 — Disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed_directory_monitor_split_batch_on_failure">distributed_directory_monitor_split_batch_on_failure<a href="#distributed_directory_monitor_split_batch_on_failure" class="hash-link" aria-label="Direct link to distributed_directory_monitor_split_batch_on_failure" title="Direct link to distributed_directory_monitor_split_batch_on_failure">​</a></h2><p>Enables/disables splitting batches on failures.</p><p>Sometimes sending particular batch to the remote shard may fail, because of some complex pipeline after (i.e. <code>MATERIALIZED VIEW</code> with <code>GROUP BY</code>) due to <code>Memory limit exceeded</code> or similar errors. In this case, retrying will not help (and this will stuck distributed sends for the table) but sending files from that batch one by one may succeed INSERT.</p><p>So installing this setting to <code>1</code> will disable batching for such batches (i.e. temporary disables <code>distributed_directory_monitor_batch_inserts</code> for failed batches).</p><p>Possible values:</p><ul><li>1 — Enabled.</li><li>0 — Disabled.</li></ul><p>Default value: 0.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This setting also affects broken batches (that may appears because of abnormal server (machine) termination and no <code>fsync_after_insert</code>/<code>fsync_directories</code> for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">Distributed</a> table engine).</p></div></div><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>You should not rely on automatic batch splitting, since this may hurt performance.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-os-thread-priority">os_thread_priority<a href="#setting-os-thread-priority" class="hash-link" aria-label="Direct link to os_thread_priority" title="Direct link to os_thread_priority">​</a></h2><p>Sets the priority (<a href="https://en.wikipedia.org/wiki/Nice_(Unix)" target="_blank" rel="noopener noreferrer">nice</a>) for threads that execute queries. The OS scheduler considers this priority when choosing the next thread to run on each available CPU core.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>To use this setting, you need to set the <code>CAP_SYS_NICE</code> capability. The <code>clickhouse-server</code> package sets it up during installation. Some virtual environments do not allow you to set the <code>CAP_SYS_NICE</code> capability. In this case, <code>clickhouse-server</code> shows a message about it at the start.</p></div></div><p>Possible values:</p><ul><li>You can set values in the range <code>[-20, 19]</code>.</li></ul><p>Lower values mean higher priority. Threads with low <code>nice</code> priority values are executed more frequently than threads with high values. High values are preferable for long-running non-interactive queries because it allows them to quickly give up resources in favour of short interactive queries when they arrive.</p><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query_profiler_real_time_period_ns">query_profiler_real_time_period_ns<a href="#query_profiler_real_time_period_ns" class="hash-link" aria-label="Direct link to query_profiler_real_time_period_ns" title="Direct link to query_profiler_real_time_period_ns">​</a></h2><p>Sets the period for a real clock timer of the <a href="/AlgoliaDocsSelfCrawl/en/operations/optimizing-performance/sampling-query-profiler">query profiler</a>. Real clock timer counts wall-clock time.</p><p>Possible values:</p><ul><li><p>Positive integer number, in nanoseconds.</p><p>Recommended values:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    - 10000000 (100 times a second) nanoseconds and less for single queries.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    - 1000000000 (once a second) for cluster-wide profiling.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>0 for turning off the timer.</p></li></ul><p>Type: <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/int-uint">UInt64</a>.</p><p>Default value: 1000000000 nanoseconds (once a second).</p><p>See also:</p><ul><li>System table <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/trace_log/#system_tables-trace_log">trace_log</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query_profiler_cpu_time_period_ns">query_profiler_cpu_time_period_ns<a href="#query_profiler_cpu_time_period_ns" class="hash-link" aria-label="Direct link to query_profiler_cpu_time_period_ns" title="Direct link to query_profiler_cpu_time_period_ns">​</a></h2><p>Sets the period for a CPU clock timer of the <a href="/AlgoliaDocsSelfCrawl/en/operations/optimizing-performance/sampling-query-profiler">query profiler</a>. This timer counts only CPU time.</p><p>Possible values:</p><ul><li><p>A positive integer number of nanoseconds.</p><p>Recommended values:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    - 10000000 (100 times a second) nanoseconds and more for single queries.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    - 1000000000 (once a second) for cluster-wide profiling.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>0 for turning off the timer.</p></li></ul><p>Type: <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/int-uint">UInt64</a>.</p><p>Default value: 1000000000 nanoseconds.</p><p>See also:</p><ul><li>System table <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/trace_log/#system_tables-trace_log">trace_log</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory_profiler_step">memory_profiler_step<a href="#memory_profiler_step" class="hash-link" aria-label="Direct link to memory_profiler_step" title="Direct link to memory_profiler_step">​</a></h2><p>Sets the step of memory profiler. Whenever query memory usage becomes larger than every next step in number of bytes the memory profiler will collect the allocating stacktrace and will write it into <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/trace_log#system_tables-trace_log">trace_log</a>.</p><p>Possible values:</p><ul><li><p>A positive integer number of bytes.</p></li><li><p>0 for turning off the memory profiler.</p></li></ul><p>Default value: 4,194,304 bytes (4 MiB).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory_profiler_sample_probability">memory_profiler_sample_probability<a href="#memory_profiler_sample_probability" class="hash-link" aria-label="Direct link to memory_profiler_sample_probability" title="Direct link to memory_profiler_sample_probability">​</a></h2><p>Sets the probability of collecting stacktraces at random allocations and deallocations and writing them into <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/trace_log#system_tables-trace_log">trace_log</a>.</p><p>Possible values:</p><ul><li><p>A positive floating-point number in the range <!-- -->[0..1]<!-- -->.</p></li><li><p>0.0 for turning off the memory sampling.</p></li></ul><p>Default value: 0.0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="trace_profile_events">trace_profile_events<a href="#trace_profile_events" class="hash-link" aria-label="Direct link to trace_profile_events" title="Direct link to trace_profile_events">​</a></h2><p>Enables or disables collecting stacktraces on each update of profile events along with the name of profile event and the value of increment and sending them into <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/trace_log#system_tables-trace_log">trace_log</a>.</p><p>Possible values:</p><ul><li>1 — Tracing of profile events enabled.</li><li>0 — Tracing of profile events disabled.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-allow_introspection_functions">allow_introspection_functions<a href="#settings-allow_introspection_functions" class="hash-link" aria-label="Direct link to allow_introspection_functions" title="Direct link to allow_introspection_functions">​</a></h2><p>Enables or disables <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/introspection">introspections functions</a> for query profiling.</p><p>Possible values:</p><ul><li>1 — Introspection functions enabled.</li><li>0 — Introspection functions disabled.</li></ul><p>Default value: 0.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/operations/optimizing-performance/sampling-query-profiler">Sampling Query Profiler</a></li><li>System table <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/trace_log/#system_tables-trace_log">trace_log</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="input-format-parallel-parsing">input_format_parallel_parsing<a href="#input-format-parallel-parsing" class="hash-link" aria-label="Direct link to input_format_parallel_parsing" title="Direct link to input_format_parallel_parsing">​</a></h2><p>Enables or disables order-preserving parallel parsing of data formats. Supported only for <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#tabseparated">TSV</a>, <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#tskv">TKSV</a>, <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#csv">CSV</a> and <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#jsoneachrow">JSONEachRow</a> formats.</p><p>Possible values:</p><ul><li>1 — Enabled.</li><li>0 — Disabled.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="output-format-parallel-formatting">output_format_parallel_formatting<a href="#output-format-parallel-formatting" class="hash-link" aria-label="Direct link to output_format_parallel_formatting" title="Direct link to output_format_parallel_formatting">​</a></h2><p>Enables or disables parallel formatting of data formats. Supported only for <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#tabseparated">TSV</a>, <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#tskv">TKSV</a>, <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#csv">CSV</a> and <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#jsoneachrow">JSONEachRow</a> formats.</p><p>Possible values:</p><ul><li>1 — Enabled.</li><li>0 — Disabled.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-chunk-bytes-for-parallel-parsing">min_chunk_bytes_for_parallel_parsing<a href="#min-chunk-bytes-for-parallel-parsing" class="hash-link" aria-label="Direct link to min_chunk_bytes_for_parallel_parsing" title="Direct link to min_chunk_bytes_for_parallel_parsing">​</a></h2><ul><li>Type: unsigned int</li><li>Default value: 1 MiB</li></ul><p>The minimum chunk size in bytes, which each thread will parse in parallel.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="merge_selecting_sleep_ms">merge_selecting_sleep_ms<a href="#merge_selecting_sleep_ms" class="hash-link" aria-label="Direct link to merge_selecting_sleep_ms" title="Direct link to merge_selecting_sleep_ms">​</a></h2><p>Sleep time for merge selecting when no part is selected. A lower setting triggers selecting tasks in <code>background_schedule_pool</code> frequently, which results in a large number of requests to ClickHouse Keeper in large-scale clusters.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: <code>5000</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parallel_distributed_insert_select">parallel_distributed_insert_select<a href="#parallel_distributed_insert_select" class="hash-link" aria-label="Direct link to parallel_distributed_insert_select" title="Direct link to parallel_distributed_insert_select">​</a></h2><p>Enables parallel distributed <code>INSERT ... SELECT</code> query.</p><p>If we execute <code>INSERT INTO distributed_table_a SELECT ... FROM distributed_table_b</code> queries and both tables use the same cluster, and both tables are either <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">replicated</a> or non-replicated, then this query is processed locally on every shard.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — <code>SELECT</code> will be executed on each shard from the underlying table of the distributed engine.</li><li>2 — <code>SELECT</code> and <code>INSERT</code> will be executed on each shard from/to the underlying table of the distributed engine.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert_distributed_sync">insert_distributed_sync<a href="#insert_distributed_sync" class="hash-link" aria-label="Direct link to insert_distributed_sync" title="Direct link to insert_distributed_sync">​</a></h2><p>Enables or disables synchronous data insertion into a <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed/#distributed">Distributed</a> table.</p><p>By default, when inserting data into a <code>Distributed</code> table, the ClickHouse server sends data to cluster nodes in asynchronous mode. When <code>insert_distributed_sync=1</code>, the data is processed synchronously, and the <code>INSERT</code> operation succeeds only after all the data is saved on all shards (at least one replica for each shard if <code>internal_replication</code> is true).</p><p>Possible values:</p><ul><li>0 — Data is inserted in asynchronous mode.</li><li>1 — Data is inserted in synchronous mode.</li></ul><p>Default value: <code>0</code>.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed/#distributed">Distributed Table Engine</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/system/#query-language-system-distributed">Managing Distributed Tables</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert_shard_id">insert_shard_id<a href="#insert_shard_id" class="hash-link" aria-label="Direct link to insert_shard_id" title="Direct link to insert_shard_id">​</a></h2><p>If not <code>0</code>, specifies the shard of <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed/#distributed">Distributed</a> table into which the data will be inserted synchronously.</p><p>If <code>insert_shard_id</code> value is incorrect, the server will throw an exception.</p><p>To get the number of shards on <code>requested_cluster</code>, you can check server config or use this query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> uniq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">shard_num</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">clusters </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> cluster </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;requested_cluster&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Possible values:</p><ul><li>0 — Disabled.</li><li>Any number from <code>1</code> to <code>shards_num</code> of corresponding <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed/#distributed">Distributed</a> table.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> x </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">numbers </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> x_dist </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> x </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Distributed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test_cluster_two_shards_localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> currentDatabase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> x_dist </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS insert_shard_id </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> x_dist </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">ASC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─number─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      2 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      2 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      3 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      3 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      4 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      4 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use_compact_format_in_distributed_parts_names">use_compact_format_in_distributed_parts_names<a href="#use_compact_format_in_distributed_parts_names" class="hash-link" aria-label="Direct link to use_compact_format_in_distributed_parts_names" title="Direct link to use_compact_format_in_distributed_parts_names">​</a></h2><p>Uses compact format for storing blocks for async (<code>insert_distributed_sync</code>) INSERT into tables with <code>Distributed</code> engine.</p><p>Possible values:</p><ul><li>0 — Uses <code>user[:password]@host:port#default_database</code> directory format.</li><li>1 — Uses <code>[shard{shard_index}[_replica{replica_index}]]</code> directory format.</li></ul><p>Default value: <code>1</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><ul><li>with <code>use_compact_format_in_distributed_parts_names=0</code> changes from cluster definition will not be applied for async INSERT.</li><li>with <code>use_compact_format_in_distributed_parts_names=1</code> changing the order of the nodes in the cluster definition, will change the <code>shard_index</code>/<code>replica_index</code> so be aware.</li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background_buffer_flush_schedule_pool_size">background_buffer_flush_schedule_pool_size<a href="#background_buffer_flush_schedule_pool_size" class="hash-link" aria-label="Direct link to background_buffer_flush_schedule_pool_size" title="Direct link to background_buffer_flush_schedule_pool_size">​</a></h2><p>Sets the number of threads performing background flush in <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/buffer">Buffer</a>-engine tables. This setting is applied at the ClickHouse server start and can’t be changed in a user session.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 16.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background_move_pool_size">background_move_pool_size<a href="#background_move_pool_size" class="hash-link" aria-label="Direct link to background_move_pool_size" title="Direct link to background_move_pool_size">​</a></h2><p>Sets the number of threads performing background moves of data parts for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree/#table_engine-mergetree-multiple-volumes">MergeTree</a>-engine tables. This setting is applied at the ClickHouse server start and can’t be changed in a user session.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 8.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background_schedule_pool_size">background_schedule_pool_size<a href="#background_schedule_pool_size" class="hash-link" aria-label="Direct link to background_schedule_pool_size" title="Direct link to background_schedule_pool_size">​</a></h2><p>Sets the number of threads performing background tasks for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">replicated</a> tables, <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/integrations/kafka">Kafka</a> streaming, <a href="/AlgoliaDocsSelfCrawl/en/operations/server-configuration-parameters/settings/#server-settings-dns-cache-update-period">DNS cache updates</a>. This setting is applied at ClickHouse server start and can’t be changed in a user session.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 128.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background_fetches_pool_size">background_fetches_pool_size<a href="#background_fetches_pool_size" class="hash-link" aria-label="Direct link to background_fetches_pool_size" title="Direct link to background_fetches_pool_size">​</a></h2><p>Sets the number of threads performing background fetches for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">replicated</a> tables. This setting is applied at the ClickHouse server start and can’t be changed in a user session. For production usage with frequent small insertions or slow ZooKeeper cluster it is recommended to use default value.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 8.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="always_fetch_merged_part">always_fetch_merged_part<a href="#always_fetch_merged_part" class="hash-link" aria-label="Direct link to always_fetch_merged_part" title="Direct link to always_fetch_merged_part">​</a></h2><p>Prohibits data parts merging in <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">Replicated<!-- -->*<!-- -->MergeTree</a>-engine tables.</p><p>When merging is prohibited, the replica never merges parts and always downloads merged parts from other replicas. If there is no required data yet, the replica waits for it. CPU and disk load on the replica server decreases, but the network load on the cluster increases. This setting can be useful on servers with relatively weak CPUs or slow disks, such as servers for backups storage.</p><p>Possible values:</p><ul><li>0 — <code>Replicated*MergeTree</code>-engine tables merge data parts at the replica.</li><li>1 — <code>Replicated*MergeTree</code>-engine tables do not merge data parts at the replica. The tables download merged data parts from other replicas.</li></ul><p>Default value: 0.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/replication">Data Replication</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background_distributed_schedule_pool_size">background_distributed_schedule_pool_size<a href="#background_distributed_schedule_pool_size" class="hash-link" aria-label="Direct link to background_distributed_schedule_pool_size" title="Direct link to background_distributed_schedule_pool_size">​</a></h2><p>Sets the number of threads performing background tasks for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/distributed">distributed</a> sends. This setting is applied at the ClickHouse server start and can’t be changed in a user session.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 16.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background_message_broker_schedule_pool_size">background_message_broker_schedule_pool_size<a href="#background_message_broker_schedule_pool_size" class="hash-link" aria-label="Direct link to background_message_broker_schedule_pool_size" title="Direct link to background_message_broker_schedule_pool_size">​</a></h2><p>Sets the number of threads performing background tasks for message streaming. This setting is applied at the ClickHouse server start and can’t be changed in a user session.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 16.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/integrations/kafka/#kafka">Kafka</a> engine.</li><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/integrations/rabbitmq/#rabbitmq-engine">RabbitMQ</a> engine.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="validate_polygons">validate_polygons<a href="#validate_polygons" class="hash-link" aria-label="Direct link to validate_polygons" title="Direct link to validate_polygons">​</a></h2><p>Enables or disables throwing an exception in the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/geo/#pointinpolygon">pointInPolygon</a> function, if the polygon is self-intersecting or self-tangent.</p><p>Possible values:</p><ul><li>0 — Throwing an exception is disabled. <code>pointInPolygon</code> accepts invalid polygons and returns possibly incorrect results for them.</li><li>1 — Throwing an exception is enabled.</li></ul><p>Default value: 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transform_null_in">transform_null_in<a href="#transform_null_in" class="hash-link" aria-label="Direct link to transform_null_in" title="Direct link to transform_null_in">​</a></h2><p>Enables equality of <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/syntax/#null-literal">NULL</a> values for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/operators/in">IN</a> operator.</p><p>By default, <code>NULL</code> values can’t be compared because <code>NULL</code> means undefined value. Thus, comparison <code>expr = NULL</code> must always return <code>false</code>. With this setting <code>NULL = NULL</code> returns <code>true</code> for <code>IN</code> operator.</p><p>Possible values:</p><ul><li>0 — Comparison of <code>NULL</code> values in <code>IN</code> operator returns <code>false</code>.</li><li>1 — Comparison of <code>NULL</code> values in <code>IN</code> operator returns <code>true</code>.</li></ul><p>Default value: 0.</p><p><strong>Example</strong></p><p>Consider the <code>null_in</code> table:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌──idx─┬─────i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    1 │     1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    2 │  NULL │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    3 │     3 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────┴───────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> null_in </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS transform_null_in </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌──idx─┬────i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    1 │    1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────┴──────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> null_in </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS transform_null_in </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌──idx─┬─────i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    1 │     1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    2 │  NULL │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────┴───────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/operators/in/#in-null-processing">NULL Processing in IN Operators</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low_cardinality_max_dictionary_size">low_cardinality_max_dictionary_size<a href="#low_cardinality_max_dictionary_size" class="hash-link" aria-label="Direct link to low_cardinality_max_dictionary_size" title="Direct link to low_cardinality_max_dictionary_size">​</a></h2><p>Sets a maximum size in rows of a shared global dictionary for the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/lowcardinality">LowCardinality</a> data type that can be written to a storage file system. This setting prevents issues with RAM in case of unlimited dictionary growth. All the data that can’t be encoded due to maximum dictionary size limitation ClickHouse writes in an ordinary method.</p><p>Possible values:</p><ul><li>Any positive integer.</li></ul><p>Default value: 8192.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low_cardinality_use_single_dictionary_for_part">low_cardinality_use_single_dictionary_for_part<a href="#low_cardinality_use_single_dictionary_for_part" class="hash-link" aria-label="Direct link to low_cardinality_use_single_dictionary_for_part" title="Direct link to low_cardinality_use_single_dictionary_for_part">​</a></h2><p>Turns on or turns off using of single dictionary for the data part.</p><p>By default, the ClickHouse server monitors the size of dictionaries and if a dictionary overflows then the server starts to write the next one. To prohibit creating several dictionaries set <code>low_cardinality_use_single_dictionary_for_part = 1</code>.</p><p>Possible values:</p><ul><li>1 — Creating several dictionaries for the data part is prohibited.</li><li>0 — Creating several dictionaries for the data part is not prohibited.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low_cardinality_allow_in_native_format">low_cardinality_allow_in_native_format<a href="#low_cardinality_allow_in_native_format" class="hash-link" aria-label="Direct link to low_cardinality_allow_in_native_format" title="Direct link to low_cardinality_allow_in_native_format">​</a></h2><p>Allows or restricts using the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/lowcardinality">LowCardinality</a> data type with the <a href="/AlgoliaDocsSelfCrawl/en/interfaces/formats/#native">Native</a> format.</p><p>If usage of <code>LowCardinality</code> is restricted, ClickHouse server converts <code>LowCardinality</code>-columns to ordinary ones for <code>SELECT</code> queries, and convert ordinary columns to <code>LowCardinality</code>-columns for <code>INSERT</code> queries.</p><p>This setting is required mainly for third-party clients which do not support <code>LowCardinality</code> data type.</p><p>Possible values:</p><ul><li>1 — Usage of <code>LowCardinality</code> is not restricted.</li><li>0 — Usage of <code>LowCardinality</code> is restricted.</li></ul><p>Default value: 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow_suspicious_low_cardinality_types">allow_suspicious_low_cardinality_types<a href="#allow_suspicious_low_cardinality_types" class="hash-link" aria-label="Direct link to allow_suspicious_low_cardinality_types" title="Direct link to allow_suspicious_low_cardinality_types">​</a></h2><p>Allows or restricts using <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/lowcardinality">LowCardinality</a> with data types with fixed size of 8 bytes or less: numeric data types and <code>FixedString(8_bytes_or_less)</code>.</p><p>For small fixed values using of <code>LowCardinality</code> is usually inefficient, because ClickHouse stores a numeric index for each row. As a result:</p><ul><li>Disk space usage can rise.</li><li>RAM consumption can be higher, depending on a dictionary size.</li><li>Some functions can work slower due to extra coding/encoding operations.</li></ul><p>Merge times in <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a>-engine tables can grow due to all the reasons described above.</p><p>Possible values:</p><ul><li>1 — Usage of <code>LowCardinality</code> is not restricted.</li><li>0 — Usage of <code>LowCardinality</code> is restricted.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-insert-block-size-rows-for-materialized-views">min_insert_block_size_rows_for_materialized_views<a href="#min-insert-block-size-rows-for-materialized-views" class="hash-link" aria-label="Direct link to min_insert_block_size_rows_for_materialized_views" title="Direct link to min_insert_block_size_rows_for_materialized_views">​</a></h2><p>Sets the minimum number of rows in the block which can be inserted into a table by an <code>INSERT</code> query. Smaller-sized blocks are squashed into bigger ones. This setting is applied only for blocks inserted into <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/view">materialized view</a>. By adjusting this setting, you control blocks squashing while pushing to materialized view and avoid excessive memory usage.</p><p>Possible values:</p><ul><li>Any positive integer.</li><li>0 — Squashing disabled.</li></ul><p>Default value: 1048576.</p><p><strong>See Also</strong></p><ul><li><a href="#min-insert-block-size-rows">min_insert_block_size_rows</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-insert-block-size-bytes-for-materialized-views">min_insert_block_size_bytes_for_materialized_views<a href="#min-insert-block-size-bytes-for-materialized-views" class="hash-link" aria-label="Direct link to min_insert_block_size_bytes_for_materialized_views" title="Direct link to min_insert_block_size_bytes_for_materialized_views">​</a></h2><p>Sets the minimum number of bytes in the block which can be inserted into a table by an <code>INSERT</code> query. Smaller-sized blocks are squashed into bigger ones. This setting is applied only for blocks inserted into <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/view">materialized view</a>. By adjusting this setting, you control blocks squashing while pushing to materialized view and avoid excessive memory usage.</p><p>Possible values:</p><ul><li>Any positive integer.</li><li>0 — Squashing disabled.</li></ul><p>Default value: 268435456.</p><p><strong>See also</strong></p><ul><li><a href="#min-insert-block-size-bytes">min_insert_block_size_bytes</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_read_in_order">optimize_read_in_order<a href="#optimize_read_in_order" class="hash-link" aria-label="Direct link to optimize_read_in_order" title="Direct link to optimize_read_in_order">​</a></h2><p>Enables <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/order-by/#optimize_read_in_order">ORDER BY</a> optimization in <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/">SELECT</a> queries for reading data from <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a> tables.</p><p>Possible values:</p><ul><li>0 — <code>ORDER BY</code> optimization is disabled.</li><li>1 — <code>ORDER BY</code> optimization is enabled.</li></ul><p>Default value: <code>1</code>.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/order-by/#optimize_read_in_order">ORDER BY Clause</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_aggregation_in_order">optimize_aggregation_in_order<a href="#optimize_aggregation_in_order" class="hash-link" aria-label="Direct link to optimize_aggregation_in_order" title="Direct link to optimize_aggregation_in_order">​</a></h2><p>Enables <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/group-by">GROUP BY</a> optimization in <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/">SELECT</a> queries for aggregating data in corresponding order in <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a> tables.</p><p>Possible values:</p><ul><li>0 — <code>GROUP BY</code> optimization is disabled.</li><li>1 — <code>GROUP BY</code> optimization is enabled.</li></ul><p>Default value: <code>0</code>.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/group-by/#aggregation-in-order">GROUP BY optimization</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mutations_sync">mutations_sync<a href="#mutations_sync" class="hash-link" aria-label="Direct link to mutations_sync" title="Direct link to mutations_sync">​</a></h2><p>Allows to execute <code>ALTER TABLE ... UPDATE|DELETE</code> queries (<a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/alter/#mutations">mutations</a>) synchronously.</p><p>Possible values:</p><ul><li>0 - Mutations execute asynchronously.</li><li>1 - The query waits for all mutations to complete on the current server.</li><li>2 - The query waits for all mutations to complete on all replicas (if they exist).</li></ul><p>Default value: <code>0</code>.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/alter/#synchronicity-of-alter-queries">Synchronicity of ALTER Queries</a></li><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/alter/#mutations">Mutations</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ttl_only_drop_parts">ttl_only_drop_parts<a href="#ttl_only_drop_parts" class="hash-link" aria-label="Direct link to ttl_only_drop_parts" title="Direct link to ttl_only_drop_parts">​</a></h2><p>Enables or disables complete dropping of data parts where all rows are expired in <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree">MergeTree</a> tables.</p><p>When <code>ttl_only_drop_parts</code> is disabled (by default), the ClickHouse server only deletes expired rows according to their TTL.</p><p>When <code>ttl_only_drop_parts</code> is enabled, the ClickHouse server drops a whole part when all rows in it are expired.</p><p>Dropping whole parts instead of partial cleaning TTL-d rows allows having shorter <code>merge_with_ttl_timeout</code> times and lower impact on system performance.</p><p>Possible values:</p><ul><li>0 — The complete dropping of data parts is disabled.</li><li>1 — The complete dropping of data parts is enabled.</li></ul><p>Default value: <code>0</code>.</p><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree/#mergetree-query-clauses">CREATE TABLE query clauses and settings</a> (<code>merge_with_ttl_timeout</code> setting)</li><li><a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree/#mergetree-table-ttl">Table TTL</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lock_acquire_timeout">lock_acquire_timeout<a href="#lock_acquire_timeout" class="hash-link" aria-label="Direct link to lock_acquire_timeout" title="Direct link to lock_acquire_timeout">​</a></h2><p>Defines how many seconds a locking request waits before failing.</p><p>Locking timeout is used to protect from deadlocks while executing read/write operations with tables. When the timeout expires and the locking request fails, the ClickHouse server throws an exception &quot;Locking attempt timed out! Possible deadlock avoided. Client should retry.&quot; with error code <code>DEADLOCK_AVOIDED</code>.</p><p>Possible values:</p><ul><li>Positive integer (in seconds).</li><li>0 — No locking timeout.</li></ul><p>Default value: <code>120</code> seconds.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cast_keep_nullable">cast_keep_nullable<a href="#cast_keep_nullable" class="hash-link" aria-label="Direct link to cast_keep_nullable" title="Direct link to cast_keep_nullable">​</a></h2><p>Enables or disables keeping of the <code>Nullable</code> data type in <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/type-conversion-functions/#type_conversion_function-cast">CAST</a> operations.</p><p>When the setting is enabled and the argument of <code>CAST</code> function is <code>Nullable</code>, the result is also transformed to <code>Nullable</code> type. When the setting is disabled, the result always has the destination type exactly.</p><p>Possible values:</p><ul><li>0 — The <code>CAST</code> result has exactly the destination type specified.</li><li>1 — If the argument type is <code>Nullable</code>, the <code>CAST</code> result is transformed to <code>Nullable(DestinationDataType)</code>.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Examples</strong></p><p>The following query results in the destination data type exactly:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> cast_keep_nullable </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> CAST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toNullable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> Int32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> toTypeName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─x─┬─toTypeName(CAST(toNullable(toInt32(0)), &#x27;Int32&#x27;))─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 0 │ Int32                                             │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┴───────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following query results in the <code>Nullable</code> modification on the destination data type:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> cast_keep_nullable </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> CAST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toNullable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> Int32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> toTypeName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─x─┬─toTypeName(CAST(toNullable(toInt32(0)), &#x27;Int32&#x27;))─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 0 │ Nullable(Int32)                                   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┴───────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>See Also</strong></p><ul><li><a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/type-conversion-functions/#type_conversion_function-cast">CAST</a> function</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="system_events_show_zero_values">system_events_show_zero_values<a href="#system_events_show_zero_values" class="hash-link" aria-label="Direct link to system_events_show_zero_values" title="Direct link to system_events_show_zero_values">​</a></h2><p>Allows to select zero-valued events from <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/events"><code>system.events</code></a>.</p><p>Some monitoring systems require passing all the metrics values to them for each checkpoint, even if the metric value is zero.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Examples</strong></p><p>Query</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">events </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> event</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;QueryMemoryLimitExceeded&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Ok.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> system_events_show_zero_values </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">events </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> event</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;QueryMemoryLimitExceeded&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─event────────────────────┬─value─┬─description───────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ QueryMemoryLimitExceeded │     0 │ Number of times when memory limit exceeded for query. │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────────────────┴───────┴───────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow-nullable-key">allow_nullable_key<a href="#allow-nullable-key" class="hash-link" aria-label="Direct link to allow_nullable_key" title="Direct link to allow_nullable_key">​</a></h2><p>Allows using of the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#data_type-nullable">Nullable</a>-typed values in a sorting and a primary key for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree/#table_engines-mergetree">MergeTree</a> tables.</p><p>Possible values:</p><ul><li>1 — <code>Nullable</code>-type expressions are allowed in keys.</li><li>0 — <code>Nullable</code>-type expressions are not allowed in keys.</li></ul><p>Default value: <code>0</code>.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Nullable primary key usually indicates bad design. It is forbidden in almost all main stream DBMS. The feature is mainly for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/aggregatingmergetree">AggregatingMergeTree</a> and is not heavily tested. Use with care.</p></div></div><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Do not enable this feature in version <code>&lt;= 21.8</code>. It&#x27;s not properly implemented and may lead to server crash.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate_functions_null_for_empty">aggregate_functions_null_for_empty<a href="#aggregate_functions_null_for_empty" class="hash-link" aria-label="Direct link to aggregate_functions_null_for_empty" title="Direct link to aggregate_functions_null_for_empty">​</a></h2><p>Enables or disables rewriting all aggregate functions in a query, adding <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/combinators/#agg-functions-combinator-ornull">-OrNull</a> suffix to them. Enable it for SQL standard compatibility.
It is implemented via query rewrite (similar to <a href="#settings-count_distinct_implementation">count_distinct_implementation</a> setting) to get consistent results for distributed queries.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 0.</p><p><strong>Example</strong></p><p>Consider the following query with aggregate functions:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">SUM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">MAX</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">one </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With <code>aggregate_functions_null_for_empty = 0</code> it would produce:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─SUM(-1)─┬─MAX(0)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│       0 │      0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────┴────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With <code>aggregate_functions_null_for_empty = 1</code> the result would be:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─SUMOrNull(-1)─┬─MAXOrNull(0)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│          NULL │         NULL │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───────────────┴──────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="union-default-mode">union_default_mode<a href="#union-default-mode" class="hash-link" aria-label="Direct link to union_default_mode" title="Direct link to union_default_mode">​</a></h2><p>Sets a mode for combining <code>SELECT</code> query results. The setting is only used when shared with <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/union">UNION</a> without explicitly specifying the <code>UNION ALL</code> or <code>UNION DISTINCT</code>.</p><p>Possible values:</p><ul><li><code>&#x27;DISTINCT&#x27;</code> — ClickHouse outputs rows as a result of combining queries removing duplicate rows.</li><li><code>&#x27;ALL&#x27;</code> — ClickHouse outputs all rows as a result of combining queries including duplicate rows.</li><li><code>&#x27;&#x27;</code> — ClickHouse generates an exception when used with <code>UNION</code>.</li></ul><p>Default value: <code>&#x27;&#x27;</code>.</p><p>See examples in <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/union">UNION</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="default_table_engine">default_table_engine<a href="#default_table_engine" class="hash-link" aria-label="Direct link to default_table_engine" title="Direct link to default_table_engine">​</a></h2><p>Default table engine to use when <code>ENGINE</code> is not set in a <code>CREATE</code> statement.</p><p>Possible values:</p><ul><li>a string representing any valid table engine name</li></ul><p>Default value: <code>None</code></p><p><strong>Example</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> default_table_engine </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Log&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> changed </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">settings </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;default_table_engine&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-response codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-response codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─name─────────────────┬─value─┬─changed─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ default_table_engine │ Log   │       1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────────────┴───────┴─────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, any new table that does not specify an <code>Engine</code> will use the <code>Log</code> table engine:</p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> my_table </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    x UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    y UInt32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SHOW</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> my_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-response codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-response codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─statement────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ CREATE TABLE default.my_table</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `x` UInt32,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `y` UInt32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ENGINE = Log</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data_type_default_nullable">data_type_default_nullable<a href="#data_type_default_nullable" class="hash-link" aria-label="Direct link to data_type_default_nullable" title="Direct link to data_type_default_nullable">​</a></h2><p>Allows data types without explicit modifiers <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table/#null-modifiers">NULL or NOT NULL</a> in column definition will be <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#data_type-nullable">Nullable</a>.</p><p>Possible values:</p><ul><li>1 — The data types in column definitions are set to <code>Nullable</code> by default.</li><li>0 — The data types in column definitions are set to not <code>Nullable</code> by default.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="execute-merges-on-single-replica-time-threshold">execute_merges_on_single_replica_time_threshold<a href="#execute-merges-on-single-replica-time-threshold" class="hash-link" aria-label="Direct link to execute_merges_on_single_replica_time_threshold" title="Direct link to execute_merges_on_single_replica_time_threshold">​</a></h2><p>Enables special logic to perform merges on replicas.</p><p>Possible values:</p><ul><li>Positive integer (in seconds).</li><li>0 — Special merges logic is not used. Merges happen in the usual way on all the replicas.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Usage</strong></p><p>Selects one replica to perform the merge on. Sets the time threshold from the start of the merge. Other replicas wait for the merge to finish, then download the result. If the time threshold passes and the selected replica does not perform the merge, then the merge is performed on other replicas as usual.</p><p>High values for that threshold may lead to replication delays.</p><p>It can be useful when merges are CPU bounded not IO bounded (performing heavy data compression, calculating aggregate functions or default expressions that require a large amount of calculations, or just very high number of tiny merges).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-final-threads">max_final_threads<a href="#max-final-threads" class="hash-link" aria-label="Direct link to max_final_threads" title="Direct link to max_final_threads">​</a></h2><p>Sets the maximum number of parallel threads for the <code>SELECT</code> query data read phase with the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/from/#select-from-final">FINAL</a> modifier.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 or 1 — Disabled. <code>SELECT</code> queries are executed in a single thread.</li></ul><p>Default value: <code>16</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="opentelemetry-start-trace-probability">opentelemetry_start_trace_probability<a href="#opentelemetry-start-trace-probability" class="hash-link" aria-label="Direct link to opentelemetry_start_trace_probability" title="Direct link to opentelemetry_start_trace_probability">​</a></h2><p>Sets the probability that the ClickHouse can start a trace for executed queries (if no parent <a href="https://www.w3.org/TR/trace-context/" target="_blank" rel="noopener noreferrer">trace context</a> is supplied).</p><p>Possible values:</p><ul><li>0 — The trace for all executed queries is disabled (if no parent trace context is supplied).</li><li>Positive floating-point number in the range <!-- -->[0..1]<!-- -->. For example, if the setting value is <code>0,5</code>, ClickHouse can start a trace on average for half of the queries.</li><li>1 — The trace for all executed queries is enabled.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-on-insert">optimize_on_insert<a href="#optimize-on-insert" class="hash-link" aria-label="Direct link to optimize_on_insert" title="Direct link to optimize_on_insert">​</a></h2><p>Enables or disables data transformation before the insertion, as if merge was done on this block (according to table engine).</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: 1.</p><p><strong>Example</strong></p><p>The difference between enabled and disabled:</p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> optimize_on_insert </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test1 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">FirstTable</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ReplacingMergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> FirstTable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test1 </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token operator" style="color:rgb(0, 0, 0)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> optimize_on_insert </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test2 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">SecondTable</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ReplacingMergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> SecondTable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test2 </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token operator" style="color:rgb(0, 0, 0)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─FirstTable─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│          0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│          1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─SecondTable─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that this setting influences <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/view/#materialized">Materialized view</a> and <a href="/AlgoliaDocsSelfCrawl/en/engines/database-engines/materialized-mysql">MaterializedMySQL</a> behaviour.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="engine-file-empty_if-not-exists">engine_file_empty_if_not_exists<a href="#engine-file-empty_if-not-exists" class="hash-link" aria-label="Direct link to engine_file_empty_if_not_exists" title="Direct link to engine_file_empty_if_not_exists">​</a></h2><p>Allows to select data from a file engine table without file.</p><p>Possible values:</p><ul><li>0 — <code>SELECT</code> throws exception.</li><li>1 — <code>SELECT</code> returns empty result.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="engine-file-truncate-on-insert">engine_file_truncate_on_insert<a href="#engine-file-truncate-on-insert" class="hash-link" aria-label="Direct link to engine_file_truncate_on_insert" title="Direct link to engine_file_truncate_on_insert">​</a></h2><p>Enables or disables truncate before insert in <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/special/file">File</a> engine tables.</p><p>Possible values:</p><ul><li>0 — <code>INSERT</code> query appends new data to the end of the file.</li><li>1 — <code>INSERT</code> query replaces existing content of the file with the new data.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="s3_truncate_on_insert">s3_truncate_on_insert<a href="#s3_truncate_on_insert" class="hash-link" aria-label="Direct link to s3_truncate_on_insert" title="Direct link to s3_truncate_on_insert">​</a></h2><p>Enables or disables truncate before inserts in s3 engine tables. If disabled, an exception will be thrown on insert attempts if an S3 object already exists. </p><p>Possible values:</p><ul><li>0 — <code>INSERT</code> query appends new data to the end of the file.</li><li>1 — <code>INSERT</code> query replaces existing content of the file with the new data.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hdfs_truncate_on_insert">hdfs_truncate_on_insert<a href="#hdfs_truncate_on_insert" class="hash-link" aria-label="Direct link to hdfs_truncate_on_insert" title="Direct link to hdfs_truncate_on_insert">​</a></h2><p>Enables or disables truncation before an insert in hdfs engine tables. If disabled, an exception will be thrown on an attempt to insert if a file in HDFS already exists. </p><p>Possible values:</p><ul><li>0 — <code>INSERT</code> query appends new data to the end of the file.</li><li>1 — <code>INSERT</code> query replaces existing content of the file with the new data.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="engine_file_allow_create_multiple_files">engine_file_allow_create_multiple_files<a href="#engine_file_allow_create_multiple_files" class="hash-link" aria-label="Direct link to engine_file_allow_create_multiple_files" title="Direct link to engine_file_allow_create_multiple_files">​</a></h2><p>Enables or disables creating a new file on each insert in file engine tables if the format has the suffix (<code>JSON</code>, <code>ORC</code>, <code>Parquet</code>, etc.). If enabled, on each insert a new file will be created with a name following this pattern:</p><p><code>data.Parquet</code> -&gt; <code>data.1.Parquet</code> -&gt; <code>data.2.Parquet</code>, etc. </p><p>Possible values:</p><ul><li>0 — <code>INSERT</code> query appends new data to the end of the file.</li><li>1 — <code>INSERT</code> query replaces existing content of the file with the new data.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="s3_create_new_file_on_insert">s3_create_new_file_on_insert<a href="#s3_create_new_file_on_insert" class="hash-link" aria-label="Direct link to s3_create_new_file_on_insert" title="Direct link to s3_create_new_file_on_insert">​</a></h2><p>Enables or disables creating a new file on each insert in s3 engine tables. If enabled, on each insert a new S3 object will be created with the key, similar to this pattern:</p><p>initial: <code>data.Parquet.gz</code> -&gt; <code>data.1.Parquet.gz</code> -&gt; <code>data.2.Parquet.gz</code>, etc. </p><p>Possible values:</p><ul><li>0 — <code>INSERT</code> query appends new data to the end of the file.</li><li>1 — <code>INSERT</code> query replaces existing content of the file with the new data.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hdfs_create_new_file_on_insert">hdfs_create_new_file_on_insert<a href="#hdfs_create_new_file_on_insert" class="hash-link" aria-label="Direct link to hdfs_create_new_file_on_insert" title="Direct link to hdfs_create_new_file_on_insert">​</a></h2><p>Enables or disables creating a new file on each insert in HDFS engine tables. If enabled, on each insert a new HDFS file will be created with the name, similar to this pattern:</p><p>initial: <code>data.Parquet.gz</code> -&gt; <code>data.1.Parquet.gz</code> -&gt; <code>data.2.Parquet.gz</code>, etc. </p><p>Possible values:</p><ul><li>0 — <code>INSERT</code> query appends new data to the end of the file.</li><li>1 — <code>INSERT</code> query replaces existing content of the file with the new data.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow-experimental-geo-types">allow_experimental_geo_types<a href="#allow-experimental-geo-types" class="hash-link" aria-label="Direct link to allow_experimental_geo_types" title="Direct link to allow_experimental_geo_types">​</a></h2><p>Allows working with experimental <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/geo">geo data types</a>.</p><p>Possible values:</p><ul><li>0 — Working with geo data types is disabled.</li><li>1 — Working with geo data types is enabled.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="database_atomic_wait_for_drop_and_detach_synchronously">database_atomic_wait_for_drop_and_detach_synchronously<a href="#database_atomic_wait_for_drop_and_detach_synchronously" class="hash-link" aria-label="Direct link to database_atomic_wait_for_drop_and_detach_synchronously" title="Direct link to database_atomic_wait_for_drop_and_detach_synchronously">​</a></h2><p>Adds a modifier <code>SYNC</code> to all <code>DROP</code> and <code>DETACH</code> queries.</p><p>Possible values:</p><ul><li>0 — Queries will be executed with delay.</li><li>1 — Queries will be executed without delay.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="show_table_uuid_in_table_create_query_if_not_nil">show_table_uuid_in_table_create_query_if_not_nil<a href="#show_table_uuid_in_table_create_query_if_not_nil" class="hash-link" aria-label="Direct link to show_table_uuid_in_table_create_query_if_not_nil" title="Direct link to show_table_uuid_in_table_create_query_if_not_nil">​</a></h2><p>Sets the <code>SHOW TABLE</code> query display.</p><p>Possible values:</p><ul><li>0 — The query will be displayed without table UUID.</li><li>1 — The query will be displayed with table UUID.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow-experimental-live-view">allow_experimental_live_view<a href="#allow-experimental-live-view" class="hash-link" aria-label="Direct link to allow_experimental_live_view" title="Direct link to allow_experimental_live_view">​</a></h2><p>Allows creation of experimental <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/view/#live-view">live views</a>.</p><p>Possible values:</p><ul><li>0 — Working with live views is disabled.</li><li>1 — Working with live views is enabled.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="live-view-heartbeat-interval">live_view_heartbeat_interval<a href="#live-view-heartbeat-interval" class="hash-link" aria-label="Direct link to live_view_heartbeat_interval" title="Direct link to live_view_heartbeat_interval">​</a></h2><p>Sets the heartbeat interval in seconds to indicate <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/view/#live-view">live view</a> is alive .</p><p>Default value: <code>15</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-live-view-insert-blocks-before-refresh">max_live_view_insert_blocks_before_refresh<a href="#max-live-view-insert-blocks-before-refresh" class="hash-link" aria-label="Direct link to max_live_view_insert_blocks_before_refresh" title="Direct link to max_live_view_insert_blocks_before_refresh">​</a></h2><p>Sets the maximum number of inserted blocks after which mergeable blocks are dropped and query for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/view/#live-view">live view</a> is re-executed.</p><p>Default value: <code>64</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="periodic-live-view-refresh">periodic_live_view_refresh<a href="#periodic-live-view-refresh" class="hash-link" aria-label="Direct link to periodic_live_view_refresh" title="Direct link to periodic_live_view_refresh">​</a></h2><p>Sets the interval in seconds after which periodically refreshed <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/view/#live-view">live view</a> is forced to refresh.</p><p>Default value: <code>60</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http_connection_timeout">http_connection_timeout<a href="#http_connection_timeout" class="hash-link" aria-label="Direct link to http_connection_timeout" title="Direct link to http_connection_timeout">​</a></h2><p>HTTP connection timeout (in seconds).</p><p>Possible values:</p><ul><li>Any positive integer.</li><li>0 - Disabled (infinite timeout).</li></ul><p>Default value: 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http_send_timeout">http_send_timeout<a href="#http_send_timeout" class="hash-link" aria-label="Direct link to http_send_timeout" title="Direct link to http_send_timeout">​</a></h2><p>HTTP send timeout (in seconds).</p><p>Possible values:</p><ul><li>Any positive integer.</li><li>0 - Disabled (infinite timeout).</li></ul><p>Default value: 180.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http_receive_timeout">http_receive_timeout<a href="#http_receive_timeout" class="hash-link" aria-label="Direct link to http_receive_timeout" title="Direct link to http_receive_timeout">​</a></h2><p>HTTP receive timeout (in seconds).</p><p>Possible values:</p><ul><li>Any positive integer.</li><li>0 - Disabled (infinite timeout).</li></ul><p>Default value: 180.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="check_query_single_value_result">check_query_single_value_result<a href="#check_query_single_value_result" class="hash-link" aria-label="Direct link to check_query_single_value_result" title="Direct link to check_query_single_value_result">​</a></h2><p>Defines the level of detail for the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/check-table/#checking-mergetree-tables">CHECK TABLE</a> query result for <code>MergeTree</code> family engines .</p><p>Possible values:</p><ul><li>0 — the query shows a check status for every individual data part of a table.</li><li>1 — the query shows the general table check status.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prefer-column-name-to-alias">prefer_column_name_to_alias<a href="#prefer-column-name-to-alias" class="hash-link" aria-label="Direct link to prefer_column_name_to_alias" title="Direct link to prefer_column_name_to_alias">​</a></h2><p>Enables or disables using the original column names instead of aliases in query expressions and clauses. It especially matters when alias is the same as the column name, see <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/syntax/#notes-on-usage">Expression Aliases</a>. Enable this setting to make aliases syntax rules in ClickHouse more compatible with most other database engines.</p><p>Possible values:</p><ul><li>0 — The column name is substituted with the alias.</li><li>1 — The column name is not substituted with the alias.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><p>The difference between enabled and disabled:</p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> prefer_column_name_to_alias </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">avg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">max</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Received exception from server (version 21.5.1):</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Code: 184. DB::Exception: Received from localhost:9000. DB::Exception: Aggregate function avg(number) is found inside another aggregate function in query: While processing avg(number) AS number.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> prefer_column_name_to_alias </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">avg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">max</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─number─┬─max(number)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    4.5 │           9 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────┴─────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="limit">limit<a href="#limit" class="hash-link" aria-label="Direct link to limit" title="Direct link to limit">​</a></h2><p>Sets the maximum number of rows to get from the query result. It adjusts the value set by the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/limit/#limit-clause">LIMIT</a> clause, so that the limit, specified in the query, cannot exceed the limit, set by this setting.</p><p>Possible values:</p><ul><li>0 — The number of rows is not limited.</li><li>Positive integer.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="offset">offset<a href="#offset" class="hash-link" aria-label="Direct link to offset" title="Direct link to offset">​</a></h2><p>Sets the number of rows to skip before starting to return rows from the query. It adjusts the offset set by the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/offset/#offset-fetch">OFFSET</a> clause, so that these two values are summarized.</p><p>Possible values:</p><ul><li>0 — No rows are skipped .</li><li>Positive integer.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><p>Input table:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">i UInt64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">500</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">limit</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">offset</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">OFFSET</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌───i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 107 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 108 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 109 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_syntax_fuse_functions">optimize_syntax_fuse_functions<a href="#optimize_syntax_fuse_functions" class="hash-link" aria-label="Direct link to optimize_syntax_fuse_functions" title="Direct link to optimize_syntax_fuse_functions">​</a></h2><p>Enables to fuse aggregate functions with identical argument. It rewrites query contains at least two aggregate functions from <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/sum/#agg_function-sum">sum</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/count/#agg_function-count">count</a> or <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/avg/#agg_function-avg">avg</a> with identical argument to <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/aggregate-functions/reference/sumcount/#agg_function-sumCount">sumCount</a>.</p><p>Possible values:</p><ul><li>0 — Functions with identical argument are not fused.</li><li>1 — Functions with identical argument are fused.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> fuse_tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a Int8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> b Int8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Engine</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> optimize_syntax_fuse_functions </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">EXPLAIN</span><span class="token plain"> SYNTAX </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">sum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">sum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">avg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> fuse_tbl FORMAT TSV</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">SELECT</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sum(a),</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sumCount(b).1,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sumCount(b).2,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    (sumCount(b).1) / (sumCount(b).2)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">FROM fuse_tbl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_rewrite_aggregate_function_with_if">optimize_rewrite_aggregate_function_with_if<a href="#optimize_rewrite_aggregate_function_with_if" class="hash-link" aria-label="Direct link to optimize_rewrite_aggregate_function_with_if" title="Direct link to optimize_rewrite_aggregate_function_with_if">​</a></h2><p>Rewrite aggregate functions with if expression as argument when logically equivalent.
For example, <code>avg(if(cond, col, null))</code> can be rewritten to <code>avgOrNullIf(cond, col)</code>. It may improve performance.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Supported only with experimental analyzer (<code>allow_experimental_analyzer = 1</code>).</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow_experimental_database_replicated">allow_experimental_database_replicated<a href="#allow_experimental_database_replicated" class="hash-link" aria-label="Direct link to allow_experimental_database_replicated" title="Direct link to allow_experimental_database_replicated">​</a></h2><p>Enables to create databases with <a href="/AlgoliaDocsSelfCrawl/en/engines/database-engines/replicated">Replicated</a> engine.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="database_replicated_initial_query_timeout_sec">database_replicated_initial_query_timeout_sec<a href="#database_replicated_initial_query_timeout_sec" class="hash-link" aria-label="Direct link to database_replicated_initial_query_timeout_sec" title="Direct link to database_replicated_initial_query_timeout_sec">​</a></h2><p>Sets how long initial DDL query should wait for Replicated database to precess previous DDL queue entries in seconds.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Unlimited.</li></ul><p>Default value: <code>300</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed_ddl_task_timeout">distributed_ddl_task_timeout<a href="#distributed_ddl_task_timeout" class="hash-link" aria-label="Direct link to distributed_ddl_task_timeout" title="Direct link to distributed_ddl_task_timeout">​</a></h2><p>Sets timeout for DDL query responses from all hosts in cluster. If a DDL request has not been performed on all hosts, a response will contain a timeout error and a request will be executed in an async mode. Negative value means infinite.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Async mode.</li><li>Negative integer — infinite timeout.</li></ul><p>Default value: <code>180</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed_ddl_output_mode">distributed_ddl_output_mode<a href="#distributed_ddl_output_mode" class="hash-link" aria-label="Direct link to distributed_ddl_output_mode" title="Direct link to distributed_ddl_output_mode">​</a></h2><p>Sets format of distributed DDL query result.</p><p>Possible values:</p><ul><li><code>throw</code> — Returns result set with query execution status for all hosts where query is finished. If query has failed on some hosts, then it will rethrow the first exception. If query is not finished yet on some hosts and <a href="#distributed_ddl_task_timeout">distributed_ddl_task_timeout</a> exceeded, then it throws <code>TIMEOUT_EXCEEDED</code> exception.</li><li><code>none</code> — Is similar to throw, but distributed DDL query returns no result set.</li><li><code>null_status_on_timeout</code> — Returns <code>NULL</code> as execution status in some rows of result set instead of throwing <code>TIMEOUT_EXCEEDED</code> if query is not finished on the corresponding hosts.</li><li><code>never_throw</code> — Do not throw <code>TIMEOUT_EXCEEDED</code> and do not rethrow exceptions if query has failed on some hosts.</li></ul><p>Default value: <code>throw</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="flatten-nested">flatten_nested<a href="#flatten-nested" class="hash-link" aria-label="Direct link to flatten_nested" title="Direct link to flatten_nested">​</a></h2><p>Sets the data format of a <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nested-data-structures/nested">nested</a> columns.</p><p>Possible values:</p><ul><li>1 — Nested column is flattened to separate arrays.</li><li>0 — Nested column stays a single array of tuples.</li></ul><p>Default value: <code>1</code>.</p><p><strong>Usage</strong></p><p>If the setting is set to <code>0</code>, it is possible to use an arbitrary level of nesting.</p><p><strong>Examples</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> flatten_nested </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">n</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> Nested</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> b UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SHOW</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─statement───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ CREATE TABLE default.t_nest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `n.a` Array(UInt32),</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `n.b` Array(UInt32)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ENGINE = MergeTree</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ORDER BY tuple()</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS index_granularity = 8192 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> flatten_nested </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">n</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> Nested</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> b UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SHOW</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─statement──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ CREATE TABLE default.t_nest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `n` Nested(a UInt32, b UInt32)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ENGINE = MergeTree</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ORDER BY tuple()</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS index_granularity = 8192 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="external-table-functions-use-nulls">external_table_functions_use_nulls<a href="#external-table-functions-use-nulls" class="hash-link" aria-label="Direct link to external_table_functions_use_nulls" title="Direct link to external_table_functions_use_nulls">​</a></h2><p>Defines how <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/table-functions/mysql">mysql</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/table-functions/postgresql">postgresql</a> and <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/table-functions/odbc">odbc</a>] table functions use Nullable columns.</p><p>Possible values:</p><ul><li>0 — The table function explicitly uses Nullable columns.</li><li>1 — The table function implicitly uses Nullable columns.</li></ul><p>Default value: <code>1</code>.</p><p><strong>Usage</strong></p><p>If the setting is set to <code>0</code>, the table function does not make Nullable columns and inserts default values instead of NULL. This is also applicable for NULL values inside arrays.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow-experimental-projection-optimization">allow_experimental_projection_optimization<a href="#allow-experimental-projection-optimization" class="hash-link" aria-label="Direct link to allow_experimental_projection_optimization" title="Direct link to allow_experimental_projection_optimization">​</a></h2><p>Enables or disables <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree/#projections">projection</a> optimization when processing <code>SELECT</code> queries.</p><p>Possible values:</p><ul><li>0 — Projection optimization disabled.</li><li>1 — Projection optimization enabled.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="force-optimize-projection">force_optimize_projection<a href="#force-optimize-projection" class="hash-link" aria-label="Direct link to force_optimize_projection" title="Direct link to force_optimize_projection">​</a></h2><p>Enables or disables the obligatory use of <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/mergetree/#projections">projections</a> in <code>SELECT</code> queries, when projection optimization is enabled (see <a href="#allow-experimental-projection-optimization">allow_experimental_projection_optimization</a> setting).</p><p>Possible values:</p><ul><li>0 — Projection optimization is not obligatory.</li><li>1 — Projection optimization is obligatory.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alter-sync">alter_sync<a href="#alter-sync" class="hash-link" aria-label="Direct link to alter_sync" title="Direct link to alter_sync">​</a></h2><p>Allows to set up waiting for actions to be executed on replicas by <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/alter/">ALTER</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/optimize">OPTIMIZE</a> or <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/truncate">TRUNCATE</a> queries.</p><p>Possible values:</p><ul><li>0 — Do not wait.</li><li>1 — Wait for own execution.</li><li>2 — Wait for everyone.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="replication-wait-for-inactive-replica-timeout">replication_wait_for_inactive_replica_timeout<a href="#replication-wait-for-inactive-replica-timeout" class="hash-link" aria-label="Direct link to replication_wait_for_inactive_replica_timeout" title="Direct link to replication_wait_for_inactive_replica_timeout">​</a></h2><p>Specifies how long (in seconds) to wait for inactive replicas to execute <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/alter/">ALTER</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/optimize">OPTIMIZE</a> or <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/truncate">TRUNCATE</a> queries.</p><p>Possible values:</p><ul><li>0 — Do not wait.</li><li>Negative integer — Wait for unlimited time.</li><li>Positive integer — The number of seconds to wait.</li></ul><p>Default value: <code>120</code> seconds.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="regexp-max-matches-per-row">regexp_max_matches_per_row<a href="#regexp-max-matches-per-row" class="hash-link" aria-label="Direct link to regexp_max_matches_per_row" title="Direct link to regexp_max_matches_per_row">​</a></h2><p>Sets the maximum number of matches for a single regular expression per row. Use it to protect against memory overload when using greedy regular expression in the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/string-search-functions/#extractallgroups-horizontal">extractAllGroupsHorizontal</a> function.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>1000</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http-max-single-read-retries">http_max_single_read_retries<a href="#http-max-single-read-retries" class="hash-link" aria-label="Direct link to http_max_single_read_retries" title="Direct link to http_max_single_read_retries">​</a></h2><p>Sets the maximum number of retries during a single HTTP read.</p><p>Possible values:</p><ul><li>Positive integer.</li></ul><p>Default value: <code>1024</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="log-queries-probability">log_queries_probability<a href="#log-queries-probability" class="hash-link" aria-label="Direct link to log_queries_probability" title="Direct link to log_queries_probability">​</a></h2><p>Allows a user to write to <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/query_log">query_log</a>, <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/query_thread_log">query_thread_log</a>, and <a href="/AlgoliaDocsSelfCrawl/en/operations/system-tables/query_views_log">query_views_log</a> system tables only a sample of queries selected randomly with the specified probability. It helps to reduce the load with a large volume of queries in a second.</p><p>Possible values:</p><ul><li>0 — Queries are not logged in the system tables.</li><li>Positive floating-point number in the range <!-- -->[0..1]<!-- -->. For example, if the setting value is <code>0.5</code>, about half of the queries are logged in the system tables.</li><li>1 — All queries are logged in the system tables.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="short-circuit-function-evaluation">short_circuit_function_evaluation<a href="#short-circuit-function-evaluation" class="hash-link" aria-label="Direct link to short_circuit_function_evaluation" title="Direct link to short_circuit_function_evaluation">​</a></h2><p>Allows calculating the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/conditional-functions/#if">if</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/conditional-functions/#multiif">multiIf</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/logical-functions/#logical-and-function">and</a>, and <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/logical-functions/#logical-or-function">or</a> functions according to a <a href="https://en.wikipedia.org/wiki/Short-circuit_evaluation" target="_blank" rel="noopener noreferrer">short scheme</a>. This helps optimize the execution of complex expressions in these functions and prevent possible exceptions (such as division by zero when it is not expected).</p><p>Possible values:</p><ul><li><code>enable</code> — Enables short-circuit function evaluation for functions that are suitable for it (can throw an exception or computationally heavy).</li><li><code>force_enable</code> — Enables short-circuit function evaluation for all functions.</li><li><code>disable</code> — Disables short-circuit function evaluation.</li></ul><p>Default value: <code>enable</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-hyperscan-regexp-length">max_hyperscan_regexp_length<a href="#max-hyperscan-regexp-length" class="hash-link" aria-label="Direct link to max_hyperscan_regexp_length" title="Direct link to max_hyperscan_regexp_length">​</a></h2><p>Defines the maximum length for each regular expression in the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/string-search-functions/#multimatchanyhaystack-pattern1-pattern2-patternn">hyperscan multi-match functions</a>.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 - The length is not limited.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ab&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─multiMatchAny(&#x27;abcd&#x27;, [&#x27;ab&#x27;, &#x27;bcd&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│                                              1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ab&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Exception: Regexp length too large.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>See Also</strong></p><ul><li><a href="#max-hyperscan-regexp-total-length">max_hyperscan_regexp_total_length</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-hyperscan-regexp-total-length">max_hyperscan_regexp_total_length<a href="#max-hyperscan-regexp-total-length" class="hash-link" aria-label="Direct link to max_hyperscan_regexp_total_length" title="Direct link to max_hyperscan_regexp_total_length">​</a></h2><p>Sets the maximum length total of all regular expressions in each <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/string-search-functions/#multimatchanyhaystack-pattern1-pattern2-patternn">hyperscan multi-match function</a>.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 - The length is not limited.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;b&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_total_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─multiMatchAny(&#x27;abcd&#x27;, [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│                                           1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ab&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bc&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_total_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Exception: Total regexp lengths too large.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>See Also</strong></p><ul><li><a href="#max-hyperscan-regexp-length">max_hyperscan_regexp_length</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-positional-arguments">enable_positional_arguments<a href="#enable-positional-arguments" class="hash-link" aria-label="Direct link to enable_positional_arguments" title="Direct link to enable_positional_arguments">​</a></h2><p>Enables or disables supporting positional arguments for <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/group-by">GROUP BY</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/limit-by">LIMIT BY</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/order-by">ORDER BY</a> statements.</p><p>Possible values:</p><ul><li>0 — Positional arguments aren&#x27;t supported.</li><li>1 — Positional arguments are supported: column numbers can use instead of column names.</li></ul><p>Default value: <code>1</code>.</p><p><strong>Example</strong></p><p>Query:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> positional_arguments</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">one </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> two </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> three </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Memory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> positional_arguments </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> positional_arguments </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">┌─one─┬─two─┬─three─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  30 │  10 │   20  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  20 │  20 │   10  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  10 │  20 │   30  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴─────┴───────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-extended-results-for-datetime-functions">enable_extended_results_for_datetime_functions<a href="#enable-extended-results-for-datetime-functions" class="hash-link" aria-label="Direct link to enable_extended_results_for_datetime_functions" title="Direct link to enable_extended_results_for_datetime_functions">​</a></h2><p>Enables or disables returning results of type:</p><ul><li><code>Date32</code> with extended range (compared to type <code>Date</code>) for functions <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofyear">toStartOfYear</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofisoyear">toStartOfISOYear</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofquarter">toStartOfQuarter</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofmonth">toStartOfMonth</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofweek">toStartOfWeek</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tomonday">toMonday</a> and <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tolastdayofmonth">toLastDayOfMonth</a>.</li><li><code>DateTime64</code> with extended range (compared to type <code>DateTime</code>) for functions <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofday">toStartOfDay</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofhour">toStartOfHour</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartofminute">toStartOfMinute</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartoffiveminutes">toStartOfFiveMinutes</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartoftenminutes">toStartOfTenMinutes</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#tostartoffifteenminutes">toStartOfFifteenMinutes</a> and <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/functions/date-time-functions/#timeslot">timeSlot</a>.</li></ul><p>Possible values:</p><ul><li>0 — Functions return <code>Date</code> or <code>DateTime</code> for all types of arguments.</li><li>1 — Functions return <code>Date32</code> or <code>DateTime64</code> for <code>Date32</code> or <code>DateTime64</code> arguments and <code>Date</code> or <code>DateTime</code> otherwise.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_move_to_prewhere">optimize_move_to_prewhere<a href="#optimize_move_to_prewhere" class="hash-link" aria-label="Direct link to optimize_move_to_prewhere" title="Direct link to optimize_move_to_prewhere">​</a></h2><p>Enables or disables automatic <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/prewhere">PREWHERE</a> optimization in <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/">SELECT</a> queries.</p><p>Works only for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/">*MergeTree</a> tables.</p><p>Possible values:</p><ul><li>0 — Automatic <code>PREWHERE</code> optimization is disabled.</li><li>1 — Automatic <code>PREWHERE</code> optimization is enabled.</li></ul><p>Default value: <code>1</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_move_to_prewhere_if_final">optimize_move_to_prewhere_if_final<a href="#optimize_move_to_prewhere_if_final" class="hash-link" aria-label="Direct link to optimize_move_to_prewhere_if_final" title="Direct link to optimize_move_to_prewhere_if_final">​</a></h2><p>Enables or disables automatic <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/prewhere">PREWHERE</a> optimization in <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/">SELECT</a> queries with <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/from/#select-from-final">FINAL</a> modifier.</p><p>Works only for <a href="/AlgoliaDocsSelfCrawl/en/engines/table-engines/mergetree-family/">*MergeTree</a> tables.</p><p>Possible values:</p><ul><li>0 — Automatic <code>PREWHERE</code> optimization in <code>SELECT</code> queries with <code>FINAL</code> modifier is disabled.</li><li>1 — Automatic <code>PREWHERE</code> optimization in <code>SELECT</code> queries with <code>FINAL</code> modifier is enabled.</li></ul><p>Default value: <code>0</code>.</p><p><strong>See Also</strong></p><ul><li><a href="#optimize_move_to_prewhere">optimize_move_to_prewhere</a> setting</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_using_constraints">optimize_using_constraints<a href="#optimize_using_constraints" class="hash-link" aria-label="Direct link to optimize_using_constraints" title="Direct link to optimize_using_constraints">​</a></h2><p>Use <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table#constraints">constraints</a> for query optimization. The default is <code>false</code>.</p><p>Possible values:</p><ul><li>true, false</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_append_index">optimize_append_index<a href="#optimize_append_index" class="hash-link" aria-label="Direct link to optimize_append_index" title="Direct link to optimize_append_index">​</a></h2><p>Use <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table#constraints">constraints</a> in order to append index condition. The default is <code>false</code>.</p><p>Possible values:</p><ul><li>true, false</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimize_substitute_columns">optimize_substitute_columns<a href="#optimize_substitute_columns" class="hash-link" aria-label="Direct link to optimize_substitute_columns" title="Direct link to optimize_substitute_columns">​</a></h2><p>Use <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table#constraints">constraints</a> for column substitution. The default is <code>false</code>.</p><p>Possible values:</p><ul><li>true, false</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="describe_include_subcolumns">describe_include_subcolumns<a href="#describe_include_subcolumns" class="hash-link" aria-label="Direct link to describe_include_subcolumns" title="Direct link to describe_include_subcolumns">​</a></h2><p>Enables describing subcolumns for a <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/describe-table">DESCRIBE</a> query. For example, members of a <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/tuple">Tuple</a> or subcolumns of a <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/map/#map-subcolumns">Map</a>, <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/nullable/#finding-null">Nullable</a> or an <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/data-types/array/#array-size">Array</a> data type.</p><p>Possible values:</p><ul><li>0 — Subcolumns are not included in <code>DESCRIBE</code> queries.</li><li>1 — Subcolumns are included in <code>DESCRIBE</code> queries.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><p>See an example for the <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/describe-table">DESCRIBE</a> statement.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alter-partition-verbose-result">alter_partition_verbose_result<a href="#alter-partition-verbose-result" class="hash-link" aria-label="Direct link to alter_partition_verbose_result" title="Direct link to alter_partition_verbose_result">​</a></h2><p>Enables or disables the display of information about the parts to which the manipulation operations with partitions and parts have been successfully applied.
Applicable to <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/alter/partition/#alter_attach-partition">ATTACH PARTITION|PART</a> and to <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/alter/partition/#alter_freeze-partition">FREEZE PARTITION</a>.</p><p>Possible values:</p><ul><li>0 — disable verbosity.</li><li>1 — enable verbosity.</li></ul><p>Default value: <code>0</code>.</p><p><strong>Example</strong></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a Int64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> d </span><span class="token keyword" style="color:rgb(0, 0, 255)">Date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> s String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> toYYYYMM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;2021-01-01&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;2021-01-01&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test DETACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> ID </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;202101&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test ATTACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> ID </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;202101&#x27;</span><span class="token plain"> SETTINGS alter_partition_verbose_result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─command_type─────┬─partition_id─┬─part_name────┬─old_part_name─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ATTACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_7_7_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_5_5_0  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ATTACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_8_8_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_6_6_0  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────────┴──────────────┴──────────────┴───────────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test FREEZE SETTINGS alter_partition_verbose_result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─command_type─┬─partition_id─┬─part_name────┬─backup_name─┬─backup_path───────────────────┬─part_backup_path────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ FREEZE </span><span class="token keyword" style="color:rgb(0, 0, 255)">ALL</span><span class="token plain">   │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_7_7_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">           │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain"> │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">data</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">test</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_7_7_0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ FREEZE </span><span class="token keyword" style="color:rgb(0, 0, 255)">ALL</span><span class="token plain">   │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_8_8_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">           │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain"> │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">data</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">test</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_8_8_0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────┴──────────────┴──────────────┴─────────────┴───────────────────────────────┴─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min-bytes-to-use-mmap-io">min_bytes_to_use_mmap_io<a href="#min-bytes-to-use-mmap-io" class="hash-link" aria-label="Direct link to min_bytes_to_use_mmap_io" title="Direct link to min_bytes_to_use_mmap_io">​</a></h2><p>This is an experimental setting. Sets the minimum amount of memory for reading large files without copying data from the kernel to userspace. Recommended threshold is about 64 MB, because <a href="https://en.wikipedia.org/wiki/Mmap" target="_blank" rel="noopener noreferrer">mmap/munmap</a> is slow. It makes sense only for large files and helps only if data reside in the page cache.</p><p>Possible values:</p><ul><li>Positive integer.</li><li>0 — Big files read with only copying data from kernel to userspace.</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="shutdown_wait_unfinished_queries">shutdown_wait_unfinished_queries<a href="#shutdown_wait_unfinished_queries" class="hash-link" aria-label="Direct link to shutdown_wait_unfinished_queries" title="Direct link to shutdown_wait_unfinished_queries">​</a></h2><p>Enables or disables waiting unfinished queries when shutdown server.</p><p>Possible values:</p><ul><li>0 — Disabled.</li><li>1 — Enabled. The wait time equal shutdown_wait_unfinished config.</li></ul><p>Default value: 0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="shutdown_wait_unfinished">shutdown_wait_unfinished<a href="#shutdown_wait_unfinished" class="hash-link" aria-label="Direct link to shutdown_wait_unfinished" title="Direct link to shutdown_wait_unfinished">​</a></h2><p>The waiting time in seconds for currently handled connections when shutdown server.</p><p>Default Value: 5.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory_overcommit_ratio_denominator">memory_overcommit_ratio_denominator<a href="#memory_overcommit_ratio_denominator" class="hash-link" aria-label="Direct link to memory_overcommit_ratio_denominator" title="Direct link to memory_overcommit_ratio_denominator">​</a></h2><p>It represents soft memory limit in case when hard limit is reached on user level.
This value is used to compute overcommit ratio for the query.
Zero means skip the query.
Read more about <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/memory-overcommit">memory overcommit</a>.</p><p>Default value: <code>1GiB</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory_usage_overcommit_max_wait_microseconds">memory_usage_overcommit_max_wait_microseconds<a href="#memory_usage_overcommit_max_wait_microseconds" class="hash-link" aria-label="Direct link to memory_usage_overcommit_max_wait_microseconds" title="Direct link to memory_usage_overcommit_max_wait_microseconds">​</a></h2><p>Maximum time thread will wait for memory to be freed in the case of memory overcommit on a user level.
If the timeout is reached and memory is not freed, an exception is thrown.
Read more about <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/memory-overcommit">memory overcommit</a>.</p><p>Default value: <code>5000000</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory_overcommit_ratio_denominator_for_user">memory_overcommit_ratio_denominator_for_user<a href="#memory_overcommit_ratio_denominator_for_user" class="hash-link" aria-label="Direct link to memory_overcommit_ratio_denominator_for_user" title="Direct link to memory_overcommit_ratio_denominator_for_user">​</a></h2><p>It represents soft memory limit in case when hard limit is reached on global level.
This value is used to compute overcommit ratio for the query.
Zero means skip the query.
Read more about <a href="/AlgoliaDocsSelfCrawl/en/operations/settings/memory-overcommit">memory overcommit</a>.</p><p>Default value: <code>1GiB</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="schema-inference-settings">Schema Inference settings<a href="#schema-inference-settings" class="hash-link" aria-label="Direct link to Schema Inference settings" title="Direct link to Schema Inference settings">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema_inference_use_cache_for_file-schema_inference_use_cache_for_file">schema_inference_use_cache_for_file {schema_inference_use_cache_for_file}<a href="#schema_inference_use_cache_for_file-schema_inference_use_cache_for_file" class="hash-link" aria-label="Direct link to schema_inference_use_cache_for_file {schema_inference_use_cache_for_file}" title="Direct link to schema_inference_use_cache_for_file {schema_inference_use_cache_for_file}">​</a></h3><p>Enable schemas cache for schema inference in <code>file</code> table function.</p><p>Default value: <code>true</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema_inference_use_cache_for_s3-schema_inference_use_cache_for_s3">schema_inference_use_cache_for_s3 {schema_inference_use_cache_for_s3}<a href="#schema_inference_use_cache_for_s3-schema_inference_use_cache_for_s3" class="hash-link" aria-label="Direct link to schema_inference_use_cache_for_s3 {schema_inference_use_cache_for_s3}" title="Direct link to schema_inference_use_cache_for_s3 {schema_inference_use_cache_for_s3}">​</a></h3><p>Enable schemas cache for schema inference in <code>s3</code> table function.</p><p>Default value: <code>true</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema_inference_use_cache_for_url-schema_inference_use_cache_for_url">schema_inference_use_cache_for_url {schema_inference_use_cache_for_url}<a href="#schema_inference_use_cache_for_url-schema_inference_use_cache_for_url" class="hash-link" aria-label="Direct link to schema_inference_use_cache_for_url {schema_inference_use_cache_for_url}" title="Direct link to schema_inference_use_cache_for_url {schema_inference_use_cache_for_url}">​</a></h3><p>Enable schemas cache for schema inference in <code>url</code> table function.</p><p>Default value: <code>true</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema_inference_use_cache_for_hdfs-schema_inference_use_cache_for_hdfs">schema_inference_use_cache_for_hdfs {schema_inference_use_cache_for_hdfs}<a href="#schema_inference_use_cache_for_hdfs-schema_inference_use_cache_for_hdfs" class="hash-link" aria-label="Direct link to schema_inference_use_cache_for_hdfs {schema_inference_use_cache_for_hdfs}" title="Direct link to schema_inference_use_cache_for_hdfs {schema_inference_use_cache_for_hdfs}">​</a></h3><p>Enable schemas cache for schema inference in <code>hdfs</code> table function.</p><p>Default value: <code>true</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema_inference_cache_require_modification_time_for_url">schema_inference_cache_require_modification_time_for_url<a href="#schema_inference_cache_require_modification_time_for_url" class="hash-link" aria-label="Direct link to schema_inference_cache_require_modification_time_for_url" title="Direct link to schema_inference_cache_require_modification_time_for_url">​</a></h3><p>Use schema from cache for URL with last modification time validation (for urls with Last-Modified header). If this setting is enabled and URL doesn&#x27;t have Last-Modified header, schema from cache won&#x27;t be used.</p><p>Default value: <code>true</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use_structure_from_insertion_table_in_table_functions-use_structure_from_insertion_table_in_table_functions">use_structure_from_insertion_table_in_table_functions {use_structure_from_insertion_table_in_table_functions}<a href="#use_structure_from_insertion_table_in_table_functions-use_structure_from_insertion_table_in_table_functions" class="hash-link" aria-label="Direct link to use_structure_from_insertion_table_in_table_functions {use_structure_from_insertion_table_in_table_functions}" title="Direct link to use_structure_from_insertion_table_in_table_functions {use_structure_from_insertion_table_in_table_functions}">​</a></h3><p>Use structure from insertion table instead of schema inference from data.</p><p>Possible values:</p><ul><li>0 - disabled</li><li>1 - enabled</li><li>2 - auto</li></ul><p>Default value: 2.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility">compatibility<a href="#compatibility" class="hash-link" aria-label="Direct link to compatibility" title="Direct link to compatibility">​</a></h2><p>The <code>compatibility</code> setting causes ClickHouse to use the default settings of a previous version of ClickHouse, where the previous version is provided as the setting.</p><p>If settings are set to non-default values, then those settings are honored (only settings that have not been modified are affected by the <code>compatibility</code> setting).</p><p>This setting takes a ClickHouse version number as a string, like <code>22.3</code>, <code>22.8</code>. An empty value means that this setting is disabled.</p><p>Disabled by default.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>In ClickHouse Cloud the compatibility setting must be set by ClickHouse Cloud support.  Please <a href="https://clickhouse.cloud/support" target="_blank" rel="noopener noreferrer">open a case</a> to have it set.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allow_settings_after_format_in_insert">allow_settings_after_format_in_insert<a href="#allow_settings_after_format_in_insert" class="hash-link" aria-label="Direct link to allow_settings_after_format_in_insert" title="Direct link to allow_settings_after_format_in_insert">​</a></h2><p>Control whether <code>SETTINGS</code> after <code>FORMAT</code> in <code>INSERT</code> queries is allowed or not. It is not recommended to use this, since this may interpret part of <code>SETTINGS</code> as values.</p><p>Example:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FUNCTION</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;foo String&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_threads</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bar&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>But the following query will work only with <code>allow_settings_after_format_in_insert</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> allow_settings_after_format_in_insert</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FUNCTION</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;foo String&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bar&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_threads</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Possible values:</p><ul><li>0 — Disallow.</li><li>1 — Allow.</li></ul><p>Default value: <code>0</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Use this setting only for backward compatibility if your use cases depend on old syntax.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="final">final<a href="#final" class="hash-link" aria-label="Direct link to final" title="Direct link to final">​</a></h2><p>Automatically applies <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/from/#final-modifier">FINAL</a> modifier to all tables in a query, to tables where <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/select/from/#final-modifier">FINAL</a> is applicable, including joined tables and tables in sub-queries, and
distributed tables.</p><p>Possible values:</p><ul><li>0 - disabled</li><li>1 - enabled</li></ul><p>Default value: <code>0</code>.</p><p>Example:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token plain"> Int64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">some</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ReplacingMergeTree</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test FORMAT </span><span class="token keyword" style="color:rgb(0, 0, 255)">Values</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;first&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test FORMAT </span><span class="token keyword" style="color:rgb(0, 0, 255)">Values</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;second&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─</span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token plain">─┬─</span><span class="token keyword" style="color:rgb(0, 0, 255)">some</span><span class="token plain">───┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │ </span><span class="token keyword" style="color:rgb(0, 0, 255)">second</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─</span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token plain">─┬─</span><span class="token keyword" style="color:rgb(0, 0, 255)">some</span><span class="token plain">──┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │ </span><span class="token keyword" style="color:rgb(0, 0, 255)">first</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴───────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test SETTINGS final </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─</span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token plain">─┬─</span><span class="token keyword" style="color:rgb(0, 0, 255)">some</span><span class="token plain">───┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │ </span><span class="token keyword" style="color:rgb(0, 0, 255)">second</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> final </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─</span><span class="token keyword" style="color:rgb(0, 0, 255)">key</span><span class="token plain">─┬─</span><span class="token keyword" style="color:rgb(0, 0, 255)">some</span><span class="token plain">───┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│   </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │ </span><span class="token keyword" style="color:rgb(0, 0, 255)">second</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="asterisk_include_materialized_columns">asterisk_include_materialized_columns<a href="#asterisk_include_materialized_columns" class="hash-link" aria-label="Direct link to asterisk_include_materialized_columns" title="Direct link to asterisk_include_materialized_columns">​</a></h2><p>Include <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table/#materialized">MATERIALIZED</a> columns for wildcard query (<code>SELECT *</code>).</p><p>Possible values:</p><ul><li>0 - disabled</li><li>1 - enabled</li></ul><p>Default value: <code>0</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="asterisk_include_alias_columns">asterisk_include_alias_columns<a href="#asterisk_include_alias_columns" class="hash-link" aria-label="Direct link to asterisk_include_alias_columns" title="Direct link to asterisk_include_alias_columns">​</a></h2><p>Include <a href="/AlgoliaDocsSelfCrawl/en/sql-reference/statements/create/table/#alias">ALIAS</a> columns for wildcard query (<code>SELECT *</code>).</p><p>Possible values:</p><ul><li>0 - disabled</li><li>1 - enabled</li></ul><p>Default value: <code>0</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ClickHouse/ClickHouse/tree/master/docs/en/operations/settings/settings.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/AlgoliaDocsSelfCrawl/en/operations/settings/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Settings Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/AlgoliaDocsSelfCrawl/en/operations/settings/formats"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Format Settings</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#additional_table_filters" class="table-of-contents__link toc-highlight">additional_table_filters</a></li><li><a href="#allow_nondeterministic_mutations" class="table-of-contents__link toc-highlight">allow_nondeterministic_mutations</a></li><li><a href="#distributed-product-mode" class="table-of-contents__link toc-highlight">distributed_product_mode</a></li><li><a href="#prefer-global-in-and-join" class="table-of-contents__link toc-highlight">prefer_global_in_and_join</a></li><li><a href="#enable-optimize-predicate-expression" class="table-of-contents__link toc-highlight">enable_optimize_predicate_expression</a></li><li><a href="#settings-fallback_to_stale_replicas_for_distributed_queries" class="table-of-contents__link toc-highlight">fallback_to_stale_replicas_for_distributed_queries</a></li><li><a href="#settings-force_index_by_date" class="table-of-contents__link toc-highlight">force_index_by_date</a></li><li><a href="#force-primary-key" class="table-of-contents__link toc-highlight">force_primary_key</a></li><li><a href="#settings-use_skip_indexes" class="table-of-contents__link toc-highlight">use_skip_indexes</a></li><li><a href="#settings-force_data_skipping_indices" class="table-of-contents__link toc-highlight">force_data_skipping_indices</a></li><li><a href="#convert_query_to_cnf" class="table-of-contents__link toc-highlight">convert_query_to_cnf</a></li><li><a href="#fsync-metadata" class="table-of-contents__link toc-highlight">fsync_metadata</a></li><li><a href="#settings-function_range_max_elements_in_block" class="table-of-contents__link toc-highlight">function_range_max_elements_in_block</a></li><li><a href="#settings-enable_http_compression" class="table-of-contents__link toc-highlight">enable_http_compression</a></li><li><a href="#settings-http_zlib_compression_level" class="table-of-contents__link toc-highlight">http_zlib_compression_level</a></li><li><a href="#settings-http_native_compression_disable_checksumming_on_decompress" class="table-of-contents__link toc-highlight">http_native_compression_disable_checksumming_on_decompress</a></li><li><a href="#http-max-uri-size" class="table-of-contents__link toc-highlight">http_max_uri_size</a></li><li><a href="#table_function_remote_max_addresses" class="table-of-contents__link toc-highlight">table_function_remote_max_addresses</a></li><li><a href="#glob_expansion_max_elements" class="table-of-contents__link toc-highlight">glob_expansion_max_elements</a></li><li><a href="#settings-send_progress_in_http_headers" class="table-of-contents__link toc-highlight">send_progress_in_http_headers</a></li><li><a href="#setting-max_http_get_redirects" class="table-of-contents__link toc-highlight">max_http_get_redirects</a></li><li><a href="#insert_null_as_default" class="table-of-contents__link toc-highlight">insert_null_as_default</a></li><li><a href="#settings-join_default_strictness" class="table-of-contents__link toc-highlight">join_default_strictness</a></li><li><a href="#settings-join_algorithm" class="table-of-contents__link toc-highlight">join_algorithm</a></li><li><a href="#settings-join_any_take_last_row" class="table-of-contents__link toc-highlight">join_any_take_last_row</a></li><li><a href="#join_use_nulls" class="table-of-contents__link toc-highlight">join_use_nulls</a></li><li><a href="#group_by_use_nulls" class="table-of-contents__link toc-highlight">group_by_use_nulls</a></li><li><a href="#partial_merge_join_optimizations" class="table-of-contents__link toc-highlight">partial_merge_join_optimizations</a></li><li><a href="#partial_merge_join_rows_in_right_blocks" class="table-of-contents__link toc-highlight">partial_merge_join_rows_in_right_blocks</a></li><li><a href="#join_on_disk_max_files_to_merge" class="table-of-contents__link toc-highlight">join_on_disk_max_files_to_merge</a></li><li><a href="#any_join_distinct_right_table_keys" class="table-of-contents__link toc-highlight">any_join_distinct_right_table_keys</a></li><li><a href="#temporary_files_codec" class="table-of-contents__link toc-highlight">temporary_files_codec</a></li><li><a href="#setting-max_block_size" class="table-of-contents__link toc-highlight">max_block_size</a></li><li><a href="#preferred-block-size-bytes" class="table-of-contents__link toc-highlight">preferred_block_size_bytes</a></li><li><a href="#setting-merge-tree-min-rows-for-concurrent-read" class="table-of-contents__link toc-highlight">merge_tree_min_rows_for_concurrent_read</a></li><li><a href="#merge-tree-min-rows-for-concurrent-read-for-remote-filesystem" class="table-of-contents__link toc-highlight">merge_tree_min_rows_for_concurrent_read_for_remote_filesystem</a></li><li><a href="#setting-merge-tree-min-bytes-for-concurrent-read" class="table-of-contents__link toc-highlight">merge_tree_min_bytes_for_concurrent_read</a></li><li><a href="#merge-tree-min-bytes-for-concurrent-read-for-remote-filesystem" class="table-of-contents__link toc-highlight">merge_tree_min_bytes_for_concurrent_read_for_remote_filesystem</a></li><li><a href="#setting-merge-tree-min-rows-for-seek" class="table-of-contents__link toc-highlight">merge_tree_min_rows_for_seek</a></li><li><a href="#setting-merge-tree-min-bytes-for-seek" class="table-of-contents__link toc-highlight">merge_tree_min_bytes_for_seek</a></li><li><a href="#setting-merge-tree-coarse-index-granularity" class="table-of-contents__link toc-highlight">merge_tree_coarse_index_granularity</a></li><li><a href="#setting-merge-tree-max-rows-to-use-cache" class="table-of-contents__link toc-highlight">merge_tree_max_rows_to_use_cache</a></li><li><a href="#setting-merge-tree-max-bytes-to-use-cache" class="table-of-contents__link toc-highlight">merge_tree_max_bytes_to_use_cache</a></li><li><a href="#settings-min-bytes-to-use-direct-io" class="table-of-contents__link toc-highlight">min_bytes_to_use_direct_io</a></li><li><a href="#network_compression_method" class="table-of-contents__link toc-highlight">network_compression_method</a></li><li><a href="#network_zstd_compression_level" class="table-of-contents__link toc-highlight">network_zstd_compression_level</a></li><li><a href="#settings-log-queries" class="table-of-contents__link toc-highlight">log_queries</a></li><li><a href="#settings-log-queries-min-query-duration-ms" class="table-of-contents__link toc-highlight">log_queries_min_query_duration_ms</a></li><li><a href="#settings-log-queries-min-type" class="table-of-contents__link toc-highlight">log_queries_min_type</a></li><li><a href="#settings-log-query-threads" class="table-of-contents__link toc-highlight">log_query_threads</a></li><li><a href="#settings-log-query-views" class="table-of-contents__link toc-highlight">log_query_views</a></li><li><a href="#settings-log-formatted-queries" class="table-of-contents__link toc-highlight">log_formatted_queries</a></li><li><a href="#settings-log-comment" class="table-of-contents__link toc-highlight">log_comment</a></li><li><a href="#settings-log_processors_profiles" class="table-of-contents__link toc-highlight">log_processors_profiles</a></li><li><a href="#settings-max_insert_block_size" class="table-of-contents__link toc-highlight">max_insert_block_size</a></li><li><a href="#min-insert-block-size-rows" class="table-of-contents__link toc-highlight">min_insert_block_size_rows</a></li><li><a href="#min-insert-block-size-bytes" class="table-of-contents__link toc-highlight">min_insert_block_size_bytes</a></li><li><a href="#settings-max_replica_delay_for_distributed_queries" class="table-of-contents__link toc-highlight">max_replica_delay_for_distributed_queries</a></li><li><a href="#settings-max_threads" class="table-of-contents__link toc-highlight">max_threads</a></li><li><a href="#settings-max-insert-threads" class="table-of-contents__link toc-highlight">max_insert_threads</a></li><li><a href="#max-compress-block-size" class="table-of-contents__link toc-highlight">max_compress_block_size</a></li><li><a href="#min-compress-block-size" class="table-of-contents__link toc-highlight">min_compress_block_size</a></li><li><a href="#settings-max_query_size" class="table-of-contents__link toc-highlight">max_query_size</a></li><li><a href="#max_parser_depth" class="table-of-contents__link toc-highlight">max_parser_depth</a></li><li><a href="#interactive-delay" class="table-of-contents__link toc-highlight">interactive_delay</a></li><li><a href="#connect-timeout-receive-timeout-send-timeout" class="table-of-contents__link toc-highlight">connect_timeout, receive_timeout, send_timeout</a></li><li><a href="#cancel-http-readonly-queries-on-client-close" class="table-of-contents__link toc-highlight">cancel_http_readonly_queries_on_client_close</a></li><li><a href="#poll-interval" class="table-of-contents__link toc-highlight">poll_interval</a></li><li><a href="#max-distributed-connections" class="table-of-contents__link toc-highlight">max_distributed_connections</a></li><li><a href="#distributed-connections-pool-size" class="table-of-contents__link toc-highlight">distributed_connections_pool_size</a></li><li><a href="#max-distributed-depth" class="table-of-contents__link toc-highlight">max_distributed_depth</a></li><li><a href="#max_replicated_fetches_network_bandwidth_for_server" class="table-of-contents__link toc-highlight">max_replicated_fetches_network_bandwidth_for_server</a></li><li><a href="#max_replicated_sends_network_bandwidth_for_server" class="table-of-contents__link toc-highlight">max_replicated_sends_network_bandwidth_for_server</a></li><li><a href="#connect-timeout-with-failover-ms" class="table-of-contents__link toc-highlight">connect_timeout_with_failover_ms</a></li><li><a href="#connection-pool-max-wait-ms" class="table-of-contents__link toc-highlight">connection_pool_max_wait_ms</a></li><li><a href="#connections-with-failover-max-tries" class="table-of-contents__link toc-highlight">connections_with_failover_max_tries</a></li><li><a href="#extremes" class="table-of-contents__link toc-highlight">extremes</a></li><li><a href="#kafka-max-wait-ms" class="table-of-contents__link toc-highlight">kafka_max_wait_ms</a></li><li><a href="#kafka-disable-num-consumers-limit" class="table-of-contents__link toc-highlight">kafka_disable_num_consumers_limit</a></li><li><a href="#setting-use_uncompressed_cache" class="table-of-contents__link toc-highlight">use_uncompressed_cache</a></li><li><a href="#replace-running-query" class="table-of-contents__link toc-highlight">replace_running_query</a></li><li><a href="#replace-running-query-max-wait-ms" class="table-of-contents__link toc-highlight">replace_running_query_max_wait_ms</a></li><li><a href="#stream-flush-interval-ms" class="table-of-contents__link toc-highlight">stream_flush_interval_ms</a></li><li><a href="#stream_poll_timeout_ms" class="table-of-contents__link toc-highlight">stream_poll_timeout_ms</a></li><li><a href="#settings-load_balancing" class="table-of-contents__link toc-highlight">load_balancing</a></li><li><a href="#settings-prefer-localhost-replica" class="table-of-contents__link toc-highlight">prefer_localhost_replica</a></li><li><a href="#totals-mode" class="table-of-contents__link toc-highlight">totals_mode</a></li><li><a href="#totals-auto-threshold" class="table-of-contents__link toc-highlight">totals_auto_threshold</a></li><li><a href="#settings-max_parallel_replicas" class="table-of-contents__link toc-highlight">max_parallel_replicas</a></li><li><a href="#compile-expressions" class="table-of-contents__link toc-highlight">compile_expressions</a></li><li><a href="#min-count-to-compile-expression" class="table-of-contents__link toc-highlight">min_count_to_compile_expression</a></li><li><a href="#compile_aggregate_expressions" class="table-of-contents__link toc-highlight">compile_aggregate_expressions</a></li><li><a href="#min_count_to_compile_aggregate_expression" class="table-of-contents__link toc-highlight">min_count_to_compile_aggregate_expression</a></li><li><a href="#use-query-cache" class="table-of-contents__link toc-highlight">use_query_cache</a></li><li><a href="#enable-reads-from-query-cache" class="table-of-contents__link toc-highlight">enable_reads_from_query_cache</a></li><li><a href="#enable-writes-to-query-cache" class="table-of-contents__link toc-highlight">enable_writes_to_query_cache</a></li><li><a href="#query--store-results-of-queries-with-nondeterministic-functions" class="table-of-contents__link toc-highlight">query_cache_store_results_of_queries_with_nondeterministic_functions</a></li><li><a href="#query-cache-min-query-runs" class="table-of-contents__link toc-highlight">query_cache_min_query_runs</a></li><li><a href="#query-cache-min-query-duration" class="table-of-contents__link toc-highlight">query_cache_min_query_duration</a></li><li><a href="#query-cache-ttl" class="table-of-contents__link toc-highlight">query_cache_ttl</a></li><li><a href="#query-cache-share-between-users" class="table-of-contents__link toc-highlight">query_cache_share_between_users</a></li><li><a href="#settings-insert_quorum" class="table-of-contents__link toc-highlight">insert_quorum</a></li><li><a href="#settings-insert_quorum_timeout" class="table-of-contents__link toc-highlight">insert_quorum_timeout</a></li><li><a href="#settings-insert_quorum_parallel" class="table-of-contents__link toc-highlight">insert_quorum_parallel</a></li><li><a href="#settings-select_sequential_consistency" class="table-of-contents__link toc-highlight">select_sequential_consistency</a></li><li><a href="#settings-insert-deduplicate" class="table-of-contents__link toc-highlight">insert_deduplicate</a></li><li><a href="#asynchronous-insert-settings" class="table-of-contents__link toc-highlight">Asynchronous Insert settings</a></li><li><a href="#settings-deduplicate-blocks-in-dependent-materialized-views" class="table-of-contents__link toc-highlight">deduplicate_blocks_in_dependent_materialized_views</a></li><li><a href="#insert_deduplication_token" class="table-of-contents__link toc-highlight">insert_deduplication_token</a></li><li><a href="#insert_keeper_max_retries" class="table-of-contents__link toc-highlight">insert_keeper_max_retries</a></li><li><a href="#insert_keeper_retry_initial_backoff_ms" class="table-of-contents__link toc-highlight">insert_keeper_retry_initial_backoff_ms</a></li><li><a href="#insert_keeper_retry_max_backoff_ms" class="table-of-contents__link toc-highlight">insert_keeper_retry_max_backoff_ms</a></li><li><a href="#settings-max-network-bytes" class="table-of-contents__link toc-highlight">max_network_bytes</a></li><li><a href="#settings-max-network-bandwidth" class="table-of-contents__link toc-highlight">max_network_bandwidth</a></li><li><a href="#settings-max-network-bandwidth-for-user" class="table-of-contents__link toc-highlight">max_network_bandwidth_for_user</a></li><li><a href="#settings-max-network-bandwidth-for-all-users" class="table-of-contents__link toc-highlight">max_network_bandwidth_for_all_users</a></li><li><a href="#settings-count_distinct_implementation" class="table-of-contents__link toc-highlight">count_distinct_implementation</a></li><li><a href="#settings-skip_unavailable_shards" class="table-of-contents__link toc-highlight">skip_unavailable_shards</a></li><li><a href="#distributed-group-by-no-merge" class="table-of-contents__link toc-highlight">distributed_group_by_no_merge</a></li><li><a href="#distributed-push-down-limit" class="table-of-contents__link toc-highlight">distributed_push_down_limit</a></li><li><a href="#optimize-skip-unused-shards-limit" class="table-of-contents__link toc-highlight">optimize_skip_unused_shards_limit</a></li><li><a href="#optimize-skip-unused-shards" class="table-of-contents__link toc-highlight">optimize_skip_unused_shards</a></li><li><a href="#optimize-skip-unused-shards-rewrite-in" class="table-of-contents__link toc-highlight">optimize_skip_unused_shards_rewrite_in</a></li><li><a href="#allow-nondeterministic-optimize-skip-unused-shards" class="table-of-contents__link toc-highlight">allow_nondeterministic_optimize_skip_unused_shards</a></li><li><a href="#optimize-skip-unused-shards-nesting" class="table-of-contents__link toc-highlight">optimize_skip_unused_shards_nesting</a></li><li><a href="#force-optimize-skip-unused-shards" class="table-of-contents__link toc-highlight">force_optimize_skip_unused_shards</a></li><li><a href="#settings-force_optimize_skip_unused_shards_nesting" class="table-of-contents__link toc-highlight">force_optimize_skip_unused_shards_nesting</a></li><li><a href="#optimize-distributed-group-by-sharding-key" class="table-of-contents__link toc-highlight">optimize_distributed_group_by_sharding_key</a></li><li><a href="#setting-optimize_throw_if_noop" class="table-of-contents__link toc-highlight">optimize_throw_if_noop</a></li><li><a href="#optimize-skip-merged-partitions" class="table-of-contents__link toc-highlight">optimize_skip_merged_partitions</a></li><li><a href="#optimize-functions-to-subcolumns" class="table-of-contents__link toc-highlight">optimize_functions_to_subcolumns</a></li><li><a href="#optimize-trivial-count-query" class="table-of-contents__link toc-highlight">optimize_trivial_count_query</a></li><li><a href="#settings-distributed_replica_error_half_life" class="table-of-contents__link toc-highlight">distributed_replica_error_half_life</a></li><li><a href="#settings-distributed_replica_error_cap" class="table-of-contents__link toc-highlight">distributed_replica_error_cap</a></li><li><a href="#settings-distributed_replica_max_ignored_errors" class="table-of-contents__link toc-highlight">distributed_replica_max_ignored_errors</a></li><li><a href="#distributed_directory_monitor_sleep_time_ms" class="table-of-contents__link toc-highlight">distributed_directory_monitor_sleep_time_ms</a></li><li><a href="#distributed_directory_monitor_max_sleep_time_ms" class="table-of-contents__link toc-highlight">distributed_directory_monitor_max_sleep_time_ms</a></li><li><a href="#distributed_directory_monitor_batch_inserts" class="table-of-contents__link toc-highlight">distributed_directory_monitor_batch_inserts</a></li><li><a href="#distributed_directory_monitor_split_batch_on_failure" class="table-of-contents__link toc-highlight">distributed_directory_monitor_split_batch_on_failure</a></li><li><a href="#setting-os-thread-priority" class="table-of-contents__link toc-highlight">os_thread_priority</a></li><li><a href="#query_profiler_real_time_period_ns" class="table-of-contents__link toc-highlight">query_profiler_real_time_period_ns</a></li><li><a href="#query_profiler_cpu_time_period_ns" class="table-of-contents__link toc-highlight">query_profiler_cpu_time_period_ns</a></li><li><a href="#memory_profiler_step" class="table-of-contents__link toc-highlight">memory_profiler_step</a></li><li><a href="#memory_profiler_sample_probability" class="table-of-contents__link toc-highlight">memory_profiler_sample_probability</a></li><li><a href="#trace_profile_events" class="table-of-contents__link toc-highlight">trace_profile_events</a></li><li><a href="#settings-allow_introspection_functions" class="table-of-contents__link toc-highlight">allow_introspection_functions</a></li><li><a href="#input-format-parallel-parsing" class="table-of-contents__link toc-highlight">input_format_parallel_parsing</a></li><li><a href="#output-format-parallel-formatting" class="table-of-contents__link toc-highlight">output_format_parallel_formatting</a></li><li><a href="#min-chunk-bytes-for-parallel-parsing" class="table-of-contents__link toc-highlight">min_chunk_bytes_for_parallel_parsing</a></li><li><a href="#merge_selecting_sleep_ms" class="table-of-contents__link toc-highlight">merge_selecting_sleep_ms</a></li><li><a href="#parallel_distributed_insert_select" class="table-of-contents__link toc-highlight">parallel_distributed_insert_select</a></li><li><a href="#insert_distributed_sync" class="table-of-contents__link toc-highlight">insert_distributed_sync</a></li><li><a href="#insert_shard_id" class="table-of-contents__link toc-highlight">insert_shard_id</a></li><li><a href="#use_compact_format_in_distributed_parts_names" class="table-of-contents__link toc-highlight">use_compact_format_in_distributed_parts_names</a></li><li><a href="#background_buffer_flush_schedule_pool_size" class="table-of-contents__link toc-highlight">background_buffer_flush_schedule_pool_size</a></li><li><a href="#background_move_pool_size" class="table-of-contents__link toc-highlight">background_move_pool_size</a></li><li><a href="#background_schedule_pool_size" class="table-of-contents__link toc-highlight">background_schedule_pool_size</a></li><li><a href="#background_fetches_pool_size" class="table-of-contents__link toc-highlight">background_fetches_pool_size</a></li><li><a href="#always_fetch_merged_part" class="table-of-contents__link toc-highlight">always_fetch_merged_part</a></li><li><a href="#background_distributed_schedule_pool_size" class="table-of-contents__link toc-highlight">background_distributed_schedule_pool_size</a></li><li><a href="#background_message_broker_schedule_pool_size" class="table-of-contents__link toc-highlight">background_message_broker_schedule_pool_size</a></li><li><a href="#validate_polygons" class="table-of-contents__link toc-highlight">validate_polygons</a></li><li><a href="#transform_null_in" class="table-of-contents__link toc-highlight">transform_null_in</a></li><li><a href="#low_cardinality_max_dictionary_size" class="table-of-contents__link toc-highlight">low_cardinality_max_dictionary_size</a></li><li><a href="#low_cardinality_use_single_dictionary_for_part" class="table-of-contents__link toc-highlight">low_cardinality_use_single_dictionary_for_part</a></li><li><a href="#low_cardinality_allow_in_native_format" class="table-of-contents__link toc-highlight">low_cardinality_allow_in_native_format</a></li><li><a href="#allow_suspicious_low_cardinality_types" class="table-of-contents__link toc-highlight">allow_suspicious_low_cardinality_types</a></li><li><a href="#min-insert-block-size-rows-for-materialized-views" class="table-of-contents__link toc-highlight">min_insert_block_size_rows_for_materialized_views</a></li><li><a href="#min-insert-block-size-bytes-for-materialized-views" class="table-of-contents__link toc-highlight">min_insert_block_size_bytes_for_materialized_views</a></li><li><a href="#optimize_read_in_order" class="table-of-contents__link toc-highlight">optimize_read_in_order</a></li><li><a href="#optimize_aggregation_in_order" class="table-of-contents__link toc-highlight">optimize_aggregation_in_order</a></li><li><a href="#mutations_sync" class="table-of-contents__link toc-highlight">mutations_sync</a></li><li><a href="#ttl_only_drop_parts" class="table-of-contents__link toc-highlight">ttl_only_drop_parts</a></li><li><a href="#lock_acquire_timeout" class="table-of-contents__link toc-highlight">lock_acquire_timeout</a></li><li><a href="#cast_keep_nullable" class="table-of-contents__link toc-highlight">cast_keep_nullable</a></li><li><a href="#system_events_show_zero_values" class="table-of-contents__link toc-highlight">system_events_show_zero_values</a></li><li><a href="#allow-nullable-key" class="table-of-contents__link toc-highlight">allow_nullable_key</a></li><li><a href="#aggregate_functions_null_for_empty" class="table-of-contents__link toc-highlight">aggregate_functions_null_for_empty</a></li><li><a href="#union-default-mode" class="table-of-contents__link toc-highlight">union_default_mode</a></li><li><a href="#default_table_engine" class="table-of-contents__link toc-highlight">default_table_engine</a></li><li><a href="#data_type_default_nullable" class="table-of-contents__link toc-highlight">data_type_default_nullable</a></li><li><a href="#execute-merges-on-single-replica-time-threshold" class="table-of-contents__link toc-highlight">execute_merges_on_single_replica_time_threshold</a></li><li><a href="#max-final-threads" class="table-of-contents__link toc-highlight">max_final_threads</a></li><li><a href="#opentelemetry-start-trace-probability" class="table-of-contents__link toc-highlight">opentelemetry_start_trace_probability</a></li><li><a href="#optimize-on-insert" class="table-of-contents__link toc-highlight">optimize_on_insert</a></li><li><a href="#engine-file-empty_if-not-exists" class="table-of-contents__link toc-highlight">engine_file_empty_if_not_exists</a></li><li><a href="#engine-file-truncate-on-insert" class="table-of-contents__link toc-highlight">engine_file_truncate_on_insert</a></li><li><a href="#s3_truncate_on_insert" class="table-of-contents__link toc-highlight">s3_truncate_on_insert</a></li><li><a href="#hdfs_truncate_on_insert" class="table-of-contents__link toc-highlight">hdfs_truncate_on_insert</a></li><li><a href="#engine_file_allow_create_multiple_files" class="table-of-contents__link toc-highlight">engine_file_allow_create_multiple_files</a></li><li><a href="#s3_create_new_file_on_insert" class="table-of-contents__link toc-highlight">s3_create_new_file_on_insert</a></li><li><a href="#hdfs_create_new_file_on_insert" class="table-of-contents__link toc-highlight">hdfs_create_new_file_on_insert</a></li><li><a href="#allow-experimental-geo-types" class="table-of-contents__link toc-highlight">allow_experimental_geo_types</a></li><li><a href="#database_atomic_wait_for_drop_and_detach_synchronously" class="table-of-contents__link toc-highlight">database_atomic_wait_for_drop_and_detach_synchronously</a></li><li><a href="#show_table_uuid_in_table_create_query_if_not_nil" class="table-of-contents__link toc-highlight">show_table_uuid_in_table_create_query_if_not_nil</a></li><li><a href="#allow-experimental-live-view" class="table-of-contents__link toc-highlight">allow_experimental_live_view</a></li><li><a href="#live-view-heartbeat-interval" class="table-of-contents__link toc-highlight">live_view_heartbeat_interval</a></li><li><a href="#max-live-view-insert-blocks-before-refresh" class="table-of-contents__link toc-highlight">max_live_view_insert_blocks_before_refresh</a></li><li><a href="#periodic-live-view-refresh" class="table-of-contents__link toc-highlight">periodic_live_view_refresh</a></li><li><a href="#http_connection_timeout" class="table-of-contents__link toc-highlight">http_connection_timeout</a></li><li><a href="#http_send_timeout" class="table-of-contents__link toc-highlight">http_send_timeout</a></li><li><a href="#http_receive_timeout" class="table-of-contents__link toc-highlight">http_receive_timeout</a></li><li><a href="#check_query_single_value_result" class="table-of-contents__link toc-highlight">check_query_single_value_result</a></li><li><a href="#prefer-column-name-to-alias" class="table-of-contents__link toc-highlight">prefer_column_name_to_alias</a></li><li><a href="#limit" class="table-of-contents__link toc-highlight">limit</a></li><li><a href="#offset" class="table-of-contents__link toc-highlight">offset</a></li><li><a href="#optimize_syntax_fuse_functions" class="table-of-contents__link toc-highlight">optimize_syntax_fuse_functions</a></li><li><a href="#optimize_rewrite_aggregate_function_with_if" class="table-of-contents__link toc-highlight">optimize_rewrite_aggregate_function_with_if</a></li><li><a href="#allow_experimental_database_replicated" class="table-of-contents__link toc-highlight">allow_experimental_database_replicated</a></li><li><a href="#database_replicated_initial_query_timeout_sec" class="table-of-contents__link toc-highlight">database_replicated_initial_query_timeout_sec</a></li><li><a href="#distributed_ddl_task_timeout" class="table-of-contents__link toc-highlight">distributed_ddl_task_timeout</a></li><li><a href="#distributed_ddl_output_mode" class="table-of-contents__link toc-highlight">distributed_ddl_output_mode</a></li><li><a href="#flatten-nested" class="table-of-contents__link toc-highlight">flatten_nested</a></li><li><a href="#external-table-functions-use-nulls" class="table-of-contents__link toc-highlight">external_table_functions_use_nulls</a></li><li><a href="#allow-experimental-projection-optimization" class="table-of-contents__link toc-highlight">allow_experimental_projection_optimization</a></li><li><a href="#force-optimize-projection" class="table-of-contents__link toc-highlight">force_optimize_projection</a></li><li><a href="#alter-sync" class="table-of-contents__link toc-highlight">alter_sync</a></li><li><a href="#replication-wait-for-inactive-replica-timeout" class="table-of-contents__link toc-highlight">replication_wait_for_inactive_replica_timeout</a></li><li><a href="#regexp-max-matches-per-row" class="table-of-contents__link toc-highlight">regexp_max_matches_per_row</a></li><li><a href="#http-max-single-read-retries" class="table-of-contents__link toc-highlight">http_max_single_read_retries</a></li><li><a href="#log-queries-probability" class="table-of-contents__link toc-highlight">log_queries_probability</a></li><li><a href="#short-circuit-function-evaluation" class="table-of-contents__link toc-highlight">short_circuit_function_evaluation</a></li><li><a href="#max-hyperscan-regexp-length" class="table-of-contents__link toc-highlight">max_hyperscan_regexp_length</a></li><li><a href="#max-hyperscan-regexp-total-length" class="table-of-contents__link toc-highlight">max_hyperscan_regexp_total_length</a></li><li><a href="#enable-positional-arguments" class="table-of-contents__link toc-highlight">enable_positional_arguments</a></li><li><a href="#enable-extended-results-for-datetime-functions" class="table-of-contents__link toc-highlight">enable_extended_results_for_datetime_functions</a></li><li><a href="#optimize_move_to_prewhere" class="table-of-contents__link toc-highlight">optimize_move_to_prewhere</a></li><li><a href="#optimize_move_to_prewhere_if_final" class="table-of-contents__link toc-highlight">optimize_move_to_prewhere_if_final</a></li><li><a href="#optimize_using_constraints" class="table-of-contents__link toc-highlight">optimize_using_constraints</a></li><li><a href="#optimize_append_index" class="table-of-contents__link toc-highlight">optimize_append_index</a></li><li><a href="#optimize_substitute_columns" class="table-of-contents__link toc-highlight">optimize_substitute_columns</a></li><li><a href="#describe_include_subcolumns" class="table-of-contents__link toc-highlight">describe_include_subcolumns</a></li><li><a href="#alter-partition-verbose-result" class="table-of-contents__link toc-highlight">alter_partition_verbose_result</a></li><li><a href="#min-bytes-to-use-mmap-io" class="table-of-contents__link toc-highlight">min_bytes_to_use_mmap_io</a></li><li><a href="#shutdown_wait_unfinished_queries" class="table-of-contents__link toc-highlight">shutdown_wait_unfinished_queries</a></li><li><a href="#shutdown_wait_unfinished" class="table-of-contents__link toc-highlight">shutdown_wait_unfinished</a></li><li><a href="#memory_overcommit_ratio_denominator" class="table-of-contents__link toc-highlight">memory_overcommit_ratio_denominator</a></li><li><a href="#memory_usage_overcommit_max_wait_microseconds" class="table-of-contents__link toc-highlight">memory_usage_overcommit_max_wait_microseconds</a></li><li><a href="#memory_overcommit_ratio_denominator_for_user" class="table-of-contents__link toc-highlight">memory_overcommit_ratio_denominator_for_user</a></li><li><a href="#schema-inference-settings" class="table-of-contents__link toc-highlight">Schema Inference settings</a></li><li><a href="#compatibility" class="table-of-contents__link toc-highlight">compatibility</a></li><li><a href="#allow_settings_after_format_in_insert" class="table-of-contents__link toc-highlight">allow_settings_after_format_in_insert</a></li><li><a href="#final" class="table-of-contents__link toc-highlight">final</a></li><li><a href="#asterisk_include_materialized_columns" class="table-of-contents__link toc-highlight">asterisk_include_materialized_columns</a></li><li><a href="#asterisk_include_alias_columns" class="table-of-contents__link toc-highlight">asterisk_include_alias_columns</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.meetup.com/pro/clickhouse/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meetup<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse Documentation" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse Documentation" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright &copy; 2016&ndash;2023 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA 4.0 license. ClickHouse&reg; is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/AlgoliaDocsSelfCrawl/assets/js/runtime~main.be802059.js"></script>
<script src="/AlgoliaDocsSelfCrawl/assets/js/main.b00bfaaf.js"></script>
</body>
</html>