<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-en/integrations/language-clients/python/driver-api">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">ClickHouse Connect Driver API | ClickHouse Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/img/logo.png"><meta data-rh="true" property="og:url" content="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/driver-api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ClickHouse Connect Driver API | ClickHouse Docs"><meta data-rh="true" name="description" content="The ClickHouse Connect Core Driver API"><meta data-rh="true" property="og:description" content="The ClickHouse Connect Core Driver API"><meta data-rh="true" name="keywords" content="clickhouse,python,client,connect,integrate"><link data-rh="true" rel="icon" href="/AlgoliaDocsSelfCrawl/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/driver-api"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/driver-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/driver-api" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://62VCH2MD74-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KF1LLRTQ5Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KF1LLRTQ5Q",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ClickHouse Docs" href="/AlgoliaDocsSelfCrawl/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/docs/js/analytics.js"></script><link rel="stylesheet" href="/AlgoliaDocsSelfCrawl/assets/css/styles.1fe1f09b.css">
<link rel="preload" href="/AlgoliaDocsSelfCrawl/assets/js/runtime~main.a6f8e9bb.js" as="script">
<link rel="preload" href="/AlgoliaDocsSelfCrawl/assets/js/main.fe8c4ec3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse" class="themedImage_ToTc themedImage--light_HNdA"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">ClickHouse</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Product</a><ul class="dropdown__menu"><li><a href="https://clickhouse.com/cloud" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Cloud</a></li><li><a href="https://clickhouse.com/clickhouse" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Open Source</a></li></ul></div><a href="https://clickhouse.com/customer-stories" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link ch-menu">Use Cases</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Company</a><ul class="dropdown__menu"><li><a href="https://clickhouse.com/blog" target="_blank" rel="noopener noreferrer" class="dropdown__link">Blog</a></li><li><a href="https://clickhouse.com/company/our-story" target="_blank" rel="noopener noreferrer" class="dropdown__link">Our story</a></li><li><a href="https://clickhouse.com/company/careers" target="_blank" rel="noopener noreferrer" class="dropdown__link">Careers</a></li><li><a href="https://clickhouse.com/company/contact" target="_blank" rel="noopener noreferrer" class="dropdown__link">Contact us</a></li><li><a href="https://clickhouse.com/company/news-events" target="_blank" rel="noopener noreferrer" class="dropdown__link">News and events</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Learn</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/AlgoliaDocsSelfCrawl/en/intro">Docs</a></li><li><a href="https://clickhouse.com/learn" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Academy</a></li></ul></div><a href="https://clickhouse.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link ch-menu">Pricing</a></div><div class="navbar__items navbar__items--right"><a href="https://clickhouse.cloud/signUp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-signup-button">Try for Free<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Language</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/AlgoliaDocsSelfCrawl/en/intro">English</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AlgoliaDocsSelfCrawl/en/intro">What is ClickHouse?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/AlgoliaDocsSelfCrawl/en/about-us/cloud">About Us</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/cloud">Cloud Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/support">Cloud Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/history">ClickHouse History</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/distinctive-features">Distinctive Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/adopters">Adopters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/about-us/performance">Performance</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/AlgoliaDocsSelfCrawl/en/quick-start">Get Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Get Started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/quick-start">Cloud Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/get-started/sql-console/opening">SQL console</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/getting-started/example-datasets/">Tutorials and Datasets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials and Datasets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/intro">Integrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/install">Install</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/cloud/overview">Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/AlgoliaDocsSelfCrawl/en/integrations/connect-a-client">Connect a Client</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connect a Client&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/sql-clients/clickhouse-client-local">Download clickhouse client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/sql-clients/cli">clickhouse-client</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/sql-clients">SQL Clients</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL Clients&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients">Language Clients</a><button aria-label="Toggle the collapsible sidebar category &#x27;Language Clients&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/go">Go</a><button aria-label="Toggle the collapsible sidebar category &#x27;Go&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/python">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/driver-api">Driver API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/queries">Advanced Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/inserts">Advanced Inserts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/options">Additional Options</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/java">Java</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/nodejs">Nodejs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/AlgoliaDocsSelfCrawl/en/interfaces">Interfaces</a><button aria-label="Toggle the collapsible sidebar category &#x27;Interfaces&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/integrations/data-ingestion">Ingest</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ingest&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/integrations/data-visualization">Visualize</a><button aria-label="Toggle the collapsible sidebar category &#x27;Visualize&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/integrations/migration/">Migrate</a><button aria-label="Toggle the collapsible sidebar category &#x27;Migrate&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/optimize">Optimize</a><button aria-label="Toggle the collapsible sidebar category &#x27;Optimize&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/manage">Manage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/analyze">SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/development">Contribute</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contribute&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/AlgoliaDocsSelfCrawl/en/whats-new">What&#x27;s New</a><button aria-label="Toggle the collapsible sidebar category &#x27;What&#x27;s New&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/AlgoliaDocsSelfCrawl/en/integrations/connect-a-client"><span itemprop="name">Connect a Client</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients"><span itemprop="name">Language Clients</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/AlgoliaDocsSelfCrawl/en/integrations/python"><span itemprop="name">Python</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Driver API</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ClickHouse Connect Driver API</h1><p><strong><em>Note:</em></strong> Passing keyword arguments is recommended for most api methods given the number of
possible arguments, many of which are optional.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-initialization">Client Initialization<a href="#client-initialization" class="hash-link" aria-label="Direct link to Client Initialization" title="Direct link to Client Initialization">​</a></h2><p>The <code>clickhouse_connect.driver.client</code> class provides the primary interface between a Python application and the
ClickHouse database server. Use the <code>clickhouse_connect.get_client</code> function to obtain a Client instance, which accepts
the following arguments:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connection-arguments">Connection Arguments<a href="#connection-arguments" class="hash-link" aria-label="Direct link to Connection Arguments" title="Direct link to Connection Arguments">​</a></h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>interface</td><td>str</td><td>http</td><td>Must be http or https.</td></tr><tr><td>host</td><td>str</td><td><em>None</em></td><td>The hostname or IP address of the ClickHouse server.  If not set, <code>localhost</code> will be used.</td></tr><tr><td>port</td><td>int</td><td>8123 or 8443</td><td>The ClickHouse HTTP or HTTPS port. If not set will default to 8123, or to 8443 if <em>secure</em>=<em>True</em> or <em>interface</em>=<em>https</em>.</td></tr><tr><td>username</td><td>str</td><td><em>None</em></td><td>The ClickHouse user name. If not set, the <code>default</code> ClickHouse user will be used.</td></tr><tr><td>password</td><td>str</td><td><em>&lt;<!-- -->empty string<!-- -->&gt;</em></td><td>The password for <em>username</em>.</td></tr><tr><td>database</td><td>str</td><td><em>None</em></td><td>The default database for the connection. If not set, ClickHouse Connect will use the default database for <em>username</em>.</td></tr><tr><td>secure</td><td>bool</td><td>False</td><td>Use https/TLS.  This overrides inferred values from the interface or port arguments.</td></tr><tr><td>dsn</td><td>str</td><td><em>None</em></td><td>A string in standard DSN (Data Source Name) format.  Other connection values (such as host or user) will be extracted from this string if not set otherwise.</td></tr><tr><td>compress</td><td>bool or str</td><td>True</td><td>Enable compression for ClickHouse HTTP inserts and query results. See <a href="/AlgoliaDocsSelfCrawl/docs/en/integrations/language-clients/python/options#compression">Additional Options (Compression)</a></td></tr><tr><td>query_limit</td><td>int</td><td>0 (unlimited)</td><td>Maximum number of rows to return for any <code>query</code> response. Set this to zero to return unlimited rows.  Note that large query limits may result in out of memory exceptions if results are not streamed, as all results are loaded into memory at once.</td></tr><tr><td>query_retries</td><td>int</td><td>2</td><td>Maximum number of retries for a <code>query</code> request. Only &quot;retryable&quot; HTTP responses will be retried. <code>command</code> or <code>insert</code> requests are not automatically retried by the driver to prevent unintended duplicate requests.</td></tr><tr><td>connect_timeout</td><td>int</td><td>10</td><td>HTTP connection timeout in seconds.</td></tr><tr><td>send_receive_timeout</td><td>int</td><td>300</td><td>Send/receive timeout for the HTTP connection in seconds.</td></tr><tr><td>client_name</td><td>str</td><td><em>None</em></td><td>client_name prepended to the HTTP User Agent header. Set this to track client queries in the ClickHouse system.query_log.</td></tr><tr><td>send_progress</td><td>bool</td><td>True</td><td>Deprecated as of v0.5.9, does nothing.</td></tr><tr><td>pool_mgr</td><td>obj</td><td><em>&lt;<!-- -->default PoolManager<!-- -->&gt;</em></td><td>The <code>urllib3</code> library PoolManager to use.   For advanced use cases requiring multiple connection pools to different hosts.</td></tr><tr><td>http_proxy</td><td>str</td><td><em>None</em></td><td>HTTP proxy address (equivalent to setting the HTTP_PROXY environment variable).</td></tr><tr><td>https_proxy</td><td>str</td><td><em>None</em></td><td>HTTPS proxy address (equivalent to setting the HTTPS_PROXY environment variable).</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="httpstls-arguments">HTTPS/TLS Arguments<a href="#httpstls-arguments" class="hash-link" aria-label="Direct link to HTTPS/TLS Arguments" title="Direct link to HTTPS/TLS Arguments">​</a></h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>verify</td><td>bool</td><td>True</td><td>Validate the ClickHouse server TLS/SSL certificate (hostname, expiration, etc.) if using HTTPS/TLS.</td></tr><tr><td>ca_cert</td><td>str</td><td><em>None</em></td><td>If <em>verify</em>=<em>True</em>, the file path to Certificate Authority root to validate ClickHouse server certificate, in .pem format. Ignored if verify is False. This is not necessary if the ClickHouse server certificate is a globally trusted root as verified by the operating system.</td></tr><tr><td>client_cert</td><td>str</td><td><em>None</em></td><td>File path to a TLS Client certificate in .pem format (for mutual TLS authentication). The file should contain a full certificate chain, including any intermediate certificates.</td></tr><tr><td>client_cert_key</td><td>str</td><td><em>None</em></td><td>File path to the private key for the Client Certificate. Required if the private key is not included the Client Certificate key file.</td></tr><tr><td>server_host_name</td><td>str</td><td><em>None</em></td><td>The ClickHouse server hostname as identified by the CN or SNI of its TLS certificate.  Set this to avoid SSL errors when connecting through a proxy or tunnel with a different hostname</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="settings-argument">Settings Argument<a href="#settings-argument" class="hash-link" aria-label="Direct link to Settings Argument" title="Direct link to Settings Argument">​</a></h3><p>Finally, the <code>settings</code> argument to <code>get_client</code> is used to pass additional ClickHouse settings to the server for each
client request. Note that
in most cases, users with <em>readonly</em>=<em>1</em> access cannot alter settings sent with a query, so ClickHouse Connect will drop
such settings in the final request and log a warning.
The following settings apply only to HTTP queries/sessions used by ClickHouse Connect, and are not documented as general
ClickHouse settings.</p><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>buffer_size</td><td>Buffer size (in bytes) used by ClickHouse Server before writing to the HTTP channel.</td></tr><tr><td>session_id</td><td>A unique session id to associate related queries on the server. Required for temporary tables.</td></tr><tr><td>compress</td><td>Whether the ClickHouse server should compress the POST response data. This setting should only be used for &quot;raw&quot; queries.</td></tr><tr><td>decompress</td><td>Whether the data sent to ClickHouse server must be decompressed. This setting is should only be used for &quot;raw&quot; inserts.</td></tr><tr><td>quota_key</td><td>The quota key associated with this requests. See the ClickHouse server documentation on quotas.</td></tr><tr><td>session_check</td><td>Used to check the session status.</td></tr><tr><td>session_timeout</td><td>Number of seconds of inactivity before the identified by the session id will timeout and no longer be considered valid. Defaults to 60 seconds.</td></tr><tr><td>wait_end_of_query</td><td>Buffers the entire response on the ClickHouse server. This setting is necessary to return summary information. It is set automatically when <em>send_progress</em>=<em>True</em>.</td></tr></tbody></table><p>For other ClickHouse settings that can be sent with each query,
see <a href="https://clickhouse.com/docs/en/operations/settings/settings" target="_blank" rel="noopener noreferrer">the ClickHouse documentation</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-creation-examples">Client Creation Examples<a href="#client-creation-examples" class="hash-link" aria-label="Direct link to Client Creation Examples" title="Direct link to Client Creation Examples">​</a></h3><ul><li>Without any parameters, a ClickHouse Connect client will connect to the default HTTP port on <code>localhost</code> with the
default user and no password:</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> clickhouse_connect</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clickhouse_connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">get_client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">server_version</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;22.10.1.98&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Connecting to a secure (https) external ClickHouse server</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> clickhouse_connect</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clickhouse_connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">get_client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">host</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;play.clickhouse.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> secure</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> port</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">443</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> user</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;play&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> password</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;clickhouse&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;SELECT timezone()&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Etc/UTC&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Connecting with a session id and other custom connection parameters and ClickHouse settings.</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> clickhouse_connect</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clickhouse_connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">get_client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">host</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;play.clickhouse.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                       user</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;play&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                       password</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;clickhouse&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                       port</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">443</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                       session_id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;example_session_1&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                       connect_timeout</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                       database</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;github&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                       settings</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;distributed_ddl_task_timeout&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token number" style="color:rgb(9, 134, 88)">300</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">database                                       </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;github&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-method-arguments">Common Method Arguments<a href="#common-method-arguments" class="hash-link" aria-label="Direct link to Common Method Arguments" title="Direct link to Common Method Arguments">​</a></h2><p>Several client methods use one or both of the common <code>parameters</code> and <code>settings</code> arguments. These keyword
arguments are described below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-argument">Parameters Argument<a href="#parameters-argument" class="hash-link" aria-label="Direct link to Parameters Argument" title="Direct link to Parameters Argument">​</a></h3><p>ClickHouse Connect Client <code>query*</code> and <code>command</code> methods accept an optional <code>parameters</code> keyword argument used for
binding Python expressions to a ClickHouse value expression. Two sorts of binding are available.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="server-side-binding">Server Side Binding<a href="#server-side-binding" class="hash-link" aria-label="Direct link to Server Side Binding" title="Direct link to Server Side Binding">​</a></h4><p>ClickHouse supports <a href="https://clickhouse.com/docs/en/interfaces/http/#cli-queries-with-parameters" target="_blank" rel="noopener noreferrer">server side binding</a>
for most query values,
where the bound value is sent separate from the query as an HTTP query parameter. ClickHouse Connect will add the
appropriate
query parameters if it detects a binding expression of the form {<!-- -->&lt;<!-- -->name<!-- -->&gt;<!-- -->:<!-- -->&lt;<!-- -->datatype<!-- -->&gt;<!-- -->}. For server side
binding,
the <code>parameters</code> argument should be a Python dictionary.</p><ul><li>Server Side Binding with Python Dictionary, DateTime value and string value</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">my_date </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2022</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">01</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">parameters </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;table&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;my_table&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> v1</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;: my_date, &#x27;</span><span class="token plain">v2</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;: &quot;a string with a single quote&#x27;</span><span class="token plain">&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;SELECT * FROM {table:Identifier} WHERE date &gt;= {v1:DateTime} AND string ILIKE {v2:String}&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parameters</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">parameters</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Generates the following query on the server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SELECT * FROM my_table WHERE date &gt;= &#x27;2022-10-01 15:20:05&#x27; AND string ILIKE &#x27;a string with a single quote\&#x27;&#x27;  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="client-side-binding">Client Side Binding<a href="#client-side-binding" class="hash-link" aria-label="Direct link to Client Side Binding" title="Direct link to Client Side Binding">​</a></h4><p>ClickHouse Connect also supports client side parameter binding which can allow more flexibility in generating templated
SQL queries. For client side binding, the <code>parameters</code> argument should be a dictionary or a sequence. Client side
binding
uses the Python <a href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting" target="_blank" rel="noopener noreferrer">&quot;printf&quot; style</a> string
formatting
for parameter substitution.</p><p>Note that unlike server side binding, client side binding doesn&#x27;t work for database identifiers such as database, table,
or column names, since Python style formatting can&#x27;t distinguish between the different types of strings, and they
need to be formatted differently (backticks or double quotes for database identifiers, single quotes for data values).</p><ul><li>Example with Python Dictionary, DateTime value and string escaping</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">my_date </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2022</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">01</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">parameters </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;v1&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> my_date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;v2&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;a string with a single quote&#x27;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;SELECT * FROM some_table WHERE date &gt;= %(v1)s AND string ILIKE %(v2)s&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parameters</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">parameters</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Generates the following query:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SELECT * FROM some_table WHERE date &gt;= &#x27;2022-10-01 15:20:05&#x27; AND string ILIKE &#x27;a string with a single quote\&#x27;&#x27;  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Example with Python Sequence (Tuple), Float64, and IPv4Address</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> ipaddress</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">parameters </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">35200.44</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> ipaddress</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">IPv4Address</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0x443d04fe</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;SELECT * FROM some_table WHERE metric &gt;= %s AND ip_address = %s&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parameters</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">parameters</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Generates the following query:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SELECT * FROM some_table WHERE metric &gt;= 35200.44 AND ip_address = &#x27;68.61.4.254&#x27;&#x27;  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="settings-argument-1">Settings Argument<a href="#settings-argument-1" class="hash-link" aria-label="Direct link to Settings Argument" title="Direct link to Settings Argument">​</a></h3><p>All the core SQL Client ClickHouse database server accept an optional <code>settings</code> keyword argument used for passing
ClickHouse server <a href="https://clickhouse.com/docs/en/operations/settings/settings" target="_blank" rel="noopener noreferrer">user settings</a> for the included SQL
statement. The <code>settings</code> argument should be a dictionary. Each item should be a ClickHouse setting name and its
associated value. Note that values will be converted to strings when sent to the server as query parameters.</p><p>As with client level settings, ClickHouse Connect will drop any settings that the server marks as <em>readonly</em>=<em>1</em>, with
an associated log message. Settings that apply only to queries via the ClickHouse HTTP interface are always valid. Those
settings are described under the <code>get_client</code> <a href="#settings-argument">API</a>.</p><p>Example of using ClickHouse settings:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">settings </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;merge_tree_min_rows_for_concurrent_read&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">65535</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;session_id&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;session_1234&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;use_skip_indexes&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SELECT event_type, sum(timeout) FROM event_errors WHERE event_time &gt; &#x27;2022-08-01&#x27;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> settings</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">            </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-command-method">Client <em>command</em> Method<a href="#client-command-method" class="hash-link" aria-label="Direct link to client-command-method" title="Direct link to client-command-method">​</a></h2><p>Use the <code>Client.command</code> method to send SQL queries to the ClickHouse Server that do not normally return data or return
a simple single value rather than a full dataset. This method takes the following parameters:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>cmd</td><td>str</td><td><em>Required</em></td><td>A ClickHouse SQL statement that returns a single value or a single row of values.</td></tr><tr><td>parameters</td><td>dict or iterable</td><td><em>None</em></td><td>See <a href="#parameters-argument">parameters description</a>.</td></tr><tr><td>data</td><td>str or bytes</td><td><em>None</em></td><td>Optional data to include with the command as the POST body.</td></tr><tr><td>settings</td><td>dict</td><td><em>None</em></td><td>See <a href="#settings-argument">settings description</a>.</td></tr><tr><td>use_database</td><td>bool</td><td>True</td><td>Use the client database (specified when creating the client). False means the command will use the default ClickHouse Server database for the connected user.</td></tr></tbody></table><ul><li><em>command</em> can be used for DDL statements</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;CREATE TABLE test_command (col_1 String, col_2 DateTime) Engine MergeTree ORDER BY tuple()&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;SHOW CREATE TABLE test_command&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;CREATE TABLE default.test_command\\n(\\n    `col_1` String,\\n    `col_2` DateTime\\n)\\nENGINE = MergeTree\\nORDER BY tuple()\\nSETTINGS index_granularity = 8192&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><em>command</em> can also be used for simple queries that return only a single row</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;SELECT count() FROM system.tables&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">result</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">110</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-query-method">Client <em>query</em> Method<a href="#client-query-method" class="hash-link" aria-label="Direct link to client-query-method" title="Direct link to client-query-method">​</a></h2><p>The <code>Client.query</code> method is the primary way to retrieve a single &quot;batch&quot; dataset from the ClickHouse Server. It
utilizes the Native
ClickHouse format over HTTP to transmit large datasets (up to approximately one million rows) efficiently. This method
takes the following parameters.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>query</td><td>str</td><td><em>Required</em></td><td>The ClickHouse SQL SELECT or DESCRIBE query.</td></tr><tr><td>parameters</td><td>dict or iterable</td><td><em>None</em></td><td>See <a href="#parameters-argument">parameters description</a>.</td></tr><tr><td>settings</td><td>dict</td><td><em>None</em></td><td>See <a href="#settings-argument">settings description</a>.</td></tr><tr><td>query_formats</td><td>dict</td><td><em>None</em></td><td>Datatype formatting specification for result values. See Advanced Usage (Read Formats)</td></tr><tr><td>column_formats</td><td>dict</td><td><em>None</em></td><td>Datatype formatting per column. See Advanced Usage (Read Formats)</td></tr><tr><td>encoding</td><td>str</td><td><em>None</em></td><td>Encoding used to encode ClickHouse String columns into Python strings.  Python defaults to <code>UTF-8</code> if not set.</td></tr><tr><td>use_none</td><td>bool</td><td>True</td><td>Use Python <em>None</em> type for ClickHouse nulls. If False, use a datatype default (such as 0) for ClickHouse nulls. Note - defaults to False for numpy/Pandas for performance reasons.</td></tr><tr><td>column_oriented</td><td>bool</td><td>False</td><td>Return the results as a sequence of columns rather than a sequence of rows.  Helpful for transforming Python data to other column oriented data formats.</td></tr><tr><td>query_tz</td><td>str</td><td><em>None</em></td><td>A timezone name from the zoneinfo database.  This timezone will be applied to all datetime or Pandas Timestamp objects returned by the query.</td></tr><tr><td>column_tzs</td><td>dict</td><td><em>None</em></td><td>A dictionary of column name to timezone name.  Like <code>query_tz</code>, but allows specifying different timezones for different columns.</td></tr><tr><td>use_na_values</td><td>bool</td><td>True</td><td>Use Pandas missing types such as pandas.NA and pandas.NaT for ClickHouse NULL values.  Only relevant to the <code>query_df</code> and <code>query_df_stream</code> methods.</td></tr><tr><td>context</td><td>QueryContext</td><td><em>None</em></td><td>A reusable QueryContext object can be used to encapsulate the above method arguments. See <a href="/AlgoliaDocsSelfCrawl/docs/en/integrations/language-clients/python/queries#querycontexts">Advanced Queries (QueryContexts)</a></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-queryresult-object">The QueryResult Object<a href="#the-queryresult-object" class="hash-link" aria-label="Direct link to The QueryResult Object" title="Direct link to The QueryResult Object">​</a></h3><p>The base <code>query</code> method returns a QueryResult object with the following public properties:</p><ul><li><code>result_rows</code> -- A matrix of the data returned in the form of a Sequence of rows, with each row element being a
sequence of column values.</li><li><code>result_columns</code> -- A matrix of the data returned in the form of a Sequence of columns, with each column element being
a
sequence of the row values for that column</li><li><code>column_names</code> -- A tuple of strings representing the column names in the <code>result_set</code></li><li><code>column_types</code> -- A tuple of ClickHouseType instances representing the ClickHouse data type for each column in
the <code>result_columns</code></li><li><code>query_id</code> -- The ClickHouse query_id (useful for examining the query in the <code>system.query_log</code> table)</li><li><code>summary</code> -- Any data returned by the <code>X-ClickHouse-Summary</code> HTTP response header</li><li><code>first_item</code> -- A convenience property for retrieving the first row of the response as a dictionary (keys are column
names)</li><li><code>first_row</code> -- A convenience property to return the first row of the result</li><li><code>column_block_stream</code> -- A generator of query results in column oriented format. This property should not be
referenced directly (see below).</li><li><code>row_block_stream</code> -- A generator of query results in row oriented format. This property should not be referenced
directly (see below).</li><li><code>rows_stream</code> -- A generator of query results that yields a single row per invocation. This property should not be
referenced directly (see below).</li></ul><p>The <code>*_stream</code> properties return a Python Context that can be used as an iterator for the returned data. They should
only be
accessed indirectly using the Client <code>*_stream</code> methods. In a future release, the QueryResult object returned by the
main Client <code>query</code>
method will have consumed the stream and contain the entire populated <code>result_set</code> to provide a clean separation between
completed, &quot;batch&quot; results retrieved via the Client <code>query</code> method and streaming results retrieved via the
Client <code>query_*_stream</code> methods.</p><p>The complete details of streaming query results (using StreamContext objects) are outlined in
<a href="/AlgoliaDocsSelfCrawl/docs/en/integrations/language-clients/python/queries#streaming-queries">Advanced Queries (Streaming Queries)</a>.</p><p>Note -- streaming behavior from versions v0.5.0-v0.5.3 using the QueryResult object as a Python context is deprecated as
version v0.5.4
and will be removed in a future release. The QueryResult methods <code>stream_column_blocks</code>, <code>stream_row_blocks</code>,
and <code>stream_rows</code>
should not be used and are only included for backward compatibility.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="specialized-client-query-methods">Specialized Client Query Methods<a href="#specialized-client-query-methods" class="hash-link" aria-label="Direct link to Specialized Client Query Methods" title="Direct link to Specialized Client Query Methods">​</a></h2><p>There are three specialized versions of the main <code>query</code> method:</p><ul><li><code>query_np</code> -- This version returns a Numpy Array instead a ClickHouse Connect QueryResult.</li><li><code>query_df</code> -- This version returns a Pandas Dataframe instead of a ClickHouse Connect QueryResult.</li><li><code>query_arrow</code> -- This version returns a PyArrow Table. It utilizes the ClickHouse <code>Arrow</code> format directly, so
it only accepts three arguments in common with the main <code>query method</code>:  <code>query</code>, <code>parameters</code>, and <code>settings</code>. In
addition there is additional argument <code>use_strings</code> which determines whether the Arrow Table will render ClickHouse
String types as strings (if True) or bytes (if False).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-streaming-query-methods">Client Streaming Query Methods<a href="#client-streaming-query-methods" class="hash-link" aria-label="Direct link to Client Streaming Query Methods" title="Direct link to Client Streaming Query Methods">​</a></h2><p>The ClickHouse Connect Client provides multiple methods for retrieving data as a stream (implemented as a Python
generator):</p><ul><li><code>query_column_block_stream</code> -- Returns query data in blocks as a sequence of columns using native Python object</li><li><code>query_column_rows_stream</code> -- Returns query data as a block of rows using native Python object</li><li><code>query_rows_stream</code> -- Returns query data as a sequence of rows using native Python object</li><li><code>query_np_stream</code> -- Returns each ClickHouse block of query data as a Numpy array</li><li><code>query_df_stream</code> -- Returns each ClickHouse Block of query data as a Pandas Dataframe</li></ul><p>Each of these methods returns a <code>ContextStream</code> object that must be opened via a <code>with</code> statement to start consuming the
stream.
See <a href="/AlgoliaDocsSelfCrawl/docs/en/integrations/language-clients/python/queries#streaming-queries">Advanced Queries (Streaming Queries)</a>
for details and examples.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-insert-method">Client <em>insert</em> Method<a href="#client-insert-method" class="hash-link" aria-label="Direct link to client-insert-method" title="Direct link to client-insert-method">​</a></h2><p>For the common use case of inserting multiple records into ClickHouse, there is the <code>Client.insert</code> method. It takes the
following parameters:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>table</td><td>str</td><td><em>Required</em></td><td>The ClickHouse table to insert into. The full table name (including database) is permitted.</td></tr><tr><td>data</td><td>Sequence of Sequences</td><td><em>Required</em></td><td>The matrix of data to insert, either a Sequence of rows, each of which is a sequence of column values, or a Sequence of columns, each of which is a sequence of row values.</td></tr><tr><td>column_names</td><td>Sequence of str, or str</td><td>&#x27;*&#x27;</td><td>A list of column_names for the data matrix. If &#x27;*&#x27; is used instead, ClickHouse Connect will execute a &quot;pre-query&quot; to retrieve all of the column names for the table.</td></tr><tr><td>database</td><td>str</td><td>&#x27;&#x27;</td><td>The target database of the insert. If not specified, the database for the client will be assumed.</td></tr><tr><td>column_types</td><td>Sequence of ClickHouseType</td><td><em>None</em></td><td>A list of ClickHouseType instances. If neither column_types or column_type_names is specified, ClickHouse Connect will execute a &quot;pre-query&quot; to retrieve all the column types for the table.</td></tr><tr><td>column_type_names</td><td>Sequence of ClickHouse type names</td><td><em>None</em></td><td>A list of ClickHouse datatype names. If neither column_types or column_type_names is specified, ClickHouse Connect will execute a &quot;pre-query&quot; to retrieve all the column types for the table.</td></tr><tr><td>column_oriented</td><td>bool</td><td>False</td><td>If True, the <code>data</code> argument is assume to be a Sequence of columns (and no &quot;pivot&quot; will be necessary to insert the data). Otherwise <code>data</code> is interpreted as a Sequence of rows.</td></tr><tr><td>settings</td><td>dict</td><td><em>None</em></td><td>See <a href="#settings-argument">settings description</a>.</td></tr><tr><td>insert_context</td><td>InsertContext</td><td><em>None</em></td><td>A reusable InsertContext object can be used to encapsulate the above method arguments.  See <a href="/AlgoliaDocsSelfCrawl/docs/en/integrations/language-clients/python/inserts#insertcontexts">Advanced Inserts (InsertContexts)</a></td></tr></tbody></table><p>This method does not return a value. An exception will be raised if the insert fails for any reason.</p><p>There are two specialized versions of the main <code>query</code> method:</p><ul><li><code>insert_df</code> -- Instead of Python Sequence of Sequences <code>data</code> argument, the second parameter of this method requires
a <code>df</code>
argument that must be a Pandas Dataframe instance. ClickHouse Connect automatically processes the Dataframe as a
column oriented datasource,
so the <code>column_oriented</code> parameter is not required or available.</li><li><code>insert_arrow</code> -- Instead of a Python Sequence of Sequences <code>data</code> argument, this method requires an <code>arrow_table</code>.
ClickHouse
Connect passes the Arrow table unmodified to the ClickHouse server for processing, so only the <code>database</code>
and <code>settings</code> arguments
are available in addition to <code>table</code> and <code>arrow_table</code>.</li></ul><p><em>Note:</em> A Numpy array is a valid Sequence of Sequences and can be used as the <code>data</code> argument to the main <code>insert</code>
method, so a specialized
method is not required.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="file-inserts">File Inserts<a href="#file-inserts" class="hash-link" aria-label="Direct link to File Inserts" title="Direct link to File Inserts">​</a></h2><p>The <code>clickhouse_connect.driver.tools</code> includes the <code>insert_file</code> method that allows inserting data directly from the
file system
into an existing ClickHouse table. Parsing is delegated to the ClickHouse server.  <code>insert_file</code> accepts the following
parameters:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>client</td><td>Client</td><td><em>Required</em></td><td>The <code>driver.Client</code> used to perform the insert</td></tr><tr><td>table</td><td>str</td><td><em>Required</em></td><td>The ClickHouse table to insert into. The full table name (including database) is permitted.</td></tr><tr><td>file_path</td><td>str</td><td><em>Required</em></td><td>The native file system path to the data file</td></tr><tr><td>fmt</td><td>str</td><td>CSV, CSVWithNames</td><td>The ClickHouse Input Format of the file.  CSVWithNames is assumed if <code>column_names</code> is not provided</td></tr><tr><td>column_names</td><td>Sequence of str</td><td><em>None</em></td><td>A list of column_names in the data file.  Not required for formats that include column names</td></tr><tr><td>database</td><td>str</td><td><em>None</em></td><td>Database of the table.  Ignored if the table is fully qualified.  If not specified, the insert will use the client database</td></tr><tr><td>settings</td><td>dict</td><td><em>None</em></td><td>See <a href="#settings-argument">settings description</a>.</td></tr></tbody></table><p>For files with inconsistent data or date/time values in an unusual format, settings that apply to data imports (such as
<code>input_format_allow_errors_num</code> and <code>input_format_allow_errors_num</code>) are recognized for this method.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> clickhouse_connect</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> clickhouse_connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">driver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">tools </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> insert_file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">client </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> clickhouse_connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">get_client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">insert_file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;example_table&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;my_data.csv&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            settings</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;input_format_allow_errors_ratio&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">.2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                      </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;input_format_allow_errors_num&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="raw-api">Raw API<a href="#raw-api" class="hash-link" aria-label="Direct link to Raw API" title="Direct link to Raw API">​</a></h2><p>For use cases which do not require transformation between ClickHouse data and native or third party data types and
structures,
the ClickHouse Connect client provides two methods for direct usage of the ClickHouse connection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-raw_query-method">Client <em>raw_query</em> Method<a href="#client-raw_query-method" class="hash-link" aria-label="Direct link to client-raw_query-method" title="Direct link to client-raw_query-method">​</a></h3><p>The <code>Client.raw_query</code> method allows direct usage of the ClickHouse HTTP query interface using the client connection.
The
return value is an unprocessed <code>bytes</code> object. It offers a convenient wrapper with parameter binding, error handling,
retries, and settings management using a minimal interface:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>query</td><td>str</td><td><em>Required</em></td><td>Any valid ClickHouse query</td></tr><tr><td>parameters</td><td>dict or iterable</td><td><em>None</em></td><td>See <a href="#parameters-argument">parameters description</a>.</td></tr><tr><td>settings</td><td>dict</td><td><em>None</em></td><td>See <a href="#settings-argument">settings description</a>.</td></tr><tr><td>fmt</td><td>str</td><td><em>None</em></td><td>ClickHouse Output Format for the resulting bytes.  (ClickHouse uses TSV if not specified)</td></tr><tr><td>use_database</td><td>bool</td><td>True</td><td>Use the clickhouse-connect Client assigned database for the query context</td></tr></tbody></table><p>It is the caller&#x27;s responsibility to handle the resulting <code>bytes</code> object. Note that the <code>Client.query_arrow</code> is just a
thin wrapper
around this method using the ClickHouse <code>Arrow</code> output format.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-raw_insert-method">Client <em>raw_insert</em> Method<a href="#client-raw_insert-method" class="hash-link" aria-label="Direct link to client-raw_insert-method" title="Direct link to client-raw_insert-method">​</a></h3><p>The <code>Client.raw_insert</code> method allows direct inserts of <code>bytes</code> objects or <code>bytes</code> object generators using the client
connection. Because it does no processing of the insert payload, it is highly performant. The method provides options
to specify settings and insert format:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>table</td><td>str</td><td><em>Required</em></td><td>Either the simple or database qualified table name</td></tr><tr><td>column_names</td><td>Sequence<!-- -->[str]</td><td><em>None</em></td><td>Column names for the insert block.  Required if the <code>fmt</code> parameter does not include names</td></tr><tr><td>insert_block</td><td>str, bytes, Generator<!-- -->[bytes]<!-- -->, BinaryIO</td><td><em>Required</em></td><td>Data to insert.  Strings will be encoding with the client encoding.</td></tr><tr><td>settings</td><td>dict</td><td><em>None</em></td><td>See <a href="#settings-argument">settings description</a>.</td></tr><tr><td>fmt</td><td>str</td><td><em>None</em></td><td>ClickHouse Input Format of the <code>insert_block</code> bytes.  (ClickHouse uses TSV if not specified)</td></tr></tbody></table><p>It is the caller&#x27;s responsibility that the <code>insert_block</code> is in the specified format. ClickHouse Connect uses these raw
inserts for file uploads and PyArrow Tables, delegating parsing to the ClickHouse server.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/integrations/language-clients/python/driver-api.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/AlgoliaDocsSelfCrawl/en/integrations/language-clients/python/queries"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced Queries</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#client-initialization" class="table-of-contents__link toc-highlight">Client Initialization</a><ul><li><a href="#connection-arguments" class="table-of-contents__link toc-highlight">Connection Arguments</a></li><li><a href="#httpstls-arguments" class="table-of-contents__link toc-highlight">HTTPS/TLS Arguments</a></li><li><a href="#settings-argument" class="table-of-contents__link toc-highlight">Settings Argument</a></li><li><a href="#client-creation-examples" class="table-of-contents__link toc-highlight">Client Creation Examples</a></li></ul></li><li><a href="#common-method-arguments" class="table-of-contents__link toc-highlight">Common Method Arguments</a><ul><li><a href="#parameters-argument" class="table-of-contents__link toc-highlight">Parameters Argument</a></li><li><a href="#settings-argument-1" class="table-of-contents__link toc-highlight">Settings Argument</a></li></ul></li><li><a href="#client-command-method" class="table-of-contents__link toc-highlight">Client <em>command</em> Method</a></li><li><a href="#client-query-method" class="table-of-contents__link toc-highlight">Client <em>query</em> Method</a><ul><li><a href="#the-queryresult-object" class="table-of-contents__link toc-highlight">The QueryResult Object</a></li></ul></li><li><a href="#specialized-client-query-methods" class="table-of-contents__link toc-highlight">Specialized Client Query Methods</a></li><li><a href="#client-streaming-query-methods" class="table-of-contents__link toc-highlight">Client Streaming Query Methods</a></li><li><a href="#client-insert-method" class="table-of-contents__link toc-highlight">Client <em>insert</em> Method</a></li><li><a href="#file-inserts" class="table-of-contents__link toc-highlight">File Inserts</a></li><li><a href="#raw-api" class="table-of-contents__link toc-highlight">Raw API</a><ul><li><a href="#client-raw_query-method" class="table-of-contents__link toc-highlight">Client <em>raw_query</em> Method</a></li><li><a href="#client-raw_insert-method" class="table-of-contents__link toc-highlight">Client <em>raw_insert</em> Method</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.meetup.com/pro/clickhouse/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meetup<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse Documentation" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/AlgoliaDocsSelfCrawl/img/logo_without_text.svg" alt="ClickHouse Documentation" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright &copy; 2016&ndash;2023 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA 4.0 license. ClickHouse&reg; is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/AlgoliaDocsSelfCrawl/assets/js/runtime~main.a6f8e9bb.js"></script>
<script src="/AlgoliaDocsSelfCrawl/assets/js/main.fe8c4ec3.js"></script>
</body>
</html>