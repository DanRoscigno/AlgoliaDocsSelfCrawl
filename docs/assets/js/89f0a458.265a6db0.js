"use strict";(self.webpackChunkclickhouse_docs_2_3_0=self.webpackChunkclickhouse_docs_2_3_0||[]).push([[96615],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>b});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=o,b=u["".concat(l,".").concat(m)]||u[m]||p[m]||r;return n?i.createElement(b,a(a({ref:t},d),{},{components:n})):i.createElement(b,a({ref:t},d))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,a[1]=s;for(var c=2;c<r;c++)a[c]=n[c];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},49234:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var i=n(87462),o=(n(67294),n(3905));const r={sidebar_label:"Limitations",sidebar_position:9,slug:"/en/integrations/dbt/dbt-limitations",description:"Limitations of the dbt ClickHouse plugin"},a="Limitations",s={unversionedId:"en/integrations/data-ingestion/etl-tools/dbt/dbt-limitations",id:"en/integrations/data-ingestion/etl-tools/dbt/dbt-limitations",title:"Limitations",description:"Limitations of the dbt ClickHouse plugin",source:"@site/docs/en/integrations/data-ingestion/etl-tools/dbt/dbt-limitations.md",sourceDirName:"en/integrations/data-ingestion/etl-tools/dbt",slug:"/en/integrations/dbt/dbt-limitations",permalink:"/docs/en/integrations/dbt/dbt-limitations",draft:!1,editUrl:"https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/integrations/data-ingestion/etl-tools/dbt/dbt-limitations.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_label:"Limitations",sidebar_position:9,slug:"/en/integrations/dbt/dbt-limitations",description:"Limitations of the dbt ClickHouse plugin"},sidebar:"english",previous:{title:"Seeds",permalink:"/docs/en/integrations/dbt/dbt-seeds"},next:{title:"Vector",permalink:"/docs/en/integrations/vector-to-clickhouse"}},l={},c=[],d={toc:c},u="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"limitations"},"Limitations"),(0,o.kt)("p",null,"The current ClickHouse plugin for dbt has several limitations users should be aware of:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The plugin currently materializes models as tables using an ",(0,o.kt)("inlineCode",{parentName:"li"},"INSERT TO SELECT"),". This effectively means data duplication. Very large datasets (PB) can result in extremely long run times, making some models unviable. Aim to minimize the number of rows returned by any query, utilizing GROUP BY where possible. Prefer models which summarize data over those which simply perform a transform whilst maintaining row counts of the source."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://docs.getdbt.com/docs/building-a-dbt-project/building-models/materializations#ephemeral"},"Ephemeral materializations")," are not supported."),(0,o.kt)("li",{parentName:"ol"},"To use Distributed tables to represent a model, users must create the underlying replicated tables on each node manually. The Distributed table can, in turn, be created on top of these. The plugin does not manage cluster creation."),(0,o.kt)("li",{parentName:"ol"},"Only the ClickHouse native protocol is supported. There is no support for HTTP."),(0,o.kt)("li",{parentName:"ol"},"When dbt creates a relation (table/view) in a database, it usually creates it as: ",(0,o.kt)("inlineCode",{parentName:"li"},"{{ database }}.{{ schema }}.{{ table/view id }}"),". ClickHouse has no notion of schemas. The plugin therefore uses ",(0,o.kt)("inlineCode",{parentName:"li"},"{{schema}}.{{ table/view id }}"),", where ",(0,o.kt)("inlineCode",{parentName:"li"},"schema")," is the ClickHouse database.")),(0,o.kt)("p",null,"Further Information"),(0,o.kt)("p",null,"The previous guides only touch the surface of dbt functionality. Users are recommended to read the excellent ",(0,o.kt)("a",{parentName:"p",href:"https://docs.getdbt.com/docs/introduction"},"dbt documentation"),"."),(0,o.kt)("p",null,"Additional configuration for the plugin is described ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/silentsokolov/dbt-clickhouse#model-configuration"},"here"),"."))}p.isMDXComponent=!0}}]);